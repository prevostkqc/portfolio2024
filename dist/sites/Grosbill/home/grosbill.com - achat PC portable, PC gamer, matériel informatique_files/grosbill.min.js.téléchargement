/* grosbill-min.js 20170814 */
/*responsiveslides.js*/!function (t, n, a) { t.fn.responsiveSlides = function (e) { var s = t.extend({ auto: !0, speed: 500, timeout: 6e3, pager: !1, nav: !1, random: !1, pause: !1, pauseControls: !0, prevText: "Previous", nextText: "Next", maxwidth: "", navContainer: "", manualControls: "", namespace: "rslides", before: t.noop, after: t.noop }, e); return this.each(function () { a++; var o, i, r, l, u, c, f = t(this), d = 0, p = f.children(), h = p.length, v = parseFloat(s.speed), m = parseFloat(s.timeout), C = parseFloat(s.maxwidth), x = s.namespace, y = x + a, b = x + "_nav " + y + "_nav", g = x + "_here", w = y + "_on", _ = y + "_s", I = t("<ul class='" + x + "_tabs " + y + "_tabs' />"), q = { "float": "left", position: "relative", opacity: 1, zIndex: 2 }, z = { "float": "none", position: "absolute", opacity: 0, zIndex: 1 }, T = function () { var t = document.body || document.documentElement, n = t.style, a = "transition"; if ("string" == typeof n[a]) return !0; o = ["Moz", "Webkit", "Khtml", "O", "ms"], a = a.charAt(0).toUpperCase() + a.substr(1); var e; for (e = 0; e < o.length; e++) if ("string" == typeof n[o[e] + a]) return !0; return !1 }(), k = function (n) { s.before(n), T ? (p.removeClass(w).css(z).eq(n).addClass(w).css(q), d = n, setTimeout(function () { s.after(n) }, v)) : p.stop().fadeOut(v, function () { t(this).removeClass(w).css(z).css("opacity", 1) }).eq(n).fadeIn(v, function () { t(this).addClass(w).css(q), s.after(n), d = n }) }; if (s.random && (p.sort(function () { return Math.round(Math.random()) - .5 }), f.empty().append(p)), p.each(function (t) { this.id = _ + t }), f.addClass(x + " " + y), e && e.maxwidth && f.css("max-width", C), p.hide().css(z).eq(0).addClass(w).css(q).show(), T && p.show().css({ "-webkit-transition": "opacity " + v + "ms ease-in-out", "-moz-transition": "opacity " + v + "ms ease-in-out", "-o-transition": "opacity " + v + "ms ease-in-out", transition: "opacity " + v + "ms ease-in-out" }), p.length > 1) { if (v + 100 > m) return; if (s.pager && !s.manualControls) { var F = []; p.each(function (t) { var n = t + 1; F += "<li><a href='#' class='" + _ + n + "'>" + n + "</a></li>" }), I.append(F), e.navContainer ? t(s.navContainer).append(I) : f.after(I) } if (s.manualControls && (I = t(s.manualControls), I.addClass(x + "_tabs " + y + "_tabs")), (s.pager || s.manualControls) && I.find("li").each(function (n) { t(this).addClass(_ + (n + 1)) }), (s.pager || s.manualControls) && (c = I.find("a"), i = function (t) { c.closest("li").removeClass(g).eq(t).addClass(g) }), s.auto && (r = function () { u = setInterval(function () { p.stop(!0, !0); var t = h > d + 1 ? d + 1 : 0; (s.pager || s.manualControls) && i(t), k(t) }, m) })(), l = function () { s.auto && (clearInterval(u), r()) }, s.pause && f.hover(function () { clearInterval(u) }, function () { l() }), (s.pager || s.manualControls) && (c.bind("click", function (n) { n.preventDefault(), s.pauseControls || l(); var a = c.index(this); d === a || t("." + w).queue("fx").length || (i(a), k(a)) }).eq(0).closest("li").addClass(g), s.pauseControls && c.hover(function () { clearInterval(u) }, function () { l() })), s.nav) { var M = "<a href='#' class='" + b + " prev'>" + s.prevText + "</a><a href='#' class='" + b + " next'>" + s.nextText + "</a>"; e.navContainer ? t(s.navContainer).append(M) : f.after(M); var D = t("." + y + "_nav"), O = D.filter(".prev"); D.bind("click", function (n) { n.preventDefault(); var a = t("." + w); if (!a.queue("fx").length) { var e = p.index(a), o = e - 1, r = h > e + 1 ? d + 1 : 0; k(t(this)[0] === O[0] ? o : r), (s.pager || s.manualControls) && i(t(this)[0] === O[0] ? o : r), s.pauseControls || l() } }), s.pauseControls && D.hover(function () { clearInterval(u) }, function () { l() }) } } if ("undefined" == typeof document.body.style.maxWidth && e.maxwidth) { var W = function () { f.css("width", "100%"), f.width() > C && f.css("width", C) }; W(), t(n).bind("resize", function () { W() }) } }) } }(jQuery, this, 0);
/*pgwslider.js*/!function (i) { i.fn.pgwSlider = function (n) { var t = { mainClassName: "pgwSlider", listPosition: "left", selectionMode: "mouseOver", transitionEffect: "fading", autoSlide: !1, displayList: !0, displayControls: !1, touchControls: !0, verticalCentering: !1, adaptiveHeight: !1, maxHeight: null, beforeSlide: null, afterSlide: null, adaptiveDuration: 200, transitionDuration: 500, intervalDuration: 3e3 }; if (0 == this.length) return this; if (this.length > 1) return this.each(function () { i(this).pgwSlider(n) }), this; var e = this; e.plugin = this, e.data = [], e.config = {}, e.currentSlide = 0, e.slideCount = 0, e.resizeEvent = null, e.intervalEvent = null, e.touchFirstPosition = null, e.transitionInProgress = !1, e.window = i(window); var s = function () { return e.config = i.extend({}, t, n), u(), e.config.autoSlide && p(), !0 }, o = function (i) { var n = {}, t = i.find("a").attr("href"); if ("undefined" != typeof t && "" != t) { n.link = t; var e = i.find("a").attr("target"); "undefined" != typeof e && "" != e && (n.linkTarget = e) } var s = i.find("img").attr("src"); "undefined" != typeof s && "" != s && (n.thumbnail = s); var o = i.find("img").attr("data-large-src"); "undefined" != typeof o && "" != o && (n.image = o); var l = i.find("span").text(); if ("undefined" != typeof l && "" != l && null != l) n.title = l; else { var r = i.find("img").attr("alt"); "undefined" != typeof r && "" != r && (n.title = r) } var u = i.find("img").attr("data-description"); return "undefined" != typeof u && "" != u && (n.description = u), n }, l = function (n, t) { return e.config.maxHeight && (e.plugin.width() > 480 && n > e.config.maxHeight ? n = e.config.maxHeight : e.plugin.width() <= 480 && n + e.plugin.find(".ps-list").height() > e.config.maxHeight && (n = e.config.maxHeight - e.plugin.find(".ps-list").height())), clearTimeout(e.resizeEvent), e.resizeEvent = setTimeout(function () { var s = (n - 6 * (e.slideCount - 1)) / e.slideCount, o = 100 / e.slideCount; e.plugin.find(".ps-list > li").css({ width: o + "%" }), "undefined" != typeof t && t && null == e.config.maxHeight && "function" == typeof e.plugin.find(".ps-current").animate ? e.plugin.find(".ps-current").animate({ height: n }, e.config.adaptiveDuration, function () { e.plugin.find(".ps-list > li").animate({ height: s }, e.config.adaptiveDuration) }) : (e.plugin.find(".ps-current").css("height", n), e.plugin.find(".ps-list > li").css("height", s)), e.config.verticalCentering && (e.plugin.find(".ps-list > li").each(function () { if (s > 50 && i(this).find("li").height() > s) { var n = Math.round((i(this).find("li").height() - s) / 2); i(this).find("li").css("margin-top", -n) } else if (i(this).find("li").height() < s) { var n = Math.round((s - i(this).find("li").height()) / 2); i(this).find("li").css("margin-top", n) } else i(this).find("li").css("margin-top", "") }), e.plugin.find(".ps-current > ul > li").each(function () { var t = "none" == i(this).css("display") ? !1 : !0; if (t || i(this).show(), i(this).show().find("img").height() > n) { var e = Math.round((i(this).find("img").height() - n) / 2); i(this).find("img").css("margin-top", -e) } else if (i(this).show().find("img").height() < n) { var e = Math.round((n - i(this).find("img").height()) / 2); i(this).find("img").css("margin-top", e) } else i(this).find("img").css("margin-top", ""); t || i(this).hide() })) }, 100), !0 }, r = function () { return e.plugin.width() <= 480 ? e.plugin.addClass("narrow").removeClass("wide") : e.plugin.addClass("wide").removeClass("narrow"), !0 }, u = function () { if (e.plugin.removeClass(e.config.mainClassName).addClass("ps-list"), e.plugin.wrap('<div class="' + e.config.mainClassName + '"></div>'), e.plugin = e.plugin.parent(), e.plugin.prepend('<div class="ps-current"><ul></ul><span class="ps-caption"></span></div>'), e.slideCount = e.plugin.find(".ps-list > li").length, 0 == e.slideCount) throw new Error("PgwSlider - No slider item has been found"); e.config.displayControls && e.slideCount > 1 && (e.plugin.find(".ps-current").prepend('<span class="ps-prev"><span class="ps-prevIcon"></span></span>'), e.plugin.find(".ps-current").append('<span class="ps-next"><span class="ps-nextIcon"></span></span>'), e.plugin.find(".ps-current .ps-prev").click(function () { e.previousSlide() }), e.plugin.find(".ps-current .ps-next").click(function () { e.nextSlide() })), e.config.displayList || (e.plugin.find(".ps-current").css("width", "100%"), e.plugin.find(".ps-list").hide()); var n = 1; return e.plugin.find(".ps-list > li").each(function () { var t = o(i(this)); t.id = n, e.data.push(t), i(this).addClass("elt_" + t.id), t.title && (1 == i(this).find("span").length ? "" == i(this).find("span").text() && i(this).find("span").text(t.title) : i(this).find("img").after("<span>" + t.title + "</span>")); var s = i('<li class="elt_' + n + '"></li>'); t.image ? s.html('<img src="' + t.image + '" alt="' + (t.title ? t.title : "") + '">') : t.thumbnail && s.html('<img src="' + t.thumbnail + '" alt="' + (t.title ? t.title : "") + '">'), t.link && s.html('<a href="' + i(this).find("img").attr("src") + '"' + (t.linkTarget ? ' target="' + t.linkTarget + '"' : "") + ' class="fancybox-thumb" rel="fancybox-thumb">' + s.html() + "</a>"), e.plugin.find(".ps-current > ul").append(s), "mouseOver" == e.config.selectionMode && "fading" == e.config.transitionEffect ? (i(this).css("cursor", "default").click(function (i) { i.preventDefault() }).bind("mouseenter", function (i) { d(t.id) }), i(this).find("a").css("cursor", "default")) : i(this).css("cursor", "pointer").click(function (i) { i.preventDefault(), d(t.id) }), n++ }), "left" == e.config.listPosition && e.plugin.addClass("listOnTheLeft"), e.config.autoSlide && e.plugin.on("mouseenter", function () { clearInterval(e.intervalEvent), e.intervalEvent = null }).on("mouseleave", function () { p() }), d(1), e.plugin.find(".ps-current > ul > li.elt_1 img").on("load", function () { r(); var i = e.plugin.find(".ps-current > ul > li.elt_1 img").height(); l(i), e.window.resize(function () { r(); var i = e.plugin.find(".ps-current > ul > li.elt_" + e.currentSlide + " img").height(); l(i, e.config.adaptiveHeight) }) }), e.config.touchControls && e.slideCount > 1 && (e.plugin.find(".ps-current").on("touchstart", function (i) { try { i.originalEvent.touches[0].clientX && null == e.touchFirstPosition && (e.touchFirstPosition = i.originalEvent.touches[0].clientX) } catch (i) { e.touchFirstPosition = null } }), e.plugin.find(".ps-current").on("touchmove", function (i) { try { i.originalEvent.touches[0].clientX && null != e.touchFirstPosition && (i.originalEvent.touches[0].clientX > e.touchFirstPosition + 50 ? (e.touchFirstPosition = null, e.previousSlide()) : i.originalEvent.touches[0].clientX < e.touchFirstPosition - 50 && (e.touchFirstPosition = null, e.nextSlide())) } catch (i) { e.touchFirstPosition = null } }), e.plugin.find(".ps-current").on("touchend", function (i) { e.touchFirstPosition = null })), !0 }, a = function (i) { var n = ""; if (i.title && (n += "<b>" + i.title + "</b>"), i.description && ("" != n && (n += "<br>"), n += i.description), "" != n && (i.link && (n = '<a href="' + i.link + '"' + (i.linkTarget ? ' target="' + i.linkTarget + '"' : "") + ">" + n + "</a>"), "function" == typeof e.plugin.find(".ps-caption").fadeIn ? (e.plugin.find(".ps-caption").html(n), e.plugin.find(".ps-caption").fadeIn(e.config.transitionDuration / 2)) : (e.plugin.find(".ps-caption").html(n), e.plugin.find(".ps-caption").show())), e.config.displayControls && ("function" == typeof e.plugin.find(".ps-current > .ps-prev").fadeIn ? e.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").fadeIn(e.config.transitionDuration / 2) : e.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").show()), "function" == typeof e.config.afterSlide && e.config.afterSlide(i.id), e.config.adaptiveHeight) { var t = e.plugin.find(".ps-current .elt_" + i.id + " img").height(); l(t, !0) } return !0 }, c = function (n) { var t = e.plugin.find(".ps-current > ul"); if (e.plugin.find(".ps-list > li").css("opacity", "0.6"), e.plugin.find(".ps-list > li.elt_" + n.id).css("opacity", "1"), t.find("li").not(".elt_" + e.currentSlide).not(".elt_" + n.id).each(function () { "function" == typeof i(this).stop && i(this).stop(), i(this).css("position", "").css("z-index", 1).hide() }), e.currentSlide > 0) { var s = t.find(".elt_" + e.currentSlide); "function" != typeof s.animate && (s.animate = function (i, n, t) { s.css(i), t && t() }), "function" == typeof s.stop && s.stop(), s.css("position", "absolute").animate({ opacity: 0 }, e.config.transitionDuration, function () { s.css("position", "").css("z-index", 1).hide() }) } e.currentSlide = n.id; var o = t.find(".elt_" + n.id); return "function" != typeof o.animate && (o.animate = function (i, n, t) { o.css(i), t && t() }), "function" == typeof o.stop && o.stop(), o.css("position", "absolute").show().animate({ opacity: 1 }, e.config.transitionDuration, function () { o.css("position", "").css("z-index", 2).show(), a(n) }), !0 }, f = function (i, n) { var t = e.plugin.find(".ps-current > ul"); if ("undefined" == typeof n && (n = "left"), 0 == e.currentSlide) t.find(".elt_1").css({ position: "", left: "", opacity: 1, "z-index": 2 }).show(), e.plugin.find(".ps-list > li.elt_1").css("opacity", "1"), a(i); else { if (e.transitionInProgress) return !1; e.transitionInProgress = !0; var s = t.width(); if ("left" == n) var o = -s, l = s; else var o = s, l = -s; var r = t.find(".elt_" + e.currentSlide); "function" != typeof r.animate && (r.animate = function (i, n, t) { r.css(i), t && t() }), r.css("position", "absolute").animate({ left: o }, e.config.transitionDuration, function () { r.css("position", "").css("z-index", 1).css("left", "").css("opacity", 0).hide() }); var u = t.find(".elt_" + i.id); "function" != typeof u.animate && (u.animate = function (i, n, t) { u.css(i), t && t() }), u.css("position", "absolute").css("left", l).css("opacity", 1).show().animate({ left: 0 }, e.config.transitionDuration, function () { u.css("position", "").css("left", "").css("z-index", 2).show(), e.transitionInProgress = !1, e.plugin.find(".ps-list > li").css("opacity", "0.6"), e.plugin.find(".ps-list > li.elt_" + i.id).css("opacity", "1"), a(i) }) } return e.currentSlide = i.id, !0 }, d = function (i, n, t) { if (i == e.currentSlide) return !1; var s = e.data[i - 1]; if ("undefined" == typeof s) throw new Error("PgwSlider - The element " + i + " is undefined"); return "undefined" == typeof t && (t = "left"), "function" == typeof e.config.beforeSlide && e.config.beforeSlide(i), "function" == typeof e.plugin.find(".ps-caption").fadeOut ? e.plugin.find(".ps-caption, .ps-prev, .ps-next").fadeOut(e.config.transitionDuration / 2) : e.plugin.find(".ps-caption, .ps-prev, .ps-next").hide(), "sliding" == e.config.transitionEffect ? f(s, t) : c(s), "undefined" != typeof n && e.config.autoSlide && p(), !0 }, p = function () { return clearInterval(e.intervalEvent), e.slideCount > 1 && e.config.autoSlide && (e.intervalEvent = setInterval(function () { if (e.currentSlide + 1 <= e.slideCount) var i = e.currentSlide + 1; else var i = 1; d(i) }, e.config.intervalDuration)), !0 }; return e.startSlide = function () { return e.config.autoSlide = !0, p(), !0 }, e.stopSlide = function () { return e.config.autoSlide = !1, clearInterval(e.intervalEvent), !0 }, e.getCurrentSlide = function () { return e.currentSlide }, e.getSlideCount = function () { return e.slideCount }, e.displaySlide = function (i) { return d(i, !0), !0 }, e.nextSlide = function () { if (e.currentSlide + 1 <= e.slideCount) var i = e.currentSlide + 1; else var i = 1; return d(i, !0, "left"), !0 }, e.previousSlide = function () { if (e.currentSlide - 1 >= 1) var i = e.currentSlide - 1; else var i = e.slideCount; return d(i, !0, "right"), !0 }, e.destroy = function (n) { return clearInterval(e.intervalEvent), "undefined" != typeof n ? (e.plugin.find(".ps-list > li").each(function () { i(this).attr("style", null).removeClass().css("cursor", "").unbind("click").unbind("mouseenter"), i(this).find("a").css("cursor", ""), i(this).find("img").attr("style", null) }), e.plugin.find(".ps-list").addClass(e.config.mainClassName).removeClass("ps-list"), e.plugin.find(".ps-current").unwrap().remove(), e.hide()) : e.parent().remove(), e.plugin = null, e.data = [], e.config = {}, e.currentSlide = 0, e.slideCount = 0, e.resizeEvent = null, e.intervalEvent = null, e.touchFirstPosition = null, e.transitionInProgress = !1, e.window = null, !0 }, e.reload = function (n) { return e.destroy(!0), e = this, e.plugin = this, e.window = i(window), e.plugin.show(), e.config = i.extend({}, t, n), u(), e.config.autoSlide && p(), !0 }, s(), this } }(window.Zepto || window.jQuery);
/*jquery.mCustomScrollbar.concat.min.js == jquery mousewheel plugin == Version: 3.1.13, License: MIT License (MIT) */!function (a) { "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a : a(jQuery) }(function (a) { function b(b) { var g = b || window.event, h = i.call(arguments, 1), j = 0, l = 0, m = 0, n = 0, o = 0, p = 0; if (b = a.event.fix(g), b.type = "mousewheel", "detail" in g && (m = -1 * g.detail), "wheelDelta" in g && (m = g.wheelDelta), "wheelDeltaY" in g && (m = g.wheelDeltaY), "wheelDeltaX" in g && (l = -1 * g.wheelDeltaX), "axis" in g && g.axis === g.HORIZONTAL_AXIS && (l = -1 * m, m = 0), j = 0 === m ? l : m, "deltaY" in g && (m = -1 * g.deltaY, j = m), "deltaX" in g && (l = g.deltaX, 0 === m && (j = -1 * l)), 0 !== m || 0 !== l) { if (1 === g.deltaMode) { var q = a.data(this, "mousewheel-line-height"); j *= q, m *= q, l *= q } else if (2 === g.deltaMode) { var r = a.data(this, "mousewheel-page-height"); j *= r, m *= r, l *= r } if (n = Math.max(Math.abs(m), Math.abs(l)), (!f || f > n) && (f = n, d(g, n) && (f /= 40)), d(g, n) && (j /= 40, l /= 40, m /= 40), j = Math[j >= 1 ? "floor" : "ceil"](j / f), l = Math[l >= 1 ? "floor" : "ceil"](l / f), m = Math[m >= 1 ? "floor" : "ceil"](m / f), k.settings.normalizeOffset && this.getBoundingClientRect) { var s = this.getBoundingClientRect(); o = b.clientX - s.left, p = b.clientY - s.top } return b.deltaX = l, b.deltaY = m, b.deltaFactor = f, b.offsetX = o, b.offsetY = p, b.deltaMode = 0, h.unshift(b, j, l, m), e && clearTimeout(e), e = setTimeout(c, 200), (a.event.dispatch || a.event.handle).apply(this, h) } } function c() { f = null } function d(a, b) { return k.settings.adjustOldDeltas && "mousewheel" === a.type && b % 120 === 0 } var e, f, g = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], h = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], i = Array.prototype.slice; if (a.event.fixHooks) for (var j = g.length; j;) a.event.fixHooks[g[--j]] = a.event.mouseHooks; var k = a.event.special.mousewheel = { version: "3.1.12", setup: function () { if (this.addEventListener) for (var c = h.length; c;) this.addEventListener(h[--c], b, !1); else this.onmousewheel = b; a.data(this, "mousewheel-line-height", k.getLineHeight(this)), a.data(this, "mousewheel-page-height", k.getPageHeight(this)) }, teardown: function () { if (this.removeEventListener) for (var c = h.length; c;) this.removeEventListener(h[--c], b, !1); else this.onmousewheel = null; a.removeData(this, "mousewheel-line-height"), a.removeData(this, "mousewheel-page-height") }, getLineHeight: function (b) { var c = a(b), d = c["offsetParent" in a.fn ? "offsetParent" : "parent"](); return d.length || (d = a("body")), parseInt(d.css("fontSize"), 10) || parseInt(c.css("fontSize"), 10) || 16 }, getPageHeight: function (b) { return a(b).height() }, settings: { adjustOldDeltas: !0, normalizeOffset: !0 } }; a.fn.extend({ mousewheel: function (a) { return a ? this.bind("mousewheel", a) : this.trigger("mousewheel") }, unmousewheel: function (a) { return this.unbind("mousewheel", a) } }) }); !function (a) { "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a : a(jQuery) }(function (a) { function b(b) { var g = b || window.event, h = i.call(arguments, 1), j = 0, l = 0, m = 0, n = 0, o = 0, p = 0; if (b = a.event.fix(g), b.type = "mousewheel", "detail" in g && (m = -1 * g.detail), "wheelDelta" in g && (m = g.wheelDelta), "wheelDeltaY" in g && (m = g.wheelDeltaY), "wheelDeltaX" in g && (l = -1 * g.wheelDeltaX), "axis" in g && g.axis === g.HORIZONTAL_AXIS && (l = -1 * m, m = 0), j = 0 === m ? l : m, "deltaY" in g && (m = -1 * g.deltaY, j = m), "deltaX" in g && (l = g.deltaX, 0 === m && (j = -1 * l)), 0 !== m || 0 !== l) { if (1 === g.deltaMode) { var q = a.data(this, "mousewheel-line-height"); j *= q, m *= q, l *= q } else if (2 === g.deltaMode) { var r = a.data(this, "mousewheel-page-height"); j *= r, m *= r, l *= r } if (n = Math.max(Math.abs(m), Math.abs(l)), (!f || f > n) && (f = n, d(g, n) && (f /= 40)), d(g, n) && (j /= 40, l /= 40, m /= 40), j = Math[j >= 1 ? "floor" : "ceil"](j / f), l = Math[l >= 1 ? "floor" : "ceil"](l / f), m = Math[m >= 1 ? "floor" : "ceil"](m / f), k.settings.normalizeOffset && this.getBoundingClientRect) { var s = this.getBoundingClientRect(); o = b.clientX - s.left, p = b.clientY - s.top } return b.deltaX = l, b.deltaY = m, b.deltaFactor = f, b.offsetX = o, b.offsetY = p, b.deltaMode = 0, h.unshift(b, j, l, m), e && clearTimeout(e), e = setTimeout(c, 200), (a.event.dispatch || a.event.handle).apply(this, h) } } function c() { f = null } function d(a, b) { return k.settings.adjustOldDeltas && "mousewheel" === a.type && b % 120 === 0 } var e, f, g = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], h = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], i = Array.prototype.slice; if (a.event.fixHooks) for (var j = g.length; j;) a.event.fixHooks[g[--j]] = a.event.mouseHooks; var k = a.event.special.mousewheel = { version: "3.1.12", setup: function () { if (this.addEventListener) for (var c = h.length; c;) this.addEventListener(h[--c], b, !1); else this.onmousewheel = b; a.data(this, "mousewheel-line-height", k.getLineHeight(this)), a.data(this, "mousewheel-page-height", k.getPageHeight(this)) }, teardown: function () { if (this.removeEventListener) for (var c = h.length; c;) this.removeEventListener(h[--c], b, !1); else this.onmousewheel = null; a.removeData(this, "mousewheel-line-height"), a.removeData(this, "mousewheel-page-height") }, getLineHeight: function (b) { var c = a(b), d = c["offsetParent" in a.fn ? "offsetParent" : "parent"](); return d.length || (d = a("body")), parseInt(d.css("fontSize"), 10) || parseInt(c.css("fontSize"), 10) || 16 }, getPageHeight: function (b) { return a(b).height() }, settings: { adjustOldDeltas: !0, normalizeOffset: !0 } }; a.fn.extend({ mousewheel: function (a) { return a ? this.bind("mousewheel", a) : this.trigger("mousewheel") }, unmousewheel: function (a) { return this.unbind("mousewheel", a) } }) });/* == malihu jquery custom scrollbar plugin == Version: 3.1.5, License: MIT License (MIT) */!function (e) { "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof module && module.exports ? module.exports = e : e(jQuery, window, document) }(function (e) { !function (t) { var o = "function" == typeof define && define.amd, a = "undefined" != typeof module && module.exports, n = "https:" == document.location.protocol ? "https:" : "http:", i = "cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js"; o || (a ? require("jquery-mousewheel")(e) : e.event.special.mousewheel || e("head").append(decodeURI("%3Cscript src=" + n + "//" + i + "%3E%3C/script%3E"))), t() }(function () { var t, o = "mCustomScrollbar", a = "mCS", n = ".mCustomScrollbar", i = { setTop: 0, setLeft: 0, axis: "y", scrollbarPosition: "inside", scrollInertia: 950, autoDraggerLength: !0, alwaysShowScrollbar: 0, snapOffset: 0, mouseWheel: { enable: !0, scrollAmount: "auto", axis: "y", deltaFactor: "auto", disableOver: ["select", "option", "keygen", "datalist", "textarea"] }, scrollButtons: { scrollType: "stepless", scrollAmount: "auto" }, keyboard: { enable: !0, scrollType: "stepless", scrollAmount: "auto" }, contentTouchScroll: 25, documentTouchScroll: !0, advanced: { autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']", updateOnContentResize: !0, updateOnImageLoad: "auto", autoUpdateTimeout: 60 }, theme: "light", callbacks: { onTotalScrollOffset: 0, onTotalScrollBackOffset: 0, alwaysTriggerOffsets: !0 } }, r = 0, l = {}, s = window.attachEvent && !window.addEventListener ? 1 : 0, c = !1, d = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag", "mCS_img_loaded", "mCS_disabled", "mCS_destroyed", "mCS_no_scrollbar", "mCS-autoHide", "mCS-dir-rtl", "mCS_no_scrollbar_y", "mCS_no_scrollbar_x", "mCS_y_hidden", "mCS_x_hidden", "mCSB_draggerContainer", "mCSB_buttonUp", "mCSB_buttonDown", "mCSB_buttonLeft", "mCSB_buttonRight"], u = { init: function (t) { var t = e.extend(!0, {}, i, t), o = f.call(this); if (t.live) { var s = t.liveSelector || this.selector || n, c = e(s); if ("off" === t.live) return void m(s); l[s] = setTimeout(function () { c.mCustomScrollbar(t), "once" === t.live && c.length && m(s) }, 500) } else m(s); return t.setWidth = t.set_width ? t.set_width : t.setWidth, t.setHeight = t.set_height ? t.set_height : t.setHeight, t.axis = t.horizontalScroll ? "x" : p(t.axis), t.scrollInertia = t.scrollInertia > 0 && t.scrollInertia < 17 ? 17 : t.scrollInertia, "object" != typeof t.mouseWheel && 1 == t.mouseWheel && (t.mouseWheel = { enable: !0, scrollAmount: "auto", axis: "y", preventDefault: !1, deltaFactor: "auto", normalizeDelta: !1, invert: !1 }), t.mouseWheel.scrollAmount = t.mouseWheelPixels ? t.mouseWheelPixels : t.mouseWheel.scrollAmount, t.mouseWheel.normalizeDelta = t.advanced.normalizeMouseWheelDelta ? t.advanced.normalizeMouseWheelDelta : t.mouseWheel.normalizeDelta, t.scrollButtons.scrollType = g(t.scrollButtons.scrollType), h(t), e(o).each(function () { var o = e(this); if (!o.data(a)) { o.data(a, { idx: ++r, opt: t, scrollRatio: { y: null, x: null }, overflowed: null, contentReset: { y: null, x: null }, bindEvents: !1, tweenRunning: !1, sequential: {}, langDir: o.css("direction"), cbOffsets: null, trigger: null, poll: { size: { o: 0, n: 0 }, img: { o: 0, n: 0 }, change: { o: 0, n: 0 } } }); var n = o.data(a), i = n.opt, l = o.data("mcs-axis"), s = o.data("mcs-scrollbar-position"), c = o.data("mcs-theme"); l && (i.axis = l), s && (i.scrollbarPosition = s), c && (i.theme = c, h(i)), v.call(this), n && i.callbacks.onCreate && "function" == typeof i.callbacks.onCreate && i.callbacks.onCreate.call(this), e("#mCSB_" + n.idx + "_container img:not(." + d[2] + ")").addClass(d[2]), u.update.call(null, o) } }) }, update: function (t, o) { var n = t || f.call(this); return e(n).each(function () { var t = e(this); if (t.data(a)) { var n = t.data(a), i = n.opt, r = e("#mCSB_" + n.idx + "_container"), l = e("#mCSB_" + n.idx), s = [e("#mCSB_" + n.idx + "_dragger_vertical"), e("#mCSB_" + n.idx + "_dragger_horizontal")]; if (!r.length) return; n.tweenRunning && Q(t), o && n && i.callbacks.onBeforeUpdate && "function" == typeof i.callbacks.onBeforeUpdate && i.callbacks.onBeforeUpdate.call(this), t.hasClass(d[3]) && t.removeClass(d[3]), t.hasClass(d[4]) && t.removeClass(d[4]), l.css("max-height", "none"), l.height() !== t.height() && l.css("max-height", t.height()), _.call(this), "y" === i.axis || i.advanced.autoExpandHorizontalScroll || r.css("width", x(r)), n.overflowed = y.call(this), M.call(this), i.autoDraggerLength && S.call(this), b.call(this), T.call(this); var c = [Math.abs(r[0].offsetTop), Math.abs(r[0].offsetLeft)]; "x" !== i.axis && (n.overflowed[0] ? s[0].height() > s[0].parent().height() ? B.call(this) : (G(t, c[0].toString(), { dir: "y", dur: 0, overwrite: "none" }), n.contentReset.y = null) : (B.call(this), "y" === i.axis ? k.call(this) : "yx" === i.axis && n.overflowed[1] && G(t, c[1].toString(), { dir: "x", dur: 0, overwrite: "none" }))), "y" !== i.axis && (n.overflowed[1] ? s[1].width() > s[1].parent().width() ? B.call(this) : (G(t, c[1].toString(), { dir: "x", dur: 0, overwrite: "none" }), n.contentReset.x = null) : (B.call(this), "x" === i.axis ? k.call(this) : "yx" === i.axis && n.overflowed[0] && G(t, c[0].toString(), { dir: "y", dur: 0, overwrite: "none" }))), o && n && (2 === o && i.callbacks.onImageLoad && "function" == typeof i.callbacks.onImageLoad ? i.callbacks.onImageLoad.call(this) : 3 === o && i.callbacks.onSelectorChange && "function" == typeof i.callbacks.onSelectorChange ? i.callbacks.onSelectorChange.call(this) : i.callbacks.onUpdate && "function" == typeof i.callbacks.onUpdate && i.callbacks.onUpdate.call(this)), N.call(this) } }) }, scrollTo: function (t, o) { if ("undefined" != typeof t && null != t) { var n = f.call(this); return e(n).each(function () { var n = e(this); if (n.data(a)) { var i = n.data(a), r = i.opt, l = { trigger: "external", scrollInertia: r.scrollInertia, scrollEasing: "mcsEaseInOut", moveDragger: !1, timeout: 60, callbacks: !0, onStart: !0, onUpdate: !0, onComplete: !0 }, s = e.extend(!0, {}, l, o), c = Y.call(this, t), d = s.scrollInertia > 0 && s.scrollInertia < 17 ? 17 : s.scrollInertia; c[0] = X.call(this, c[0], "y"), c[1] = X.call(this, c[1], "x"), s.moveDragger && (c[0] *= i.scrollRatio.y, c[1] *= i.scrollRatio.x), s.dur = ne() ? 0 : d, setTimeout(function () { null !== c[0] && "undefined" != typeof c[0] && "x" !== r.axis && i.overflowed[0] && (s.dir = "y", s.overwrite = "all", G(n, c[0].toString(), s)), null !== c[1] && "undefined" != typeof c[1] && "y" !== r.axis && i.overflowed[1] && (s.dir = "x", s.overwrite = "none", G(n, c[1].toString(), s)) }, s.timeout) } }) } }, stop: function () { var t = f.call(this); return e(t).each(function () { var t = e(this); t.data(a) && Q(t) }) }, disable: function (t) { var o = f.call(this); return e(o).each(function () { var o = e(this); if (o.data(a)) { o.data(a); N.call(this, "remove"), k.call(this), t && B.call(this), M.call(this, !0), o.addClass(d[3]) } }) }, destroy: function () { var t = f.call(this); return e(t).each(function () { var n = e(this); if (n.data(a)) { var i = n.data(a), r = i.opt, l = e("#mCSB_" + i.idx), s = e("#mCSB_" + i.idx + "_container"), c = e(".mCSB_" + i.idx + "_scrollbar"); r.live && m(r.liveSelector || e(t).selector), N.call(this, "remove"), k.call(this), B.call(this), n.removeData(a), $(this, "mcs"), c.remove(), s.find("img." + d[2]).removeClass(d[2]), l.replaceWith(s.contents()), n.removeClass(o + " _" + a + "_" + i.idx + " " + d[6] + " " + d[7] + " " + d[5] + " " + d[3]).addClass(d[4]) } }) } }, f = function () { return "object" != typeof e(this) || e(this).length < 1 ? n : this }, h = function (t) { var o = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"], a = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"], n = ["minimal", "minimal-dark"], i = ["minimal", "minimal-dark"], r = ["minimal", "minimal-dark"]; t.autoDraggerLength = e.inArray(t.theme, o) > -1 ? !1 : t.autoDraggerLength, t.autoExpandScrollbar = e.inArray(t.theme, a) > -1 ? !1 : t.autoExpandScrollbar, t.scrollButtons.enable = e.inArray(t.theme, n) > -1 ? !1 : t.scrollButtons.enable, t.autoHideScrollbar = e.inArray(t.theme, i) > -1 ? !0 : t.autoHideScrollbar, t.scrollbarPosition = e.inArray(t.theme, r) > -1 ? "outside" : t.scrollbarPosition }, m = function (e) { l[e] && (clearTimeout(l[e]), $(l, e)) }, p = function (e) { return "yx" === e || "xy" === e || "auto" === e ? "yx" : "x" === e || "horizontal" === e ? "x" : "y" }, g = function (e) { return "stepped" === e || "pixels" === e || "step" === e || "click" === e ? "stepped" : "stepless" }, v = function () { var t = e(this), n = t.data(a), i = n.opt, r = i.autoExpandScrollbar ? " " + d[1] + "_expand" : "", l = ["<div id='mCSB_" + n.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + n.idx + "_scrollbar mCS-" + i.theme + " mCSB_scrollTools_vertical" + r + "'><div class='" + d[12] + "'><div id='mCSB_" + n.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + n.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + n.idx + "_scrollbar mCS-" + i.theme + " mCSB_scrollTools_horizontal" + r + "'><div class='" + d[12] + "'><div id='mCSB_" + n.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"], s = "yx" === i.axis ? "mCSB_vertical_horizontal" : "x" === i.axis ? "mCSB_horizontal" : "mCSB_vertical", c = "yx" === i.axis ? l[0] + l[1] : "x" === i.axis ? l[1] : l[0], u = "yx" === i.axis ? "<div id='mCSB_" + n.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : "", f = i.autoHideScrollbar ? " " + d[6] : "", h = "x" !== i.axis && "rtl" === n.langDir ? " " + d[7] : ""; i.setWidth && t.css("width", i.setWidth), i.setHeight && t.css("height", i.setHeight), i.setLeft = "y" !== i.axis && "rtl" === n.langDir ? "989999px" : i.setLeft, t.addClass(o + " _" + a + "_" + n.idx + f + h).wrapInner("<div id='mCSB_" + n.idx + "' class='mCustomScrollBox mCS-" + i.theme + " " + s + "'><div id='mCSB_" + n.idx + "_container' class='mCSB_container' style='position:relative; top:" + i.setTop + "; left:" + i.setLeft + ";' dir='" + n.langDir + "' /></div>"); var m = e("#mCSB_" + n.idx), p = e("#mCSB_" + n.idx + "_container"); "y" === i.axis || i.advanced.autoExpandHorizontalScroll || p.css("width", x(p)), "outside" === i.scrollbarPosition ? ("static" === t.css("position") && t.css("position", "relative"), t.css("overflow", "visible"), m.addClass("mCSB_outside").after(c)) : (m.addClass("mCSB_inside").append(c), p.wrap(u)), w.call(this); var g = [e("#mCSB_" + n.idx + "_dragger_vertical"), e("#mCSB_" + n.idx + "_dragger_horizontal")]; g[0].css("min-height", g[0].height()), g[1].css("min-width", g[1].width()) }, x = function (t) { var o = [t[0].scrollWidth, Math.max.apply(Math, t.children().map(function () { return e(this).outerWidth(!0) }).get())], a = t.parent().width(); return o[0] > a ? o[0] : o[1] > a ? o[1] : "100%" }, _ = function () { var t = e(this), o = t.data(a), n = o.opt, i = e("#mCSB_" + o.idx + "_container"); if (n.advanced.autoExpandHorizontalScroll && "y" !== n.axis) { i.css({ width: "auto", "min-width": 0, "overflow-x": "scroll" }); var r = Math.ceil(i[0].scrollWidth); 3 === n.advanced.autoExpandHorizontalScroll || 2 !== n.advanced.autoExpandHorizontalScroll && r > (i.parent().width() * 2) ? i.css({ width: r, "min-width": "100%", "overflow-x": "inherit" }) : i.css({ "overflow-x": "inherit", position: "absolute" }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({ width: Math.ceil(i[0].getBoundingClientRect().right + .4) - Math.floor(i[0].getBoundingClientRect().left), "min-width": "100%", position: "relative" }).unwrap() } }, w = function () { var t = e(this), o = t.data(a), n = o.opt, i = e(".mCSB_" + o.idx + "_scrollbar:first"), r = oe(n.scrollButtons.tabindex) ? "tabindex='" + n.scrollButtons.tabindex + "'" : "", l = ["<a href='#' class='" + d[13] + "' " + r + " />", "<a href='#' class='" + d[14] + "' " + r + " />", "<a href='#' class='" + d[15] + "' " + r + " />", "<a href='#' class='" + d[16] + "' " + r + " />"], s = ["x" === n.axis ? l[2] : l[0], "x" === n.axis ? l[3] : l[1], l[2], l[3]]; n.scrollButtons.enable && i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3]) }, S = function () { var t = e(this), o = t.data(a), n = e("#mCSB_" + o.idx), i = e("#mCSB_" + o.idx + "_container"), r = [e("#mCSB_" + o.idx + "_dragger_vertical"), e("#mCSB_" + o.idx + "_dragger_horizontal")], l = [n.height() / i.outerHeight(!1), n.width() / i.outerWidth(!1)], c = [parseInt(r[0].css("min-height")), Math.round(l[0] * r[0].parent().height()), parseInt(r[1].css("min-width")), Math.round(l[1] * r[1].parent().width())], d = s && c[1] < c[0] ? c[0] : c[1], u = s && c[3] < c[2] ? c[2] : c[3]; r[0].css({ height: d, "max-height": r[0].parent().height() - 10 }).find(".mCSB_dragger_bar").css({ "line-height": c[0] + "px" }), r[1].css({ width: u, "max-width": r[1].parent().width() - 10 }) }, b = function () { var t = e(this), o = t.data(a), n = e("#mCSB_" + o.idx), i = e("#mCSB_" + o.idx + "_container"), r = [e("#mCSB_" + o.idx + "_dragger_vertical"), e("#mCSB_" + o.idx + "_dragger_horizontal")], l = [i.outerHeight(!1) - n.height(), i.outerWidth(!1) - n.width()], s = [l[0] / (r[0].parent().height() - r[0].height()), l[1] / (r[1].parent().width() - r[1].width())]; o.scrollRatio = { y: s[0], x: s[1] } }, C = function (e, t, o) { var a = o ? d[0] + "_expanded" : "", n = e.closest(".mCSB_scrollTools"); "active" === t ? (e.toggleClass(d[0] + " " + a), n.toggleClass(d[1]), e[0]._draggable = e[0]._draggable ? 0 : 1) : e[0]._draggable || ("hide" === t ? (e.removeClass(d[0]), n.removeClass(d[1])) : (e.addClass(d[0]), n.addClass(d[1]))) }, y = function () { var t = e(this), o = t.data(a), n = e("#mCSB_" + o.idx), i = e("#mCSB_" + o.idx + "_container"), r = null == o.overflowed ? i.height() : i.outerHeight(!1), l = null == o.overflowed ? i.width() : i.outerWidth(!1), s = i[0].scrollHeight, c = i[0].scrollWidth; return s > r && (r = s), c > l && (l = c), [r > n.height(), l > n.width()] }, B = function () { var t = e(this), o = t.data(a), n = o.opt, i = e("#mCSB_" + o.idx), r = e("#mCSB_" + o.idx + "_container"), l = [e("#mCSB_" + o.idx + "_dragger_vertical"), e("#mCSB_" + o.idx + "_dragger_horizontal")]; if (Q(t), ("x" !== n.axis && !o.overflowed[0] || "y" === n.axis && o.overflowed[0]) && (l[0].add(r).css("top", 0), G(t, "_resetY")), "y" !== n.axis && !o.overflowed[1] || "x" === n.axis && o.overflowed[1]) { var s = dx = 0; "rtl" === o.langDir && (s = i.width() - r.outerWidth(!1), dx = Math.abs(s / o.scrollRatio.x)), r.css("left", s), l[1].css("left", dx), G(t, "_resetX") } }, T = function () { function t() { r = setTimeout(function () { e.event.special.mousewheel ? (clearTimeout(r), W.call(o[0])) : t() }, 100) } var o = e(this), n = o.data(a), i = n.opt; if (!n.bindEvents) { if (I.call(this), i.contentTouchScroll && D.call(this), E.call(this), i.mouseWheel.enable) { var r; t() } P.call(this), U.call(this), i.advanced.autoScrollOnFocus && H.call(this), i.scrollButtons.enable && F.call(this), i.keyboard.enable && q.call(this), n.bindEvents = !0 } }, k = function () { var t = e(this), o = t.data(a), n = o.opt, i = a + "_" + o.idx, r = ".mCSB_" + o.idx + "_scrollbar", l = e("#mCSB_" + o.idx + ",#mCSB_" + o.idx + "_container,#mCSB_" + o.idx + "_container_wrapper," + r + " ." + d[12] + ",#mCSB_" + o.idx + "_dragger_vertical,#mCSB_" + o.idx + "_dragger_horizontal," + r + ">a"), s = e("#mCSB_" + o.idx + "_container"); n.advanced.releaseDraggableSelectors && l.add(e(n.advanced.releaseDraggableSelectors)), n.advanced.extraDraggableSelectors && l.add(e(n.advanced.extraDraggableSelectors)), o.bindEvents && (e(document).add(e(!A() || top.document)).unbind("." + i), l.each(function () { e(this).unbind("." + i) }), clearTimeout(t[0]._focusTimeout), $(t[0], "_focusTimeout"), clearTimeout(o.sequential.step), $(o.sequential, "step"), clearTimeout(s[0].onCompleteTimeout), $(s[0], "onCompleteTimeout"), o.bindEvents = !1) }, M = function (t) { var o = e(this), n = o.data(a), i = n.opt, r = e("#mCSB_" + n.idx + "_container_wrapper"), l = r.length ? r : e("#mCSB_" + n.idx + "_container"), s = [e("#mCSB_" + n.idx + "_scrollbar_vertical"), e("#mCSB_" + n.idx + "_scrollbar_horizontal")], c = [s[0].find(".mCSB_dragger"), s[1].find(".mCSB_dragger")]; "x" !== i.axis && (n.overflowed[0] && !t ? (s[0].add(c[0]).add(s[0].children("a")).css("display", "block"), l.removeClass(d[8] + " " + d[10])) : (i.alwaysShowScrollbar ? (2 !== i.alwaysShowScrollbar && c[0].css("display", "none"), l.removeClass(d[10])) : (s[0].css("display", "none"), l.addClass(d[10])), l.addClass(d[8]))), "y" !== i.axis && (n.overflowed[1] && !t ? (s[1].add(c[1]).add(s[1].children("a")).css("display", "block"), l.removeClass(d[9] + " " + d[11])) : (i.alwaysShowScrollbar ? (2 !== i.alwaysShowScrollbar && c[1].css("display", "none"), l.removeClass(d[11])) : (s[1].css("display", "none"), l.addClass(d[11])), l.addClass(d[9]))), n.overflowed[0] || n.overflowed[1] ? o.removeClass(d[5]) : o.addClass(d[5]) }, O = function (t) { var o = t.type, a = t.target.ownerDocument !== document && null !== frameElement ? [e(frameElement).offset().top, e(frameElement).offset().left] : null, n = A() && t.target.ownerDocument !== top.document && null !== frameElement ? [e(t.view.frameElement).offset().top, e(t.view.frameElement).offset().left] : [0, 0]; switch (o) { case "pointerdown": case "MSPointerDown": case "pointermove": case "MSPointerMove": case "pointerup": case "MSPointerUp": return a ? [t.originalEvent.pageY - a[0] + n[0], t.originalEvent.pageX - a[1] + n[1], !1] : [t.originalEvent.pageY, t.originalEvent.pageX, !1]; case "touchstart": case "touchmove": case "touchend": var i = t.originalEvent.touches[0] || t.originalEvent.changedTouches[0], r = t.originalEvent.touches.length || t.originalEvent.changedTouches.length; return t.target.ownerDocument !== document ? [i.screenY, i.screenX, r > 1] : [i.pageY, i.pageX, r > 1]; default: return a ? [t.pageY - a[0] + n[0], t.pageX - a[1] + n[1], !1] : [t.pageY, t.pageX, !1] } }, I = function () { function t(e, t, a, n) { if (h[0].idleTimer = d.scrollInertia < 233 ? 250 : 0, o.attr("id") === f[1]) var i = "x", s = (o[0].offsetLeft - t + n) * l.scrollRatio.x; else var i = "y", s = (o[0].offsetTop - e + a) * l.scrollRatio.y; G(r, s.toString(), { dir: i, drag: !0 }) } var o, n, i, r = e(this), l = r.data(a), d = l.opt, u = a + "_" + l.idx, f = ["mCSB_" + l.idx + "_dragger_vertical", "mCSB_" + l.idx + "_dragger_horizontal"], h = e("#mCSB_" + l.idx + "_container"), m = e("#" + f[0] + ",#" + f[1]), p = d.advanced.releaseDraggableSelectors ? m.add(e(d.advanced.releaseDraggableSelectors)) : m, g = d.advanced.extraDraggableSelectors ? e(!A() || top.document).add(e(d.advanced.extraDraggableSelectors)) : e(!A() || top.document); m.bind("contextmenu." + u, function (e) { e.preventDefault() }).bind("mousedown." + u + " touchstart." + u + " pointerdown." + u + " MSPointerDown." + u, function (t) { if (t.stopImmediatePropagation(), t.preventDefault(), ee(t)) { c = !0, s && (document.onselectstart = function () { return !1 }), L.call(h, !1), Q(r), o = e(this); var a = o.offset(), l = O(t)[0] - a.top, u = O(t)[1] - a.left, f = o.height() + a.top, m = o.width() + a.left; f > l && l > 0 && m > u && u > 0 && (n = l, i = u), C(o, "active", d.autoExpandScrollbar) } }).bind("touchmove." + u, function (e) { e.stopImmediatePropagation(), e.preventDefault(); var a = o.offset(), r = O(e)[0] - a.top, l = O(e)[1] - a.left; t(n, i, r, l) }), e(document).add(g).bind("mousemove." + u + " pointermove." + u + " MSPointerMove." + u, function (e) { if (o) { var a = o.offset(), r = O(e)[0] - a.top, l = O(e)[1] - a.left; if (n === r && i === l) return; t(n, i, r, l) } }).add(p).bind("mouseup." + u + " touchend." + u + " pointerup." + u + " MSPointerUp." + u, function () { o && (C(o, "active", d.autoExpandScrollbar), o = null), c = !1, s && (document.onselectstart = null), L.call(h, !0) }) }, D = function () { function o(e) { if (!te(e) || c || O(e)[2]) return void (t = 0); t = 1, b = 0, C = 0, d = 1, y.removeClass("mCS_touch_action"); var o = I.offset(); u = O(e)[0] - o.top, f = O(e)[1] - o.left, z = [O(e)[0], O(e)[1]] } function n(e) { if (te(e) && !c && !O(e)[2] && (T.documentTouchScroll || e.preventDefault(), e.stopImmediatePropagation(), (!C || b) && d)) { g = K(); var t = M.offset(), o = O(e)[0] - t.top, a = O(e)[1] - t.left, n = "mcsLinearOut"; if (E.push(o), W.push(a), z[2] = Math.abs(O(e)[0] - z[0]), z[3] = Math.abs(O(e)[1] - z[1]), B.overflowed[0]) var i = D[0].parent().height() - D[0].height(), r = u - o > 0 && o - u > -(i * B.scrollRatio.y) && (2 * z[3] < z[2] || "yx" === T.axis); if (B.overflowed[1]) var l = D[1].parent().width() - D[1].width(), h = f - a > 0 && a - f > -(l * B.scrollRatio.x) && (2 * z[2] < z[3] || "yx" === T.axis); r || h ? (U || e.preventDefault(), b = 1) : (C = 1, y.addClass("mCS_touch_action")), U && e.preventDefault(), w = "yx" === T.axis ? [u - o, f - a] : "x" === T.axis ? [null, f - a] : [u - o, null], I[0].idleTimer = 250, B.overflowed[0] && s(w[0], R, n, "y", "all", !0), B.overflowed[1] && s(w[1], R, n, "x", L, !0) } } function i(e) { if (!te(e) || c || O(e)[2]) return void (t = 0); t = 1, e.stopImmediatePropagation(), Q(y), p = K(); var o = M.offset(); h = O(e)[0] - o.top, m = O(e)[1] - o.left, E = [], W = [] } function r(e) { if (te(e) && !c && !O(e)[2]) { d = 0, e.stopImmediatePropagation(), b = 0, C = 0, v = K(); var t = M.offset(), o = O(e)[0] - t.top, a = O(e)[1] - t.left; if (!(v - g > 30)) { _ = 1e3 / (v - p); var n = "mcsEaseOut", i = 2.5 > _, r = i ? [E[E.length - 2], W[W.length - 2]] : [0, 0]; x = i ? [o - r[0], a - r[1]] : [o - h, a - m]; var u = [Math.abs(x[0]), Math.abs(x[1])]; _ = i ? [Math.abs(x[0] / 4), Math.abs(x[1] / 4)] : [_, _]; var f = [Math.abs(I[0].offsetTop) - x[0] * l(u[0] / _[0], _[0]), Math.abs(I[0].offsetLeft) - x[1] * l(u[1] / _[1], _[1])]; w = "yx" === T.axis ? [f[0], f[1]] : "x" === T.axis ? [null, f[1]] : [f[0], null], S = [4 * u[0] + T.scrollInertia, 4 * u[1] + T.scrollInertia]; var y = parseInt(T.contentTouchScroll) || 0; w[0] = u[0] > y ? w[0] : 0, w[1] = u[1] > y ? w[1] : 0, B.overflowed[0] && s(w[0], S[0], n, "y", L, !1), B.overflowed[1] && s(w[1], S[1], n, "x", L, !1) } } } function l(e, t) { var o = [1.5 * t, 2 * t, t / 1.5, t / 2]; return e > 90 ? t > 4 ? o[0] : o[3] : e > 60 ? t > 3 ? o[3] : o[2] : e > 30 ? t > 8 ? o[1] : t > 6 ? o[0] : t > 4 ? t : o[2] : t > 8 ? t : o[3] } function s(e, t, o, a, n, i) { e && G(y, e.toString(), { dur: t, scrollEasing: o, dir: a, overwrite: n, drag: i }) } var d, u, f, h, m, p, g, v, x, _, w, S, b, C, y = e(this), B = y.data(a), T = B.opt, k = a + "_" + B.idx, M = e("#mCSB_" + B.idx), I = e("#mCSB_" + B.idx + "_container"), D = [e("#mCSB_" + B.idx + "_dragger_vertical"), e("#mCSB_" + B.idx + "_dragger_horizontal")], E = [], W = [], R = 0, L = "yx" === T.axis ? "none" : "all", z = [], P = I.find("iframe"), H = ["touchstart." + k + " pointerdown." + k + " MSPointerDown." + k, "touchmove." + k + " pointermove." + k + " MSPointerMove." + k, "touchend." + k + " pointerup." + k + " MSPointerUp." + k], U = void 0 !== document.body.style.touchAction && "" !== document.body.style.touchAction; I.bind(H[0], function (e) { o(e) }).bind(H[1], function (e) { n(e) }), M.bind(H[0], function (e) { i(e) }).bind(H[2], function (e) { r(e) }), P.length && P.each(function () { e(this).bind("load", function () { A(this) && e(this.contentDocument || this.contentWindow.document).bind(H[0], function (e) { o(e), i(e) }).bind(H[1], function (e) { n(e) }).bind(H[2], function (e) { r(e) }) }) }) }, E = function () { function o() { return window.getSelection ? window.getSelection().toString() : document.selection && "Control" != document.selection.type ? document.selection.createRange().text : 0 } function n(e, t, o) { d.type = o && i ? "stepped" : "stepless", d.scrollAmount = 10, j(r, e, t, "mcsLinearOut", o ? 60 : null) } var i, r = e(this), l = r.data(a), s = l.opt, d = l.sequential, u = a + "_" + l.idx, f = e("#mCSB_" + l.idx + "_container"), h = f.parent(); f.bind("mousedown." + u, function () { t || i || (i = 1, c = !0) }).add(document).bind("mousemove." + u, function (e) { if (!t && i && o()) { var a = f.offset(), r = O(e)[0] - a.top + f[0].offsetTop, c = O(e)[1] - a.left + f[0].offsetLeft; r > 0 && r < h.height() && c > 0 && c < h.width() ? d.step && n("off", null, "stepped") : ("x" !== s.axis && l.overflowed[0] && (0 > r ? n("on", 38) : r > h.height() && n("on", 40)), "y" !== s.axis && l.overflowed[1] && (0 > c ? n("on", 37) : c > h.width() && n("on", 39))) } }).bind("mouseup." + u + " dragend." + u, function () { t || (i && (i = 0, n("off", null)), c = !1) }) }, W = function () { function t(t, a) { if (Q(o), !z(o, t.target)) { var r = "auto" !== i.mouseWheel.deltaFactor ? parseInt(i.mouseWheel.deltaFactor) : s && t.deltaFactor < 100 ? 100 : t.deltaFactor || 100, d = i.scrollInertia; if ("x" === i.axis || "x" === i.mouseWheel.axis) var u = "x", f = [Math.round(r * n.scrollRatio.x), parseInt(i.mouseWheel.scrollAmount)], h = "auto" !== i.mouseWheel.scrollAmount ? f[1] : f[0] >= l.width() ? .9 * l.width() : f[0], m = Math.abs(e("#mCSB_" + n.idx + "_container")[0].offsetLeft), p = c[1][0].offsetLeft, g = c[1].parent().width() - c[1].width(), v = "y" === i.mouseWheel.axis ? t.deltaY || a : t.deltaX; else var u = "y", f = [Math.round(r * n.scrollRatio.y), parseInt(i.mouseWheel.scrollAmount)], h = "auto" !== i.mouseWheel.scrollAmount ? f[1] : f[0] >= l.height() ? .9 * l.height() : f[0], m = Math.abs(e("#mCSB_" + n.idx + "_container")[0].offsetTop), p = c[0][0].offsetTop, g = c[0].parent().height() - c[0].height(), v = t.deltaY || a; "y" === u && !n.overflowed[0] || "x" === u && !n.overflowed[1] || ((i.mouseWheel.invert || t.webkitDirectionInvertedFromDevice) && (v = -v), i.mouseWheel.normalizeDelta && (v = 0 > v ? -1 : 1), (v > 0 && 0 !== p || 0 > v && p !== g || i.mouseWheel.preventDefault) && (t.stopImmediatePropagation(), t.preventDefault()), t.deltaFactor < 5 && !i.mouseWheel.normalizeDelta && (h = t.deltaFactor, d = 17), G(o, (m - v * h).toString(), { dir: u, dur: d })) } } if (e(this).data(a)) { var o = e(this), n = o.data(a), i = n.opt, r = a + "_" + n.idx, l = e("#mCSB_" + n.idx), c = [e("#mCSB_" + n.idx + "_dragger_vertical"), e("#mCSB_" + n.idx + "_dragger_horizontal")], d = e("#mCSB_" + n.idx + "_container").find("iframe"); d.length && d.each(function () { e(this).bind("load", function () { A(this) && e(this.contentDocument || this.contentWindow.document).bind("mousewheel." + r, function (e, o) { t(e, o) }) }) }), l.bind("mousewheel." + r, function (e, o) { t(e, o) }) } }, R = new Object, A = function (t) { var o = !1, a = !1, n = null; if (void 0 === t ? a = "#empty" : void 0 !== e(t).attr("id") && (a = e(t).attr("id")), a !== !1 && void 0 !== R[a]) return R[a]; if (t) { try { var i = t.contentDocument || t.contentWindow.document; n = i.body.innerHTML } catch (r) { } o = null !== n } else { try { var i = top.document; n = i.body.innerHTML } catch (r) { } o = null !== n } return a !== !1 && (R[a] = o), o }, L = function (e) { var t = this.find("iframe"); if (t.length) { var o = e ? "auto" : "none"; t.css("pointer-events", o) } }, z = function (t, o) { var n = o.nodeName.toLowerCase(), i = t.data(a).opt.mouseWheel.disableOver, r = ["select", "textarea"]; return e.inArray(n, i) > -1 && !(e.inArray(n, r) > -1 && !e(o).is(":focus")) }, P = function () { var t, o = e(this), n = o.data(a), i = a + "_" + n.idx, r = e("#mCSB_" + n.idx + "_container"), l = r.parent(), s = e(".mCSB_" + n.idx + "_scrollbar ." + d[12]); s.bind("mousedown." + i + " touchstart." + i + " pointerdown." + i + " MSPointerDown." + i, function (o) { c = !0, e(o.target).hasClass("mCSB_dragger") || (t = 1) }).bind("touchend." + i + " pointerup." + i + " MSPointerUp." + i, function () { c = !1 }).bind("click." + i, function (a) { if (t && (t = 0, e(a.target).hasClass(d[12]) || e(a.target).hasClass("mCSB_draggerRail"))) { Q(o); var i = e(this), s = i.find(".mCSB_dragger"); if (i.parent(".mCSB_scrollTools_horizontal").length > 0) { if (!n.overflowed[1]) return; var c = "x", u = a.pageX > s.offset().left ? -1 : 1, f = Math.abs(r[0].offsetLeft) - u * (.9 * l.width()) } else { if (!n.overflowed[0]) return; var c = "y", u = a.pageY > s.offset().top ? -1 : 1, f = Math.abs(r[0].offsetTop) - u * (.9 * l.height()) } G(o, f.toString(), { dir: c, scrollEasing: "mcsEaseInOut" }) } }) }, H = function () { var t = e(this), o = t.data(a), n = o.opt, i = a + "_" + o.idx, r = e("#mCSB_" + o.idx + "_container"), l = r.parent(); r.bind("focusin." + i, function () { var o = e(document.activeElement), a = r.find(".mCustomScrollBox").length, i = 0; o.is(n.advanced.autoScrollOnFocus) && (Q(t), clearTimeout(t[0]._focusTimeout), t[0]._focusTimer = a ? (i + 17) * a : 0, t[0]._focusTimeout = setTimeout(function () { var e = [ae(o)[0], ae(o)[1]], a = [r[0].offsetTop, r[0].offsetLeft], s = [a[0] + e[0] >= 0 && a[0] + e[0] < l.height() - o.outerHeight(!1), a[1] + e[1] >= 0 && a[0] + e[1] < l.width() - o.outerWidth(!1)], c = "yx" !== n.axis || s[0] || s[1] ? "all" : "none"; "x" === n.axis || s[0] || G(t, e[0].toString(), { dir: "y", scrollEasing: "mcsEaseInOut", overwrite: c, dur: i }), "y" === n.axis || s[1] || G(t, e[1].toString(), { dir: "x", scrollEasing: "mcsEaseInOut", overwrite: c, dur: i }) }, t[0]._focusTimer)) }) }, U = function () { var t = e(this), o = t.data(a), n = a + "_" + o.idx, i = e("#mCSB_" + o.idx + "_container").parent(); i.bind("scroll." + n, function () { 0 === i.scrollTop() && 0 === i.scrollLeft() || e(".mCSB_" + o.idx + "_scrollbar").css("visibility", "hidden") }) }, F = function () { var t = e(this), o = t.data(a), n = o.opt, i = o.sequential, r = a + "_" + o.idx, l = ".mCSB_" + o.idx + "_scrollbar", s = e(l + ">a"); s.bind("contextmenu." + r, function (e) { e.preventDefault() }).bind("mousedown." + r + " touchstart." + r + " pointerdown." + r + " MSPointerDown." + r + " mouseup." + r + " touchend." + r + " pointerup." + r + " MSPointerUp." + r + " mouseout." + r + " pointerout." + r + " MSPointerOut." + r + " click." + r, function (a) { function r(e, o) { i.scrollAmount = n.scrollButtons.scrollAmount, j(t, e, o) } if (a.preventDefault(), ee(a)) { var l = e(this).attr("class"); switch (i.type = n.scrollButtons.scrollType, a.type) { case "mousedown": case "touchstart": case "pointerdown": case "MSPointerDown": if ("stepped" === i.type) return; c = !0, o.tweenRunning = !1, r("on", l); break; case "mouseup": case "touchend": case "pointerup": case "MSPointerUp": case "mouseout": case "pointerout": case "MSPointerOut": if ("stepped" === i.type) return; c = !1, i.dir && r("off", l); break; case "click": if ("stepped" !== i.type || o.tweenRunning) return; r("on", l) } } }) }, q = function () { function t(t) { function a(e, t) { r.type = i.keyboard.scrollType, r.scrollAmount = i.keyboard.scrollAmount, "stepped" === r.type && n.tweenRunning || j(o, e, t) } switch (t.type) { case "blur": n.tweenRunning && r.dir && a("off", null); break; case "keydown": case "keyup": var l = t.keyCode ? t.keyCode : t.which, s = "on"; if ("x" !== i.axis && (38 === l || 40 === l) || "y" !== i.axis && (37 === l || 39 === l)) { if ((38 === l || 40 === l) && !n.overflowed[0] || (37 === l || 39 === l) && !n.overflowed[1]) return; "keyup" === t.type && (s = "off"), e(document.activeElement).is(u) || (t.preventDefault(), t.stopImmediatePropagation(), a(s, l)) } else if (33 === l || 34 === l) { if ((n.overflowed[0] || n.overflowed[1]) && (t.preventDefault(), t.stopImmediatePropagation()), "keyup" === t.type) { Q(o); var f = 34 === l ? -1 : 1; if ("x" === i.axis || "yx" === i.axis && n.overflowed[1] && !n.overflowed[0]) var h = "x", m = Math.abs(c[0].offsetLeft) - f * (.9 * d.width()); else var h = "y", m = Math.abs(c[0].offsetTop) - f * (.9 * d.height()); G(o, m.toString(), { dir: h, scrollEasing: "mcsEaseInOut" }) } } else if ((35 === l || 36 === l) && !e(document.activeElement).is(u) && ((n.overflowed[0] || n.overflowed[1]) && (t.preventDefault(), t.stopImmediatePropagation()), "keyup" === t.type)) { if ("x" === i.axis || "yx" === i.axis && n.overflowed[1] && !n.overflowed[0]) var h = "x", m = 35 === l ? Math.abs(d.width() - c.outerWidth(!1)) : 0; else var h = "y", m = 35 === l ? Math.abs(d.height() - c.outerHeight(!1)) : 0; G(o, m.toString(), { dir: h, scrollEasing: "mcsEaseInOut" }) } } } var o = e(this), n = o.data(a), i = n.opt, r = n.sequential, l = a + "_" + n.idx, s = e("#mCSB_" + n.idx), c = e("#mCSB_" + n.idx + "_container"), d = c.parent(), u = "input,textarea,select,datalist,keygen,[contenteditable='true']", f = c.find("iframe"), h = ["blur." + l + " keydown." + l + " keyup." + l]; f.length && f.each(function () { e(this).bind("load", function () { A(this) && e(this.contentDocument || this.contentWindow.document).bind(h[0], function (e) { t(e) }) }) }), s.attr("tabindex", "0").bind(h[0], function (e) { t(e) }) }, j = function (t, o, n, i, r) { function l(e) { u.snapAmount && (f.scrollAmount = u.snapAmount instanceof Array ? "x" === f.dir[0] ? u.snapAmount[1] : u.snapAmount[0] : u.snapAmount); var o = "stepped" !== f.type, a = r ? r : e ? o ? p / 1.5 : g : 1e3 / 60, n = e ? o ? 7.5 : 40 : 2.5, s = [Math.abs(h[0].offsetTop), Math.abs(h[0].offsetLeft)], d = [c.scrollRatio.y > 10 ? 10 : c.scrollRatio.y, c.scrollRatio.x > 10 ? 10 : c.scrollRatio.x], m = "x" === f.dir[0] ? s[1] + f.dir[1] * (d[1] * n) : s[0] + f.dir[1] * (d[0] * n), v = "x" === f.dir[0] ? s[1] + f.dir[1] * parseInt(f.scrollAmount) : s[0] + f.dir[1] * parseInt(f.scrollAmount), x = "auto" !== f.scrollAmount ? v : m, _ = i ? i : e ? o ? "mcsLinearOut" : "mcsEaseInOut" : "mcsLinear", w = !!e; return e && 17 > a && (x = "x" === f.dir[0] ? s[1] : s[0]), G(t, x.toString(), { dir: f.dir[0], scrollEasing: _, dur: a, onComplete: w }), e ? void (f.dir = !1) : (clearTimeout(f.step), void (f.step = setTimeout(function () { l() }, a))) } function s() { clearTimeout(f.step), $(f, "step"), Q(t) } var c = t.data(a), u = c.opt, f = c.sequential, h = e("#mCSB_" + c.idx + "_container"), m = "stepped" === f.type, p = u.scrollInertia < 26 ? 26 : u.scrollInertia, g = u.scrollInertia < 1 ? 17 : u.scrollInertia; switch (o) { case "on": if (f.dir = [n === d[16] || n === d[15] || 39 === n || 37 === n ? "x" : "y", n === d[13] || n === d[15] || 38 === n || 37 === n ? -1 : 1], Q(t), oe(n) && "stepped" === f.type) return; l(m); break; case "off": s(), (m || c.tweenRunning && f.dir) && l(!0) } }, Y = function (t) { var o = e(this).data(a).opt, n = []; return "function" == typeof t && (t = t()), t instanceof Array ? n = t.length > 1 ? [t[0], t[1]] : "x" === o.axis ? [null, t[0]] : [t[0], null] : (n[0] = t.y ? t.y : t.x || "x" === o.axis ? null : t, n[1] = t.x ? t.x : t.y || "y" === o.axis ? null : t), "function" == typeof n[0] && (n[0] = n[0]()), "function" == typeof n[1] && (n[1] = n[1]()), n }, X = function (t, o) { if (null != t && "undefined" != typeof t) { var n = e(this), i = n.data(a), r = i.opt, l = e("#mCSB_" + i.idx + "_container"), s = l.parent(), c = typeof t; o || (o = "x" === r.axis ? "x" : "y"); var d = "x" === o ? l.outerWidth(!1) - s.width() : l.outerHeight(!1) - s.height(), f = "x" === o ? l[0].offsetLeft : l[0].offsetTop, h = "x" === o ? "left" : "top"; switch (c) { case "function": return t(); case "object": var m = t.jquery ? t : e(t); if (!m.length) return; return "x" === o ? ae(m)[1] : ae(m)[0]; case "string": case "number": if (oe(t)) return Math.abs(t); if (-1 !== t.indexOf("%")) return Math.abs(d * parseInt(t) / 100); if (-1 !== t.indexOf("-=")) return Math.abs(f - parseInt(t.split("-=")[1])); if (-1 !== t.indexOf("+=")) { var p = f + parseInt(t.split("+=")[1]); return p >= 0 ? 0 : Math.abs(p) } if (-1 !== t.indexOf("px") && oe(t.split("px")[0])) return Math.abs(t.split("px")[0]); if ("top" === t || "left" === t) return 0; if ("bottom" === t) return Math.abs(s.height() - l.outerHeight(!1)); if ("right" === t) return Math.abs(s.width() - l.outerWidth(!1)); if ("first" === t || "last" === t) { var m = l.find(":" + t); return "x" === o ? ae(m)[1] : ae(m)[0] } return e(t).length ? "x" === o ? ae(e(t))[1] : ae(e(t))[0] : (l.css(h, t), void u.update.call(null, n[0])) } } }, N = function (t) { function o() { return clearTimeout(f[0].autoUpdate), 0 === l.parents("html").length ? void (l = null) : void (f[0].autoUpdate = setTimeout(function () { return c.advanced.updateOnSelectorChange && (s.poll.change.n = i(), s.poll.change.n !== s.poll.change.o) ? (s.poll.change.o = s.poll.change.n, void r(3)) : c.advanced.updateOnContentResize && (s.poll.size.n = l[0].scrollHeight + l[0].scrollWidth + f[0].offsetHeight + l[0].offsetHeight + l[0].offsetWidth, s.poll.size.n !== s.poll.size.o) ? (s.poll.size.o = s.poll.size.n, void r(1)) : !c.advanced.updateOnImageLoad || "auto" === c.advanced.updateOnImageLoad && "y" === c.axis || (s.poll.img.n = f.find("img").length, s.poll.img.n === s.poll.img.o) ? void ((c.advanced.updateOnSelectorChange || c.advanced.updateOnContentResize || c.advanced.updateOnImageLoad) && o()) : (s.poll.img.o = s.poll.img.n, void f.find("img").each(function () { n(this) })) }, c.advanced.autoUpdateTimeout)) } function n(t) { function o(e, t) { return function () { return t.apply(e, arguments) } } function a() { this.onload = null, e(t).addClass(d[2]), r(2) } if (e(t).hasClass(d[2])) return void r(); var n = new Image; n.onload = o(n, a), n.src = t.src } function i() { c.advanced.updateOnSelectorChange === !0 && (c.advanced.updateOnSelectorChange = "*"); var e = 0, t = f.find(c.advanced.updateOnSelectorChange); return c.advanced.updateOnSelectorChange && t.length > 0 && t.each(function () { e += this.offsetHeight + this.offsetWidth }), e } function r(e) { clearTimeout(f[0].autoUpdate), u.update.call(null, l[0], e) } var l = e(this), s = l.data(a), c = s.opt, f = e("#mCSB_" + s.idx + "_container"); return t ? (clearTimeout(f[0].autoUpdate), void $(f[0], "autoUpdate")) : void o() }, V = function (e, t, o) { return Math.round(e / t) * t - o }, Q = function (t) { var o = t.data(a), n = e("#mCSB_" + o.idx + "_container,#mCSB_" + o.idx + "_container_wrapper,#mCSB_" + o.idx + "_dragger_vertical,#mCSB_" + o.idx + "_dragger_horizontal"); n.each(function () { Z.call(this) }) }, G = function (t, o, n) { function i(e) { return s && c.callbacks[e] && "function" == typeof c.callbacks[e] } function r() { return [c.callbacks.alwaysTriggerOffsets || w >= S[0] + y, c.callbacks.alwaysTriggerOffsets || -B >= w] } function l() { var e = [h[0].offsetTop, h[0].offsetLeft], o = [x[0].offsetTop, x[0].offsetLeft], a = [h.outerHeight(!1), h.outerWidth(!1)], i = [f.height(), f.width()]; t[0].mcs = { content: h, top: e[0], left: e[1], draggerTop: o[0], draggerLeft: o[1], topPct: Math.round(100 * Math.abs(e[0]) / (Math.abs(a[0]) - i[0])), leftPct: Math.round(100 * Math.abs(e[1]) / (Math.abs(a[1]) - i[1])), direction: n.dir } } var s = t.data(a), c = s.opt, d = { trigger: "internal", dir: "y", scrollEasing: "mcsEaseOut", drag: !1, dur: c.scrollInertia, overwrite: "all", callbacks: !0, onStart: !0, onUpdate: !0, onComplete: !0 }, n = e.extend(d, n), u = [n.dur, n.drag ? 0 : n.dur], f = e("#mCSB_" + s.idx), h = e("#mCSB_" + s.idx + "_container"), m = h.parent(), p = c.callbacks.onTotalScrollOffset ? Y.call(t, c.callbacks.onTotalScrollOffset) : [0, 0], g = c.callbacks.onTotalScrollBackOffset ? Y.call(t, c.callbacks.onTotalScrollBackOffset) : [0, 0]; if (s.trigger = n.trigger, 0 === m.scrollTop() && 0 === m.scrollLeft() || (e(".mCSB_" + s.idx + "_scrollbar").css("visibility", "visible"), m.scrollTop(0).scrollLeft(0)), "_resetY" !== o || s.contentReset.y || (i("onOverflowYNone") && c.callbacks.onOverflowYNone.call(t[0]), s.contentReset.y = 1), "_resetX" !== o || s.contentReset.x || (i("onOverflowXNone") && c.callbacks.onOverflowXNone.call(t[0]), s.contentReset.x = 1), "_resetY" !== o && "_resetX" !== o) { if (!s.contentReset.y && t[0].mcs || !s.overflowed[0] || (i("onOverflowY") && c.callbacks.onOverflowY.call(t[0]), s.contentReset.x = null), !s.contentReset.x && t[0].mcs || !s.overflowed[1] || (i("onOverflowX") && c.callbacks.onOverflowX.call(t[0]), s.contentReset.x = null), c.snapAmount) { var v = c.snapAmount instanceof Array ? "x" === n.dir ? c.snapAmount[1] : c.snapAmount[0] : c.snapAmount; o = V(o, v, c.snapOffset) } switch (n.dir) { case "x": var x = e("#mCSB_" + s.idx + "_dragger_horizontal"), _ = "left", w = h[0].offsetLeft, S = [f.width() - h.outerWidth(!1), x.parent().width() - x.width()], b = [o, 0 === o ? 0 : o / s.scrollRatio.x], y = p[1], B = g[1], T = y > 0 ? y / s.scrollRatio.x : 0, k = B > 0 ? B / s.scrollRatio.x : 0; break; case "y": var x = e("#mCSB_" + s.idx + "_dragger_vertical"), _ = "top", w = h[0].offsetTop, S = [f.height() - h.outerHeight(!1), x.parent().height() - x.height()], b = [o, 0 === o ? 0 : o / s.scrollRatio.y], y = p[0], B = g[0], T = y > 0 ? y / s.scrollRatio.y : 0, k = B > 0 ? B / s.scrollRatio.y : 0 } b[1] < 0 || 0 === b[0] && 0 === b[1] ? b = [0, 0] : b[1] >= S[1] ? b = [S[0], S[1]] : b[0] = -b[0], t[0].mcs || (l(), i("onInit") && c.callbacks.onInit.call(t[0])), clearTimeout(h[0].onCompleteTimeout), J(x[0], _, Math.round(b[1]), u[1], n.scrollEasing), !s.tweenRunning && (0 === w && b[0] >= 0 || w === S[0] && b[0] <= S[0]) || J(h[0], _, Math.round(b[0]), u[0], n.scrollEasing, n.overwrite, { onStart: function () { n.callbacks && n.onStart && !s.tweenRunning && (i("onScrollStart") && (l(), c.callbacks.onScrollStart.call(t[0])), s.tweenRunning = !0, C(x), s.cbOffsets = r()) }, onUpdate: function () { n.callbacks && n.onUpdate && i("whileScrolling") && (l(), c.callbacks.whileScrolling.call(t[0])) }, onComplete: function () { if (n.callbacks && n.onComplete) { "yx" === c.axis && clearTimeout(h[0].onCompleteTimeout); var e = h[0].idleTimer || 0; h[0].onCompleteTimeout = setTimeout(function () { i("onScroll") && (l(), c.callbacks.onScroll.call(t[0])), i("onTotalScroll") && b[1] >= S[1] - T && s.cbOffsets[0] && (l(), c.callbacks.onTotalScroll.call(t[0])), i("onTotalScrollBack") && b[1] <= k && s.cbOffsets[1] && (l(), c.callbacks.onTotalScrollBack.call(t[0])), s.tweenRunning = !1, h[0].idleTimer = 0, C(x, "hide") }, e) } } }) } }, J = function (e, t, o, a, n, i, r) { function l() { S.stop || (x || m.call(), x = K() - v, s(), x >= S.time && (S.time = x > S.time ? x + f - (x - S.time) : x + f - 1, S.time < x + 1 && (S.time = x + 1)), S.time < a ? S.id = h(l) : g.call()) } function s() { a > 0 ? (S.currVal = u(S.time, _, b, a, n), w[t] = Math.round(S.currVal) + "px") : w[t] = o + "px", p.call() } function c() { f = 1e3 / 60, S.time = x + f, h = window.requestAnimationFrame ? window.requestAnimationFrame : function (e) { return s(), setTimeout(e, .01) }, S.id = h(l) } function d() { null != S.id && (window.requestAnimationFrame ? window.cancelAnimationFrame(S.id) : clearTimeout(S.id), S.id = null) } function u(e, t, o, a, n) { switch (n) { case "linear": case "mcsLinear": return o * e / a + t; case "mcsLinearOut": return e /= a, e--, o * Math.sqrt(1 - e * e) + t; case "easeInOutSmooth": return e /= a / 2, 1 > e ? o / 2 * e * e + t : (e--, -o / 2 * (e * (e - 2) - 1) + t); case "easeInOutStrong": return e /= a / 2, 1 > e ? o / 2 * Math.pow(2, 10 * (e - 1)) + t : (e--, o / 2 * (-Math.pow(2, -10 * e) + 2) + t); case "easeInOut": case "mcsEaseInOut": return e /= a / 2, 1 > e ? o / 2 * e * e * e + t : (e -= 2, o / 2 * (e * e * e + 2) + t); case "easeOutSmooth": return e /= a, e--, -o * (e * e * e * e - 1) + t; case "easeOutStrong": return o * (-Math.pow(2, -10 * e / a) + 1) + t; case "easeOut": case "mcsEaseOut": default: var i = (e /= a) * e, r = i * e; return t + o * (.499999999999997 * r * i + -2.5 * i * i + 5.5 * r + -6.5 * i + 4 * e) } } e._mTween || (e._mTween = { top: {}, left: {} }); var f, h, r = r || {}, m = r.onStart || function () { }, p = r.onUpdate || function () { }, g = r.onComplete || function () { }, v = K(), x = 0, _ = e.offsetTop, w = e.style, S = e._mTween[t]; "left" === t && (_ = e.offsetLeft); var b = o - _; S.stop = 0, "none" !== i && d(), c() }, K = function () { return window.performance && window.performance.now ? window.performance.now() : window.performance && window.performance.webkitNow ? window.performance.webkitNow() : Date.now ? Date.now() : (new Date).getTime() }, Z = function () { var e = this; e._mTween || (e._mTween = { top: {}, left: {} }); for (var t = ["top", "left"], o = 0; o < t.length; o++) { var a = t[o]; e._mTween[a].id && (window.requestAnimationFrame ? window.cancelAnimationFrame(e._mTween[a].id) : clearTimeout(e._mTween[a].id), e._mTween[a].id = null, e._mTween[a].stop = 1) } }, $ = function (e, t) { try { delete e[t] } catch (o) { e[t] = null } }, ee = function (e) { return !(e.which && 1 !== e.which) }, te = function (e) { var t = e.originalEvent.pointerType; return !(t && "touch" !== t && 2 !== t) }, oe = function (e) { return !isNaN(parseFloat(e)) && isFinite(e) }, ae = function (e) { var t = e.parents(".mCSB_container"); return [e.offset().top - t.offset().top, e.offset().left - t.offset().left] }, ne = function () { function e() { var e = ["webkit", "moz", "ms", "o"]; if ("hidden" in document) return "hidden"; for (var t = 0; t < e.length; t++) if (e[t] + "Hidden" in document) return e[t] + "Hidden"; return null } var t = e(); return t ? document[t] : !1 }; e.fn[o] = function (t) { return u[t] ? u[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist") : u.init.apply(this, arguments) }, e[o] = function (t) { return u[t] ? u[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist") : u.init.apply(this, arguments) }, e[o].defaults = i, window[o] = !0, e(window).bind("load", function () { e(n)[o](), e.extend(e.expr[":"], { mcsInView: e.expr[":"].mcsInView || function (t) { var o, a, n = e(t), i = n.parents(".mCSB_container"); if (i.length) return o = i.parent(), a = [i[0].offsetTop, i[0].offsetLeft], a[0] + ae(n)[0] >= 0 && a[0] + ae(n)[0] < o.height() - n.outerHeight(!1) && a[1] + ae(n)[1] >= 0 && a[1] + ae(n)[1] < o.width() - n.outerWidth(!1) }, mcsInSight: e.expr[":"].mcsInSight || function (t, o, a) { var n, i, r, l, s = e(t), c = s.parents(".mCSB_container"), d = "exact" === a[3] ? [[1, 0], [1, 0]] : [[.9, .1], [.6, .4]]; if (c.length) return n = [s.outerHeight(!1), s.outerWidth(!1)], r = [c[0].offsetTop + ae(s)[0], c[0].offsetLeft + ae(s)[1]], i = [c.parent()[0].offsetHeight, c.parent()[0].offsetWidth], l = [n[0] < i[0] ? d[0] : d[1], n[1] < i[1] ? d[0] : d[1]], r[0] - i[0] * l[0][0] < 0 && r[0] + n[0] - i[0] * l[0][1] >= 0 && r[1] - i[1] * l[1][0] < 0 && r[1] + n[1] - i[1] * l[1][1] >= 0 }, mcsOverflow: e.expr[":"].mcsOverflow || function (t) { var o = e(t).data(a); if (o) return o.overflowed[0] || o.overflowed[1] } }) }) }) });
/*jquery.fancybox.pack.js*/!function (e, t, n, i) { var o = n("html"), a = n(e), r = n(t), l = n.fancybox = function () { l.open.apply(this, arguments) }, s = navigator.userAgent.match(/msie/i), c = null, d = t.createTouch !== i, p = function (e) { return e && e.hasOwnProperty && e instanceof n }, h = function (e) { return e && "string" === n.type(e) }, f = function (e) { return h(e) && 0 < e.indexOf("%") }, u = function (e, t) { var n = parseInt(e, 10) || 0; return t && f(e) && (n *= l.getViewport()[t] / 100), Math.ceil(n) }, g = function (e, t) { return u(e, t) + "px" }; n.extend(l, { version: "2.1.7", defaults: { padding: 0, margin: 20, width: 800, height: 600, minWidth: 100, minHeight: 100, maxWidth: 9999, maxHeight: 9999, pixelRatio: 1, autoSize: !0, autoHeight: !1, autoWidth: !1, autoResize: !0, autoCenter: !d, fitToView: !0, aspectRatio: !1, topRatio: .5, leftRatio: .5, scrolling: "auto", wrapCSS: "", arrows: !0, closeBtn: !0, closeClick: !1, nextClick: !1, mouseWheel: !0, autoPlay: !1, playSpeed: 3e3, preload: 3, modal: !1, loop: !0, ajax: { dataType: "html", headers: { "X-fancyBox": !0 } }, iframe: { scrolling: "auto", preload: !0 }, swf: { wmode: "transparent", allowfullscreen: "true", allowscriptaccess: "always" }, keys: { next: { 13: "left", 34: "up", 39: "left", 40: "up" }, prev: { 8: "right", 33: "down", 37: "right", 38: "down" }, close: [27], play: [32], toggle: [70] }, direction: { next: "left", prev: "right" }, scrollOutside: !0, index: 0, type: null, href: null, content: null, title: null, tpl: { wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>', image: '<img class="fancybox-image" src="{href}" alt="" />', iframe: '<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen' + (s ? ' allowtransparency="true"' : "") + "></iframe>", error: '<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>', closeBtn: '<a title="Fermer" class="fancybox-item fancybox-close" href="javascript:;"></a>', next: '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>', prev: '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>', loading: '<div id="fancybox-loading"><div></div></div>' }, openEffect: "fade", openSpeed: 250, openEasing: "swing", openOpacity: !0, openMethod: "zoomIn", closeEffect: "fade", closeSpeed: 250, closeEasing: "swing", closeOpacity: !0, closeMethod: "zoomOut", nextEffect: "elastic", nextSpeed: 250, nextEasing: "swing", nextMethod: "changeIn", prevEffect: "elastic", prevSpeed: 250, prevEasing: "swing", prevMethod: "changeOut", helpers: { overlay: !0, title: !0 }, onCancel: n.noop, beforeLoad: n.noop, afterLoad: n.noop, beforeShow: n.noop, afterShow: n.noop, beforeChange: n.noop, beforeClose: n.noop, afterClose: n.noop }, group: {}, opts: {}, previous: null, coming: null, current: null, isActive: !1, isOpen: !1, isOpened: !1, wrap: null, skin: null, outer: null, inner: null, player: { timer: null, isActive: !1 }, ajaxLoad: null, imgPreload: null, transitions: {}, helpers: {}, open: function (e, t) { return e && (n.isPlainObject(t) || (t = {}), !1 !== l.close(!0)) ? (n.isArray(e) || (e = p(e) ? n(e).get() : [e]), n.each(e, function (o, a) { var r, s, c, d, f, u = {}; "object" === n.type(a) && (a.nodeType && (a = n(a)), p(a) ? (u = { href: a.data("fancybox-href") || a.attr("href"), title: n("<div/>").text(a.data("fancybox-title") || a.attr("title") || "").html(), isDom: !0, element: a }, n.metadata && n.extend(!0, u, a.metadata())) : u = a), r = t.href || u.href || (h(a) ? a : null), s = t.title !== i ? t.title : u.title || "", d = (c = t.content || u.content) ? "html" : t.type || u.type, !d && u.isDom && (d = a.data("fancybox-type"), d || (d = (d = a.prop("class").match(/fancybox\.(\w+)/)) ? d[1] : null)), h(r) && (d || (l.isImage(r) ? d = "image" : l.isSWF(r) ? d = "swf" : "#" === r.charAt(0) ? d = "inline" : h(a) && (d = "html", c = a)), "ajax" === d && (f = r.split(/\s+/, 2), r = f.shift(), f = f.shift())), c || ("inline" === d ? r ? c = n(h(r) ? r.replace(/.*(?=#[^\s]+$)/, "") : r) : u.isDom && (c = a) : "html" === d ? c = r : d || r || !u.isDom || (d = "inline", c = a)), n.extend(u, { href: r, type: d, content: c, title: s, selector: f }), e[o] = u }), l.opts = n.extend(!0, {}, l.defaults, t), t.keys !== i && (l.opts.keys = t.keys ? n.extend({}, l.defaults.keys, t.keys) : !1), l.group = e, l._start(l.opts.index)) : void 0 }, cancel: function () { var e = l.coming; e && !1 === l.trigger("onCancel") || (l.hideLoading(), e && (l.ajaxLoad && l.ajaxLoad.abort(), l.ajaxLoad = null, l.imgPreload && (l.imgPreload.onload = l.imgPreload.onerror = null), e.wrap && e.wrap.stop(!0, !0).trigger("onReset").remove(), l.coming = null, l.current || l._afterZoomOut(e))) }, close: function (e) { l.cancel(), !1 !== l.trigger("beforeClose") && (l.unbindEvents(), l.isActive && (l.isOpen && !0 !== e ? (l.isOpen = l.isOpened = !1, l.isClosing = !0, n(".fancybox-item, .fancybox-nav").remove(), l.wrap.stop(!0, !0).removeClass("fancybox-opened"), l.transitions[l.current.closeMethod]()) : (n(".fancybox-wrap").stop(!0).trigger("onReset").remove(), l._afterZoomOut()))) }, play: function (e) { var t = function () { clearTimeout(l.player.timer) }, n = function () { t(), l.current && l.player.isActive && (l.player.timer = setTimeout(l.next, l.current.playSpeed)) }, i = function () { t(), r.unbind(".player"), l.player.isActive = !1, l.trigger("onPlayEnd") }; !0 === e || !l.player.isActive && !1 !== e ? l.current && (l.current.loop || l.current.index < l.group.length - 1) && (l.player.isActive = !0, r.bind({ "onCancel.player beforeClose.player": i, "onUpdate.player": n, "beforeLoad.player": t }), n(), l.trigger("onPlayStart")) : i() }, next: function (e) { var t = l.current; t && (h(e) || (e = t.direction.next), l.jumpto(t.index + 1, e, "next")) }, prev: function (e) { var t = l.current; t && (h(e) || (e = t.direction.prev), l.jumpto(t.index - 1, e, "prev")) }, jumpto: function (e, t, n) { var o = l.current; o && (e = u(e), l.direction = t || o.direction[e >= o.index ? "next" : "prev"], l.router = n || "jumpto", o.loop && (0 > e && (e = o.group.length + e % o.group.length), e %= o.group.length), o.group[e] !== i && (l.cancel(), l._start(e))) }, reposition: function (e, t) { var i, o = l.current, a = o ? o.wrap : null; a && (i = l._getPosition(t), e && "scroll" === e.type ? (delete i.position, a.stop(!0, !0).animate(i, 200)) : (a.css(i), o.pos = n.extend({}, o.dim, i))) }, update: function (e) { var t = e && e.originalEvent && e.originalEvent.type, n = !t || "orientationchange" === t; n && (clearTimeout(c), c = null), l.isOpen && !c && (c = setTimeout(function () { var i = l.current; i && !l.isClosing && (l.wrap.removeClass("fancybox-tmp"), (n || "load" === t || "resize" === t && i.autoResize) && l._setDimension(), "scroll" === t && i.canShrink || l.reposition(e), l.trigger("onUpdate"), c = null) }, n && !d ? 0 : 300)) }, toggle: function (e) { l.isOpen && (l.current.fitToView = "boolean" === n.type(e) ? e : !l.current.fitToView, d && (l.wrap.removeAttr("style").addClass("fancybox-tmp"), l.trigger("onUpdate")), l.update()) }, hideLoading: function () { r.unbind(".loading"), n("#fancybox-loading").remove() }, showLoading: function () { var e, t; l.hideLoading(), e = n(l.opts.tpl.loading).click(l.cancel).appendTo("body"), r.bind("keydown.loading", function (e) { 27 === (e.which || e.keyCode) && (e.preventDefault(), l.cancel()) }), l.defaults.fixed || (t = l.getViewport(), e.css({ position: "absolute", top: .5 * t.h + t.y, left: .5 * t.w + t.x })), l.trigger("onLoading") }, getViewport: function () { var t = l.current && l.current.locked || !1, n = { x: a.scrollLeft(), y: a.scrollTop() }; return t && t.length ? (n.w = t[0].clientWidth, n.h = t[0].clientHeight) : (n.w = d && e.innerWidth ? e.innerWidth : a.width(), n.h = d && e.innerHeight ? e.innerHeight : a.height()), n }, unbindEvents: function () { l.wrap && p(l.wrap) && l.wrap.unbind(".fb"), r.unbind(".fb"), a.unbind(".fb") }, bindEvents: function () { var e, t = l.current; t && (a.bind("orientationchange.fb" + (d ? "" : " resize.fb") + (t.autoCenter && !t.locked ? " scroll.fb" : ""), l.update), (e = t.keys) && r.bind("keydown.fb", function (o) { var a = o.which || o.keyCode, r = o.target || o.srcElement; return 27 === a && l.coming ? !1 : void (o.ctrlKey || o.altKey || o.shiftKey || o.metaKey || r && (r.type || n(r).is("[contenteditable]")) || n.each(e, function (e, r) { return 1 < t.group.length && r[a] !== i ? (l[e](r[a]), o.preventDefault(), !1) : -1 < n.inArray(a, r) ? (l[e](), o.preventDefault(), !1) : void 0 })) }), n.fn.mousewheel && t.mouseWheel && l.wrap.bind("mousewheel.fb", function (e, i, o, a) { for (var r = n(e.target || null), s = !1; r.length && !(s || r.is(".fancybox-skin") || r.is(".fancybox-wrap"));) s = (s = r[0]) && !(s.style.overflow && "hidden" === s.style.overflow) && (s.clientWidth && s.scrollWidth > s.clientWidth || s.clientHeight && s.scrollHeight > s.clientHeight), r = n(r).parent(); 0 !== i && !s && 1 < l.group.length && !t.canShrink && (a > 0 || o > 0 ? l.prev(a > 0 ? "down" : "left") : (0 > a || 0 > o) && l.next(0 > a ? "up" : "right"), e.preventDefault()) })) }, trigger: function (e, t) { var i, o = t || l.coming || l.current; if (o) { if (n.isFunction(o[e]) && (i = o[e].apply(o, Array.prototype.slice.call(arguments, 1))), !1 === i) return !1; o.helpers && n.each(o.helpers, function (t, i) { i && l.helpers[t] && n.isFunction(l.helpers[t][e]) && l.helpers[t][e](n.extend(!0, {}, l.helpers[t].defaults, i), o) }) } r.trigger(e) }, isImage: function (e) { return h(e) && e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i) }, isSWF: function (e) { return h(e) && e.match(/\.(swf)((\?|#).*)?$/i) }, _start: function (e) { var t, i, o = {}; if (e = u(e), t = l.group[e] || null, !t) return !1; if (o = n.extend(!0, {}, l.opts, t), t = o.margin, i = o.padding, "number" === n.type(t) && (o.margin = [t, t, t, t]), "number" === n.type(i) && (o.padding = [i, i, i, i]), o.modal && n.extend(!0, o, { closeBtn: !1, closeClick: !1, nextClick: !1, arrows: !1, mouseWheel: !1, keys: null, helpers: { overlay: { closeClick: !1 } } }), o.autoSize && (o.autoWidth = o.autoHeight = !0), "auto" === o.width && (o.autoWidth = !0), "auto" === o.height && (o.autoHeight = !0), o.group = l.group, o.index = e, l.coming = o, !1 === l.trigger("beforeLoad")) l.coming = null; else { if (i = o.type, t = o.href, !i) return l.coming = null, l.current && l.router && "jumpto" !== l.router ? (l.current.index = e, l[l.router](l.direction)) : !1; if (l.isActive = !0, ("image" === i || "swf" === i) && (o.autoHeight = o.autoWidth = !1, o.scrolling = "visible"), "image" === i && (o.aspectRatio = !0), "iframe" === i && d && (o.scrolling = "scroll"), o.wrap = n(o.tpl.wrap).addClass("fancybox-" + (d ? "mobile" : "desktop") + " fancybox-type-" + i + " fancybox-tmp " + o.wrapCSS).appendTo(o.parent || "body"), n.extend(o, { skin: n(".fancybox-skin", o.wrap), outer: n(".fancybox-outer", o.wrap), inner: n(".fancybox-inner", o.wrap) }), n.each(["Top", "Right", "Bottom", "Left"], function (e, t) { o.skin.css("padding" + t, g(o.padding[e])) }), l.trigger("onReady"), "inline" === i || "html" === i) { if (!o.content || !o.content.length) return l._error("content") } else if (!t) return l._error("href"); "image" === i ? l._loadImage() : "ajax" === i ? l._loadAjax() : "iframe" === i ? l._loadIframe() : l._afterLoad() } }, _error: function (e) { n.extend(l.coming, { type: "html", autoWidth: !0, autoHeight: !0, minWidth: 0, minHeight: 0, scrolling: "no", hasError: e, content: l.coming.tpl.error }), l._afterLoad() }, _loadImage: function () { var e = l.imgPreload = new Image; e.onload = function () { this.onload = this.onerror = null, l.coming.width = this.width / l.opts.pixelRatio, l.coming.height = this.height / l.opts.pixelRatio, l._afterLoad() }, e.onerror = function () { this.onload = this.onerror = null, l._error("image") }, e.src = l.coming.href, !0 !== e.complete && l.showLoading() }, _loadAjax: function () { var e = l.coming; l.showLoading(), l.ajaxLoad = n.ajax(n.extend({}, e.ajax, { url: e.href, error: function (e, t) { l.coming && "abort" !== t ? l._error("ajax", e) : l.hideLoading() }, success: function (t, n) { "success" === n && (e.content = t, l._afterLoad()) } })) }, _loadIframe: function () { var e = l.coming, t = n(e.tpl.iframe.replace(/\{rnd\}/g, (new Date).getTime())).attr("scrolling", d ? "auto" : e.iframe.scrolling).attr("src", e.href); n(e.wrap).bind("onReset", function () { try { n(this).find("iframe").hide().attr("src", "//about:blank").end().empty() } catch (e) { } }), e.iframe.preload && (l.showLoading(), t.one("load", function () { n(this).data("ready", 1), d || n(this).bind("load.fb", l.update), n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(), l._afterLoad() })), e.content = t.appendTo(e.inner), e.iframe.preload || l._afterLoad() }, _preloadImages: function () { var e, t, n = l.group, i = l.current, o = n.length, a = i.preload ? Math.min(i.preload, o - 1) : 0; for (t = 1; a >= t; t += 1) e = n[(i.index + t) % o], "image" === e.type && e.href && ((new Image).src = e.href) }, _afterLoad: function () { var e, t, i, o, a, r = l.coming, s = l.current; if (l.hideLoading(), r && !1 !== l.isActive) if (!1 === l.trigger("afterLoad", r, s)) r.wrap.stop(!0).trigger("onReset").remove(), l.coming = null; else { switch (s && (l.trigger("beforeChange", s), s.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()), l.unbindEvents(), e = r.content, t = r.type, i = r.scrolling, n.extend(l, { wrap: r.wrap, skin: r.skin, outer: r.outer, inner: r.inner, current: r, previous: s }), o = r.href, t) { case "inline": case "ajax": case "html": r.selector ? e = n("<div>").html(e).find(r.selector) : p(e) && (e.data("fancybox-placeholder") || e.data("fancybox-placeholder", n('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()), e = e.show().detach(), r.wrap.bind("onReset", function () { n(this).find(e).length && e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder", !1) })); break; case "image": e = r.tpl.image.replace(/\{href\}/g, o); break; case "swf": e = '<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="' + o + '"></param>', a = "", n.each(r.swf, function (t, n) { e += '<param name="' + t + '" value="' + n + '"></param>', a += " " + t + '="' + n + '"' }), e += '<embed src="' + o + '" type="application/x-shockwave-flash" width="100%" height="100%"' + a + "></embed></object>" } p(e) && e.parent().is(r.inner) || r.inner.append(e), l.trigger("beforeShow"), r.inner.css("overflow", "yes" === i ? "scroll" : "no" === i ? "hidden" : i), l._setDimension(), l.reposition(), l.isOpen = !1, l.coming = null, l.bindEvents(), l.isOpened ? s.prevMethod && l.transitions[s.prevMethod]() : n(".fancybox-wrap").not(r.wrap).stop(!0).trigger("onReset").remove(), l.transitions[l.isOpened ? r.nextMethod : r.openMethod](), l._preloadImages() } }, _setDimension: function () { var e, t = l.getViewport(), i = 0, o = l.wrap, a = l.skin, r = l.inner, s = l.current; e = s.width; var c, d, p, h, m, y, x, v, w, b = s.height, k = s.minWidth, C = s.minHeight, O = s.maxWidth, W = s.maxHeight, _ = s.scrolling, S = s.scrollOutside ? s.scrollbarWidth : 0, T = s.margin, E = u(T[1] + T[3]), L = u(T[0] + T[2]); if (o.add(a).add(r).width("auto").height("auto").removeClass("fancybox-tmp"), T = u(a.outerWidth(!0) - a.width()), c = u(a.outerHeight(!0) - a.height()), d = E + T, p = L + c, h = f(e) ? (t.w - d) * u(e) / 100 : e, m = f(b) ? (t.h - p) * u(b) / 100 : b, "iframe" === s.type) { if (w = s.content, s.autoHeight && w && 1 === w.data("ready")) try { w[0].contentWindow.document.location && (r.width(h).height(9999), y = w.contents().find("body"), S && y.css("overflow-x", "hidden"), m = y.outerHeight(!0)) } catch (H) { } } else (s.autoWidth || s.autoHeight) && (r.addClass("fancybox-tmp"), s.autoWidth || r.width(h), s.autoHeight || r.height(m), s.autoWidth && (h = r.width()), s.autoHeight && (m = r.height()), r.removeClass("fancybox-tmp")); if (e = u(h), b = u(m), v = h / m, k = u(f(k) ? u(k, "w") - d : k), O = u(f(O) ? u(O, "w") - d : O), C = u(f(C) ? u(C, "h") - p : C), W = u(f(W) ? u(W, "h") - p : W), y = O, x = W, s.fitToView && (O = Math.min(t.w - d, O), W = Math.min(t.h - p, W)), d = t.w - E, L = t.h - L, s.aspectRatio ? (e > O && (e = O, b = u(e / v)), b > W && (b = W, e = u(b * v)), k > e && (e = k, b = u(e / v)), C > b && (b = C, e = u(b * v))) : (e = Math.max(k, Math.min(e, O)), s.autoHeight && "iframe" !== s.type && (r.width(e), b = r.height()), b = Math.max(C, Math.min(b, W))), s.fitToView) if (r.width(e).height(b), o.width(e + T), t = o.width(), E = o.height(), s.aspectRatio) for (; (t > d || E > L) && e > k && b > C && !(19 < i++);) b = Math.max(C, Math.min(W, b - 10)), e = u(b * v), k > e && (e = k, b = u(e / v)), e > O && (e = O, b = u(e / v)), r.width(e).height(b), o.width(e + T), t = o.width(), E = o.height(); else e = Math.max(k, Math.min(e, e - (t - d))), b = Math.max(C, Math.min(b, b - (E - L))); S && "auto" === _ && m > b && d > e + T + S && (e += S), r.width(e).height(b), o.width(e + T), t = o.width(), E = o.height(), i = (t > d || E > L) && e > k && b > C, e = s.aspectRatio ? y > e && x > b && h > e && m > b : (y > e || x > b) && (h > e || m > b), n.extend(s, { dim: { width: g(t), height: g(E) }, origWidth: h, origHeight: m, canShrink: i, canExpand: e, wPadding: T, hPadding: c, wrapSpace: E - a.outerHeight(!0), skinSpace: a.height() - b }), !w && s.autoHeight && b > C && W > b && !e && r.height("auto") }, _getPosition: function (e) { var t = l.current, n = l.getViewport(), i = t.margin, o = l.wrap.width() + i[1] + i[3], a = l.wrap.height() + i[0] + i[2], i = { position: "absolute", top: i[0], left: i[3] }; return t.autoCenter && t.fixed && !e && a <= n.h && o <= n.w ? i.position = "fixed" : t.locked || (i.top += n.y, i.left += n.x), i.top = g(Math.max(i.top, i.top + (n.h - a) * t.topRatio)), i.left = g(Math.max(i.left, i.left + (n.w - o) * t.leftRatio)), i }, _afterZoomIn: function () { var e = l.current; e && (l.isOpen = l.isOpened = !0, l.wrap.css("overflow", "visible").addClass("fancybox-opened").hide().show(0), l.update(), (e.closeClick || e.nextClick && 1 < l.group.length) && l.inner.css("cursor", "pointer").bind("click.fb", function (t) { n(t.target).is("a") || n(t.target).parent().is("a") || (t.preventDefault(), l[e.closeClick ? "close" : "next"]()) }), e.closeBtn && n(e.tpl.closeBtn).appendTo(l.skin).bind("click.fb", function (e) { e.preventDefault(), l.close() }), e.arrows && 1 < l.group.length && ((e.loop || 0 < e.index) && n(e.tpl.prev).appendTo(l.outer).bind("click.fb", l.prev), (e.loop || e.index < l.group.length - 1) && n(e.tpl.next).appendTo(l.outer).bind("click.fb", l.next)), l.trigger("afterShow"), e.loop || e.index !== e.group.length - 1 ? l.opts.autoPlay && !l.player.isActive && (l.opts.autoPlay = !1, l.play(!0)) : l.play(!1)) }, _afterZoomOut: function (e) { e = e || l.current, n(".fancybox-wrap").trigger("onReset").remove(), n.extend(l, { group: {}, opts: {}, router: !1, current: null, isActive: !1, isOpened: !1, isOpen: !1, isClosing: !1, wrap: null, skin: null, outer: null, inner: null }), l.trigger("afterClose", e) } }), l.transitions = { getOrigPosition: function () { var e = l.current, t = e.element, n = e.orig, i = {}, o = 50, a = 50, r = e.hPadding, s = e.wPadding, c = l.getViewport(); return !n && e.isDom && t.is(":visible") && (n = t.find("img:first"), n.length || (n = t)), p(n) ? (i = n.offset(), n.is("img") && (o = n.outerWidth(), a = n.outerHeight())) : (i.top = c.y + (c.h - a) * e.topRatio, i.left = c.x + (c.w - o) * e.leftRatio), ("fixed" === l.wrap.css("position") || e.locked) && (i.top -= c.y, i.left -= c.x), i = { top: g(i.top - r * e.topRatio), left: g(i.left - s * e.leftRatio), width: g(o + s), height: g(a + r) } }, step: function (e, t) { var n, i, o = t.prop; i = l.current; var a = i.wrapSpace, r = i.skinSpace; ("width" === o || "height" === o) && (n = t.end === t.start ? 1 : (e - t.start) / (t.end - t.start), l.isClosing && (n = 1 - n), i = "width" === o ? i.wPadding : i.hPadding, i = e - i, l.skin[o](u("width" === o ? i : i - a * n)), l.inner[o](u("width" === o ? i : i - a * n - r * n))) }, zoomIn: function () { var e = l.current, t = e.pos, i = e.openEffect, o = "elastic" === i, a = n.extend({ opacity: 1 }, t); delete a.position, o ? (t = this.getOrigPosition(), e.openOpacity && (t.opacity = .1)) : "fade" === i && (t.opacity = .1), l.wrap.css(t).animate(a, { duration: "none" === i ? 0 : e.openSpeed, easing: e.openEasing, step: o ? this.step : null, complete: l._afterZoomIn }) }, zoomOut: function () { var e = l.current, t = e.closeEffect, n = "elastic" === t, i = { opacity: .1 }; n && (i = this.getOrigPosition(), e.closeOpacity && (i.opacity = .1)), l.wrap.animate(i, { duration: "none" === t ? 0 : e.closeSpeed, easing: e.closeEasing, step: n ? this.step : null, complete: l._afterZoomOut }) }, changeIn: function () { var e, t = l.current, n = t.nextEffect, i = t.pos, o = { opacity: 1 }, a = l.direction; i.opacity = .1, "elastic" === n && (e = "down" === a || "up" === a ? "top" : "left", "down" === a || "right" === a ? (i[e] = g(u(i[e]) - 200), o[e] = "+=200px") : (i[e] = g(u(i[e]) + 200), o[e] = "-=200px")), "none" === n ? l._afterZoomIn() : l.wrap.css(i).animate(o, { duration: t.nextSpeed, easing: t.nextEasing, complete: l._afterZoomIn }) }, changeOut: function () { var e = l.previous, t = e.prevEffect, i = { opacity: .1 }, o = l.direction; "elastic" === t && (i["down" === o || "up" === o ? "top" : "left"] = ("up" === o || "left" === o ? "-" : "+") + "=200px"), e.wrap.animate(i, { duration: "none" === t ? 0 : e.prevSpeed, easing: e.prevEasing, complete: function () { n(this).trigger("onReset").remove() } }) } }, l.helpers.overlay = { defaults: { closeClick: !0, speedOut: 200, showEarly: !0, css: {}, locked: !d, fixed: !0 }, overlay: null, fixed: !1, el: n("html"), create: function (e) { var t; e = n.extend({}, this.defaults, e), this.overlay && this.close(), t = l.coming ? l.coming.parent : e.parent, this.overlay = n('<div class="fancybox-overlay"></div>').appendTo(t && t.length ? t : "body"), this.fixed = !1, e.fixed && l.defaults.fixed && (this.overlay.addClass("fancybox-overlay-fixed"), this.fixed = !0) }, open: function (e) { var t = this; e = n.extend({}, this.defaults, e), this.overlay ? this.overlay.unbind(".overlay").width("auto").height("auto") : this.create(e), this.fixed || (a.bind("resize.overlay", n.proxy(this.update, this)), this.update()), e.closeClick && this.overlay.bind("click.overlay", function (e) { return n(e.target).hasClass("fancybox-overlay") ? (l.isActive ? l.close() : t.close(), !1) : void 0 }), this.overlay.css(e.css).show() }, close: function () { a.unbind("resize.overlay"), this.el.hasClass("fancybox-lock") && (n(".fancybox-margin").removeClass("fancybox-margin"), this.el.removeClass("fancybox-lock"), a.scrollTop(this.scrollV).scrollLeft(this.scrollH)), n(".fancybox-overlay").remove().hide(), n.extend(this, { overlay: null, fixed: !1 }) }, update: function () { var e, n = "100%"; this.overlay.width(n).height("100%"), s ? (e = Math.max(t.documentElement.offsetWidth, t.body.offsetWidth), r.width() > e && (n = r.width())) : r.width() > a.width() && (n = r.width()), this.overlay.width(n).height(r.height()) }, onReady: function (e, t) { var i = this.overlay; n(".fancybox-overlay").stop(!0, !0), i || this.create(e), e.locked && this.fixed && t.fixed && (t.locked = this.overlay.append(t.wrap), t.fixed = !1), !0 === e.showEarly && this.beforeShow.apply(this, arguments) }, beforeShow: function (e, t) { t.locked && !this.el.hasClass("fancybox-lock") && (!1 !== this.fixPosition && n("*:not(object)").filter(function () { return "fixed" === n(this).css("position") && !n(this).hasClass("fancybox-overlay") && !n(this).hasClass("fancybox-wrap") }).addClass("fancybox-margin"), this.el.addClass("fancybox-margin"), this.scrollV = a.scrollTop(), this.scrollH = a.scrollLeft(), this.el.addClass("fancybox-lock"), a.scrollTop(this.scrollV).scrollLeft(this.scrollH)), this.open(e) }, onUpdate: function () { this.fixed || this.update() }, afterClose: function (e) { this.overlay && !l.coming && this.overlay.fadeOut(e.speedOut, n.proxy(this.close, this)) } }, l.helpers.title = { defaults: { type: "float", position: "bottom" }, beforeShow: function (e) { var t = l.current, i = t.title, o = e.type; if (n.isFunction(i) && (i = i.call(t.element, t)), h(i) && "" !== n.trim(i)) { switch (t = n('<div class="fancybox-title fancybox-title-' + o + '-wrap">' + i + "</div>"), o) { case "inside": o = l.skin; break; case "outside": o = l.wrap; break; case "over": o = l.inner; break; default: o = l.skin, t.appendTo("body"), s && t.width(t.width()), t.wrapInner('<span class="child"></span>'), l.current.margin[2] += Math.abs(u(t.css("margin-bottom"))) } t["top" === e.position ? "prependTo" : "appendTo"](o) } } }, n.fn.fancybox = function (e) { var t, i = n(this), o = this.selector || "", a = function (a) { var r, s, c = n(this).blur(), d = t; a.ctrlKey || a.altKey || a.shiftKey || a.metaKey || c.is(".fancybox-wrap") || (r = e.groupAttr || "data-fancybox-group", s = c.attr(r), s || (r = "rel", s = c.get(0)[r]), s && "" !== s && "nofollow" !== s && (c = o.length ? n(o) : i, c = c.filter("[" + r + '="' + s + '"]'), d = c.index(this)), e.index = d, !1 !== l.open(c, e) && a.preventDefault()) }; return e = e || {}, t = e.index || 0, o && !1 !== e.live ? r.undelegate(o, "click.fb-start").delegate(o + ":not('.fancybox-item, .fancybox-nav')", "click.fb-start", a) : i.unbind("click.fb-start").bind("click.fb-start", a), this.filter("[data-fancybox-start=1]").trigger("click"), this }, r.ready(function () { var t, a; n.scrollbarWidth === i && (n.scrollbarWidth = function () { var e = n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"), t = e.children(), t = t.innerWidth() - t.height(99).innerWidth(); return e.remove(), t }), n.support.fixedPosition === i && (n.support.fixedPosition = function () { var e = n('<div style="position:fixed;top:20px;"></div>').appendTo("body"), t = 20 === e[0].offsetTop || 15 === e[0].offsetTop; return e.remove(), t }()), n.extend(l.defaults, { scrollbarWidth: n.scrollbarWidth(), fixed: n.support.fixedPosition, parent: n("body") }), t = n(e).width(), o.addClass("fancybox-lock-test"), a = n(e).width(), o.removeClass("fancybox-lock-test"), n("<style type='text/css'>.fancybox-margin{margin-right:" + (a - t) + "px;}</style>").appendTo("head") }) }(window, document, jQuery);
/*jquery.fancybox-buttons.js*/!function (t) { var s = t.fancybox; s.helpers.buttons = { defaults: { skipSingle: !1, position: "top", tpl: '<div id="fancybox-buttons"><ul><li><a class="btnPrev" title="Previous" href="javascript:;"></a></li><li><a class="btnPlay" title="Start slideshow" href="javascript:;"></a></li><li><a class="btnNext" title="Next" href="javascript:;"></a></li><li><a class="btnToggle" title="Toggle size" href="javascript:;"></a></li><li><a class="btnClose" title="Close" href="javascript:;"></a></li></ul></div>' }, list: null, buttons: null, beforeLoad: function (t, s) { return t.skipSingle && s.group.length < 2 ? (s.helpers.buttons = !1, void (s.closeBtn = !0)) : void (s.margin["bottom" === t.position ? 2 : 0] += 30) }, onPlayStart: function () { this.buttons && this.buttons.play.attr("title", "Pause slideshow").addClass("btnPlayOn") }, onPlayEnd: function () { this.buttons && this.buttons.play.attr("title", "Start slideshow").removeClass("btnPlayOn") }, afterShow: function (l, i) { var n = this.buttons; n || (this.list = t(l.tpl).addClass(l.position).appendTo("body"), n = { prev: this.list.find(".btnPrev").click(s.prev), next: this.list.find(".btnNext").click(s.next), play: this.list.find(".btnPlay").click(s.play), toggle: this.list.find(".btnToggle").click(s.toggle), close: this.list.find(".btnClose").click(s.close) }), i.index > 0 || i.loop ? n.prev.removeClass("btnDisabled") : n.prev.addClass("btnDisabled"), i.loop || i.index < i.group.length - 1 ? (n.next.removeClass("btnDisabled"), n.play.removeClass("btnDisabled")) : (n.next.addClass("btnDisabled"), n.play.addClass("btnDisabled")), this.buttons = n, this.onUpdate(l, i) }, onUpdate: function (t, s) { var l; this.buttons && (l = this.buttons.toggle.removeClass("btnDisabled btnToggleOn"), s.canShrink ? l.addClass("btnToggleOn") : s.canExpand || l.addClass("btnDisabled")) }, beforeClose: function () { this.list && this.list.remove(), this.list = null, this.buttons = null } } }(jQuery);
/*jquery.fancybox-media.js*/!function (e) { "use strict"; var a = e.fancybox, t = function (a, t, o) { return o = o || "", "object" === e.type(o) && (o = e.param(o, !0)), e.each(t, function (e, t) { a = a.replace("$" + e, t || "") }), o.length && (a += (a.indexOf("?") > 0 ? "&" : "?") + o), a }; a.helpers.media = { defaults: { youtube: { matcher: /(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i, params: { autoplay: 1, autohide: 1, fs: 1, rel: 0, hd: 1, wmode: "opaque", enablejsapi: 1, ps: "docs", controls: 1 }, type: "iframe", url: "//www.youtube.com/embed/$3" }, vimeo: { matcher: /(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/, params: { autoplay: 1, hd: 1, show_title: 1, show_byline: 1, show_portrait: 0, fullscreen: 1 }, type: "iframe", url: "//player.vimeo.com/video/$1" }, metacafe: { matcher: /metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/, params: { autoPlay: "yes" }, type: "swf", url: function (a, t, o) { return o.swf.flashVars = "playerVars=" + e.param(t, !0), "//www.metacafe.com/fplayer/" + a[1] + "/.swf" } }, dailymotion: { matcher: /dailymotion.com\/video\/(.*)\/?(.*)/, params: { additionalInfos: 0, autoStart: 1 }, type: "swf", url: "//www.dailymotion.com/swf/video/$1" }, twitvid: { matcher: /twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i, params: { autoplay: 0 }, type: "iframe", url: "//www.twitvid.com/embed.php?guid=$1" }, twitpic: { matcher: /twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i, type: "image", url: "//twitpic.com/show/full/$1/" }, instagram: { matcher: /(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i, type: "image", url: "//$1/p/$2/media/?size=l" }, google_maps: { matcher: /maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i, type: "iframe", url: function (e) { return "//maps.google." + e[1] + "/" + e[3] + e[4] + "&output=" + (e[4].indexOf("layer=c") > 0 ? "svembed" : "embed") } } }, beforeLoad: function (a, o) { var i, r, m, l, c = o.href || "", p = !1; for (i in a) if (a.hasOwnProperty(i) && (r = a[i], m = c.match(r.matcher))) { p = r.type, l = e.extend(!0, {}, r.params, o[i] || (e.isPlainObject(a[i]) ? a[i].params : null)), c = "function" === e.type(r.url) ? r.url.call(this, m, l, o) : t(r.url, m, l); break } p && (o.href = c, o.type = p, o.autoHeight = !1) } } }(jQuery);
/*jquery.fancybox-thumbs.js*/!function (t) { var i = t.fancybox; i.helpers.thumbs = { defaults: { width: 50, height: 50, position: "bottom", source: function (i) { var h; return i.element && (h = t(i.element).find("img").attr("src")), !h && "image" === i.type && i.href && (h = i.href), h } }, wrap: null, list: null, width: 0, init: function (i, h) { var e, s = this, o = i.width, n = i.height, r = i.source; e = ""; for (var a = 0; a < h.group.length; a++) e += '<li><a style="width:' + o + "px;height:" + n + 'px;" href="javascript:jQuery.fancybox.jumpto(' + a + ');"></a></li>'; this.wrap = t('<div id="fancybox-thumbs"></div>').addClass(i.position).appendTo("body"), this.list = t("<ul>" + e + "</ul>").appendTo(this.wrap), t.each(h.group, function (i) { var e = h.group[i], a = r(e); a && t("<img />").on("load", function () { var h, e, r, a = this.width, l = this.height; s.list && a && l && (h = a / o, e = l / n, r = s.list.children().eq(i).find("a"), h >= 1 && e >= 1 && (h > e ? (a = Math.floor(a / e), l = n) : (a = o, l = Math.floor(l / h))), t(this).css({ width: a, height: l, top: Math.floor(n / 2 - l / 2), left: Math.floor(o / 2 - a / 2) }), r.width(o).height(n), t(this).hide().appendTo(r).fadeIn(300)) }).attr("src", a).attr("title", e.title) }), this.width = this.list.children().eq(0).outerWidth(!0), this.list.width(this.width * (h.group.length + 1)).css("left", Math.floor(.5 * t(window).width() - (h.index * this.width + .5 * this.width))) }, beforeLoad: function (t, i) { return i.group.length < 2 ? void (i.helpers.thumbs = !1) : void (i.margin["top" === t.position ? 0 : 2] += t.height + 15) }, afterShow: function (t, i) { this.list ? this.onUpdate(t, i) : this.init(t, i), this.list.children().removeClass("active").eq(i.index).addClass("active") }, onUpdate: function (i, h) { this.list && this.list.stop(!0).animate({ left: Math.floor(.5 * t(window).width() - (h.index * this.width + .5 * this.width)) }, 150) }, beforeClose: function () { this.wrap && this.wrap.remove(), this.wrap = null, this.list = null, this.width = 0 } } }(jQuery);
/*slick.min.js*/!function (i) { "use strict"; "function" == typeof define && define.amd ? define(["jquery"], i) : "undefined" != typeof exports ? module.exports = i(require("jquery")) : i(jQuery) }(function (i) { "use strict"; var e = window.Slick || {}; e = function () { function e(e, o) { var s, n = this; n.defaults = { accessibility: !0, adaptiveHeight: !1, appendArrows: i(e), appendDots: i(e), arrows: !0, asNavFor: null, prevArrow: '<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>', nextArrow: '<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>', autoplay: !1, autoplaySpeed: 8e3, centerMode: !1, centerPadding: "50px", cssEase: "ease", customPaging: function (i, e) { return '<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">' + (e + 1) + "</button>" }, dots: !1, dotsClass: "slick-dots", draggable: !0, easing: "linear", edgeFriction: .35, fade: !1, focusOnSelect: !1, infinite: !0, initialSlide: 0, lazyLoad: "ondemand", mobileFirst: !1, pauseOnHover: !0, pauseOnDotsHover: !1, respondTo: "window", responsive: null, rows: 1, rtl: !1, slide: "", slidesPerRow: 1, slidesToShow: 1, slidesToScroll: 1, speed: 500, swipe: !0, swipeToSlide: !1, touchMove: !0, touchThreshold: 5, useCSS: !0, useTransform: !1, variableWidth: !1, vertical: !1, verticalSwiping: !1, waitForAnimate: !0, zIndex: 1e3 }, n.initials = { animating: !1, dragging: !1, autoPlayTimer: null, currentDirection: 0, currentLeft: null, currentSlide: 0, direction: 1, $dots: null, listWidth: null, listHeight: null, loadIndex: 0, $nextArrow: null, $prevArrow: null, slideCount: null, slideWidth: null, $slideTrack: null, $slides: null, sliding: !1, slideOffset: 0, swipeLeft: null, $list: null, touchObject: {}, transformsEnabled: !1, unslicked: !1 }, i.extend(n, n.initials), n.activeBreakpoint = null, n.animType = null, n.animProp = null, n.breakpoints = [], n.breakpointSettings = [], n.cssTransitions = !1, n.hidden = "hidden", n.paused = !1, n.positionProp = null, n.respondTo = null, n.rowCount = 1, n.shouldClick = !0, n.$slider = i(e), n.$slidesCache = null, n.transformType = null, n.transitionType = null, n.visibilityChange = "visibilitychange", n.windowWidth = 0, n.windowTimer = null, s = i(e).data("slick") || {}, n.options = i.extend({}, n.defaults, s, o), n.currentSlide = n.options.initialSlide, n.originalSettings = n.options, "undefined" != typeof document.mozHidden ? (n.hidden = "mozHidden", n.visibilityChange = "mozvisibilitychange") : "undefined" != typeof document.webkitHidden && (n.hidden = "webkitHidden", n.visibilityChange = "webkitvisibilitychange"), n.autoPlay = i.proxy(n.autoPlay, n), n.autoPlayClear = i.proxy(n.autoPlayClear, n), n.changeSlide = i.proxy(n.changeSlide, n), n.clickHandler = i.proxy(n.clickHandler, n), n.selectHandler = i.proxy(n.selectHandler, n), n.setPosition = i.proxy(n.setPosition, n), n.swipeHandler = i.proxy(n.swipeHandler, n), n.dragHandler = i.proxy(n.dragHandler, n), n.keyHandler = i.proxy(n.keyHandler, n), n.autoPlayIterator = i.proxy(n.autoPlayIterator, n), n.instanceUid = t++, n.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, n.registerBreakpoints(), n.init(!0), n.checkResponsive(!0) } var t = 0; return e }(), e.prototype.addSlide = e.prototype.slickAdd = function (e, t, o) { var s = this; if ("boolean" == typeof t) o = t, t = null; else if (0 > t || t >= s.slideCount) return !1; s.unload(), "number" == typeof t ? 0 === t && 0 === s.$slides.length ? i(e).appendTo(s.$slideTrack) : o ? i(e).insertBefore(s.$slides.eq(t)) : i(e).insertAfter(s.$slides.eq(t)) : o === !0 ? i(e).prependTo(s.$slideTrack) : i(e).appendTo(s.$slideTrack), s.$slides = s.$slideTrack.children(this.options.slide), s.$slideTrack.children(this.options.slide).detach(), s.$slideTrack.append(s.$slides), s.$slides.each(function (e, t) { i(t).attr("data-slick-index", e) }), s.$slidesCache = s.$slides, s.reinit() }, e.prototype.animateHeight = function () { var i = this; if (1 === i.options.slidesToShow && i.options.adaptiveHeight === !0 && i.options.vertical === !1) { var e = i.$slides.eq(i.currentSlide).outerHeight(!0); i.$list.animate({ height: e }, i.options.speed) } }, e.prototype.animateSlide = function (e, t) { var o = {}, s = this; s.animateHeight(), s.options.rtl === !0 && s.options.vertical === !1 && (e = -e), s.transformsEnabled === !1 ? s.options.vertical === !1 ? s.$slideTrack.animate({ left: e }, s.options.speed, s.options.easing, t) : s.$slideTrack.animate({ top: e }, s.options.speed, s.options.easing, t) : s.cssTransitions === !1 ? (s.options.rtl === !0 && (s.currentLeft = -s.currentLeft), i({ animStart: s.currentLeft }).animate({ animStart: e }, { duration: s.options.speed, easing: s.options.easing, step: function (i) { i = Math.ceil(i), s.options.vertical === !1 ? (o[s.animType] = "translate(" + i + "px, 0px)", s.$slideTrack.css(o)) : (o[s.animType] = "translate(0px," + i + "px)", s.$slideTrack.css(o)) }, complete: function () { t && t.call() } })) : (s.applyTransition(), e = Math.ceil(e), s.options.vertical === !1 ? o[s.animType] = "translate3d(" + e + "px, 0px, 0px)" : o[s.animType] = "translate3d(0px," + e + "px, 0px)", s.$slideTrack.css(o), t && setTimeout(function () { s.disableTransition(), t.call() }, s.options.speed)) }, e.prototype.asNavFor = function (e) { var t = this, o = t.options.asNavFor; o && null !== o && (o = i(o).not(t.$slider)), null !== o && "object" == typeof o && o.each(function () { var t = i(this).slick("getSlick"); t.unslicked || t.slideHandler(e, !0) }) }, e.prototype.applyTransition = function (i) { var e = this, t = {}; e.options.fade === !1 ? t[e.transitionType] = e.transformType + " " + e.options.speed + "ms " + e.options.cssEase : t[e.transitionType] = "opacity " + e.options.speed + "ms " + e.options.cssEase, e.options.fade === !1 ? e.$slideTrack.css(t) : e.$slides.eq(i).css(t) }, e.prototype.autoPlay = function () { var i = this; i.autoPlayTimer && clearInterval(i.autoPlayTimer), i.slideCount > i.options.slidesToShow && i.paused !== !0 && (i.autoPlayTimer = setInterval(i.autoPlayIterator, i.options.autoplaySpeed)) }, e.prototype.autoPlayClear = function () { var i = this; i.autoPlayTimer && clearInterval(i.autoPlayTimer) }, e.prototype.autoPlayIterator = function () { var i = this; i.options.infinite === !1 ? 1 === i.direction ? (i.currentSlide + 1 === i.slideCount - 1 && (i.direction = 0), i.slideHandler(i.currentSlide + i.options.slidesToScroll)) : (i.currentSlide - 1 === 0 && (i.direction = 1), i.slideHandler(i.currentSlide - i.options.slidesToScroll)) : i.slideHandler(i.currentSlide + i.options.slidesToScroll) }, e.prototype.buildArrows = function () { var e = this; e.options.arrows === !0 && (e.$prevArrow = i(e.options.prevArrow).addClass("slick-arrow"), e.$nextArrow = i(e.options.nextArrow).addClass("slick-arrow"), e.slideCount > e.options.slidesToShow ? (e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.prependTo(e.options.appendArrows), e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.appendTo(e.options.appendArrows), e.options.infinite !== !0 && e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({ "aria-disabled": "true", tabindex: "-1" })) }, e.prototype.buildDots = function () { var e, t, o = this; if (o.options.dots === !0 && o.slideCount > o.options.slidesToShow) { for (t = '<ul class="' + o.options.dotsClass + '">', e = 0; e <= o.getDotCount(); e += 1) t += "<li>" + o.options.customPaging.call(this, o, e) + "</li>"; t += "</ul>", o.$dots = i(t).appendTo(o.options.appendDots), o.$dots.find("li").first().addClass("slick-active").attr("aria-hidden", "false") } }, e.prototype.buildOut = function () { var e = this; e.$slides = e.$slider.children(e.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), e.slideCount = e.$slides.length, e.$slides.each(function (e, t) { i(t).attr("data-slick-index", e).data("originalStyling", i(t).attr("style") || "") }), e.$slider.addClass("slick-slider"), e.$slideTrack = 0 === e.slideCount ? i('<div class="slick-track"/>').appendTo(e.$slider) : e.$slides.wrapAll('<div class="slick-track"/>').parent(), e.$list = e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(), e.$slideTrack.css("opacity", 0), (e.options.centerMode === !0 || e.options.swipeToSlide === !0) && (e.options.slidesToScroll = 1), i("img[data-lazy]", e.$slider).not("[src]").addClass("slick-loading"), e.setupInfinite(), e.buildArrows(), e.buildDots(), e.updateDots(), e.setSlideClasses("number" == typeof e.currentSlide ? e.currentSlide : 0), e.options.draggable === !0 && e.$list.addClass("draggable") }, e.prototype.buildRows = function () { var i, e, t, o, s, n, r, l = this; if (o = document.createDocumentFragment(), n = l.$slider.children(), l.options.rows > 1) { for (r = l.options.slidesPerRow * l.options.rows, s = Math.ceil(n.length / r), i = 0; s > i; i++) { var a = document.createElement("div"); for (e = 0; e < l.options.rows; e++) { var d = document.createElement("div"); for (t = 0; t < l.options.slidesPerRow; t++) { var c = i * r + (e * l.options.slidesPerRow + t); n.get(c) && d.appendChild(n.get(c)) } a.appendChild(d) } o.appendChild(a) } l.$slider.html(o), l.$slider.children().children().children().css({ width: 100 / l.options.slidesPerRow + "%", display: "inline-block" }) } }, e.prototype.checkResponsive = function (e, t) { var o, s, n, r = this, l = !1, a = r.$slider.width(), d = window.innerWidth || i(window).width(); if ("window" === r.respondTo ? n = d : "slider" === r.respondTo ? n = a : "min" === r.respondTo && (n = Math.min(d, a)), r.options.responsive && r.options.responsive.length && null !== r.options.responsive) { s = null; for (o in r.breakpoints) r.breakpoints.hasOwnProperty(o) && (r.originalSettings.mobileFirst === !1 ? n < r.breakpoints[o] && (s = r.breakpoints[o]) : n > r.breakpoints[o] && (s = r.breakpoints[o])); null !== s ? null !== r.activeBreakpoint ? (s !== r.activeBreakpoint || t) && (r.activeBreakpoint = s, "unslick" === r.breakpointSettings[s] ? r.unslick(s) : (r.options = i.extend({}, r.originalSettings, r.breakpointSettings[s]), e === !0 && (r.currentSlide = r.options.initialSlide), r.refresh(e)), l = s) : (r.activeBreakpoint = s, "unslick" === r.breakpointSettings[s] ? r.unslick(s) : (r.options = i.extend({}, r.originalSettings, r.breakpointSettings[s]), e === !0 && (r.currentSlide = r.options.initialSlide), r.refresh(e)), l = s) : null !== r.activeBreakpoint && (r.activeBreakpoint = null, r.options = r.originalSettings, e === !0 && (r.currentSlide = r.options.initialSlide), r.refresh(e), l = s), e || l === !1 || r.$slider.trigger("breakpoint", [r, l]) } }, e.prototype.changeSlide = function (e, t) { var o, s, n, r = this, l = i(e.target); switch (l.is("a") && e.preventDefault(), l.is("li") || (l = l.closest("li")), n = r.slideCount % r.options.slidesToScroll !== 0, o = n ? 0 : (r.slideCount - r.currentSlide) % r.options.slidesToScroll, e.data.message) { case "previous": s = 0 === o ? r.options.slidesToScroll : r.options.slidesToShow - o, r.slideCount > r.options.slidesToShow && r.slideHandler(r.currentSlide - s, !1, t); break; case "next": s = 0 === o ? r.options.slidesToScroll : o, r.slideCount > r.options.slidesToShow && r.slideHandler(r.currentSlide + s, !1, t); break; case "index": var a = 0 === e.data.index ? 0 : e.data.index || l.index() * r.options.slidesToScroll; r.slideHandler(r.checkNavigable(a), !1, t), l.children().trigger("focus"); break; default: return } }, e.prototype.checkNavigable = function (i) { var e, t, o = this; if (e = o.getNavigableIndexes(), t = 0, i > e[e.length - 1]) i = e[e.length - 1]; else for (var s in e) { if (i < e[s]) { i = t; break } t = e[s] } return i }, e.prototype.cleanUpEvents = function () { var e = this; e.options.dots && null !== e.$dots && (i("li", e.$dots).off("click.slick", e.changeSlide), e.options.pauseOnDotsHover === !0 && e.options.autoplay === !0 && i("li", e.$dots).off("mouseenter.slick", i.proxy(e.setPaused, e, !0)).off("mouseleave.slick", i.proxy(e.setPaused, e, !1))), e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow && e.$prevArrow.off("click.slick", e.changeSlide), e.$nextArrow && e.$nextArrow.off("click.slick", e.changeSlide)), e.$list.off("touchstart.slick mousedown.slick", e.swipeHandler), e.$list.off("touchmove.slick mousemove.slick", e.swipeHandler), e.$list.off("touchend.slick mouseup.slick", e.swipeHandler), e.$list.off("touchcancel.slick mouseleave.slick", e.swipeHandler), e.$list.off("click.slick", e.clickHandler), i(document).off(e.visibilityChange, e.visibility), e.$list.off("mouseenter.slick", i.proxy(e.setPaused, e, !0)), e.$list.off("mouseleave.slick", i.proxy(e.setPaused, e, !1)), e.options.accessibility === !0 && e.$list.off("keydown.slick", e.keyHandler), e.options.focusOnSelect === !0 && i(e.$slideTrack).children().off("click.slick", e.selectHandler), i(window).off("orientationchange.slick.slick-" + e.instanceUid, e.orientationChange), i(window).off("resize.slick.slick-" + e.instanceUid, e.resize), i("[draggable!=true]", e.$slideTrack).off("dragstart", e.preventDefault), i(window).off("load.slick.slick-" + e.instanceUid, e.setPosition), i(document).off("ready.slick.slick-" + e.instanceUid, e.setPosition) }, e.prototype.cleanUpRows = function () { var i, e = this; e.options.rows > 1 && (i = e.$slides.children().children(), i.removeAttr("style"), e.$slider.html(i)) }, e.prototype.clickHandler = function (i) { var e = this; e.shouldClick === !1 && (i.stopImmediatePropagation(), i.stopPropagation(), i.preventDefault()) }, e.prototype.destroy = function (e) { var t = this; t.autoPlayClear(), t.touchObject = {}, t.cleanUpEvents(), i(".slick-cloned", t.$slider).detach(), t.$dots && t.$dots.remove(), t.$prevArrow && t.$prevArrow.length && (t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.remove()), t.$nextArrow && t.$nextArrow.length && (t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.remove()), t.$slides && (t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function () { i(this).attr("style", i(this).data("originalStyling")) }), t.$slideTrack.children(this.options.slide).detach(), t.$slideTrack.detach(), t.$list.detach(), t.$slider.append(t.$slides)), t.cleanUpRows(), t.$slider.removeClass("slick-slider"), t.$slider.removeClass("slick-initialized"), t.unslicked = !0, e || t.$slider.trigger("destroy", [t]) }, e.prototype.disableTransition = function (i) { var e = this, t = {}; t[e.transitionType] = "", e.options.fade === !1 ? e.$slideTrack.css(t) : e.$slides.eq(i).css(t) }, e.prototype.fadeSlide = function (i, e) { var t = this; t.cssTransitions === !1 ? (t.$slides.eq(i).css({ zIndex: t.options.zIndex }), t.$slides.eq(i).animate({ opacity: 1 }, t.options.speed, t.options.easing, e)) : (t.applyTransition(i), t.$slides.eq(i).css({ opacity: 1, zIndex: t.options.zIndex }), e && setTimeout(function () { t.disableTransition(i), e.call() }, t.options.speed)) }, e.prototype.fadeSlideOut = function (i) { var e = this; e.cssTransitions === !1 ? e.$slides.eq(i).animate({ opacity: 0, zIndex: e.options.zIndex - 2 }, e.options.speed, e.options.easing) : (e.applyTransition(i), e.$slides.eq(i).css({ opacity: 0, zIndex: e.options.zIndex - 2 })) }, e.prototype.filterSlides = e.prototype.slickFilter = function (i) { var e = this; null !== i && (e.$slidesCache = e.$slides, e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.filter(i).appendTo(e.$slideTrack), e.reinit()) }, e.prototype.getCurrent = e.prototype.slickCurrentSlide = function () { var i = this; return i.currentSlide }, e.prototype.getDotCount = function () { var i = this, e = 0, t = 0, o = 0; if (i.options.infinite === !0) for (; e < i.slideCount;)++o, e = t + i.options.slidesToScroll, t += i.options.slidesToScroll <= i.options.slidesToShow ? i.options.slidesToScroll : i.options.slidesToShow; else if (i.options.centerMode === !0) o = i.slideCount; else for (; e < i.slideCount;)++o, e = t + i.options.slidesToScroll, t += i.options.slidesToScroll <= i.options.slidesToShow ? i.options.slidesToScroll : i.options.slidesToShow; return o - 1 }, e.prototype.getLeft = function (i) { var e, t, o, s = this, n = 0; return s.slideOffset = 0, t = s.$slides.first().outerHeight(!0), s.options.infinite === !0 ? (s.slideCount > s.options.slidesToShow && (s.slideOffset = s.slideWidth * s.options.slidesToShow * -1, n = t * s.options.slidesToShow * -1), s.slideCount % s.options.slidesToScroll !== 0 && i + s.options.slidesToScroll > s.slideCount && s.slideCount > s.options.slidesToShow && (i > s.slideCount ? (s.slideOffset = (s.options.slidesToShow - (i - s.slideCount)) * s.slideWidth * -1, n = (s.options.slidesToShow - (i - s.slideCount)) * t * -1) : (s.slideOffset = s.slideCount % s.options.slidesToScroll * s.slideWidth * -1, n = s.slideCount % s.options.slidesToScroll * t * -1))) : i + s.options.slidesToShow > s.slideCount && (s.slideOffset = (i + s.options.slidesToShow - s.slideCount) * s.slideWidth, n = (i + s.options.slidesToShow - s.slideCount) * t), s.slideCount <= s.options.slidesToShow && (s.slideOffset = 0, n = 0), s.options.centerMode === !0 && s.options.infinite === !0 ? s.slideOffset += s.slideWidth * Math.floor(s.options.slidesToShow / 2) - s.slideWidth : s.options.centerMode === !0 && (s.slideOffset = 0, s.slideOffset += s.slideWidth * Math.floor(s.options.slidesToShow / 2)), e = s.options.vertical === !1 ? i * s.slideWidth * -1 + s.slideOffset : i * t * -1 + n, s.options.variableWidth === !0 && (o = s.slideCount <= s.options.slidesToShow || s.options.infinite === !1 ? s.$slideTrack.children(".slick-slide").eq(i) : s.$slideTrack.children(".slick-slide").eq(i + s.options.slidesToShow), e = s.options.rtl === !0 ? o[0] ? -1 * (s.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, s.options.centerMode === !0 && (o = s.slideCount <= s.options.slidesToShow || s.options.infinite === !1 ? s.$slideTrack.children(".slick-slide").eq(i) : s.$slideTrack.children(".slick-slide").eq(i + s.options.slidesToShow + 1), e = s.options.rtl === !0 ? o[0] ? -1 * (s.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, e += (s.$list.width() - o.outerWidth()) / 2)), e }, e.prototype.getOption = e.prototype.slickGetOption = function (i) { var e = this; return e.options[i] }, e.prototype.getNavigableIndexes = function () { var i, e = this, t = 0, o = 0, s = []; for (e.options.infinite === !1 ? i = e.slideCount : (t = -1 * e.options.slidesToScroll, o = -1 * e.options.slidesToScroll, i = 2 * e.slideCount); i > t;) s.push(t), t = o + e.options.slidesToScroll, o += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow; return s }, e.prototype.getSlick = function () { return this }, e.prototype.getSlideCount = function () { var e, t, o, s = this; return o = s.options.centerMode === !0 ? s.slideWidth * Math.floor(s.options.slidesToShow / 2) : 0, s.options.swipeToSlide === !0 ? (s.$slideTrack.find(".slick-slide").each(function (e, n) { return n.offsetLeft - o + i(n).outerWidth() / 2 > -1 * s.swipeLeft ? (t = n, !1) : void 0 }), e = Math.abs(i(t).attr("data-slick-index") - s.currentSlide) || 1) : s.options.slidesToScroll }, e.prototype.goTo = e.prototype.slickGoTo = function (i, e) { var t = this; t.changeSlide({ data: { message: "index", index: parseInt(i) } }, e) }, e.prototype.init = function (e) { var t = this; i(t.$slider).hasClass("slick-initialized") || (i(t.$slider).addClass("slick-initialized"), t.buildRows(), t.buildOut(), t.setProps(), t.startLoad(), t.loadSlider(), t.initializeEvents(), t.updateArrows(), t.updateDots()), e && t.$slider.trigger("init", [t]), t.options.accessibility === !0 && t.initADA() }, e.prototype.initArrowEvents = function () { var i = this; i.options.arrows === !0 && i.slideCount > i.options.slidesToShow && (i.$prevArrow.on("click.slick", { message: "previous" }, i.changeSlide), i.$nextArrow.on("click.slick", { message: "next" }, i.changeSlide)) }, e.prototype.initDotEvents = function () { var e = this; e.options.dots === !0 && e.slideCount > e.options.slidesToShow && i("li", e.$dots).on("click.slick", { message: "index" }, e.changeSlide), e.options.dots === !0 && e.options.pauseOnDotsHover === !0 && e.options.autoplay === !0 && i("li", e.$dots).on("mouseenter.slick", i.proxy(e.setPaused, e, !0)).on("mouseleave.slick", i.proxy(e.setPaused, e, !1)) }, e.prototype.initializeEvents = function () { var e = this; e.initArrowEvents(), e.initDotEvents(), e.$list.on("touchstart.slick mousedown.slick", { action: "start" }, e.swipeHandler), e.$list.on("touchmove.slick mousemove.slick", { action: "move" }, e.swipeHandler), e.$list.on("touchend.slick mouseup.slick", { action: "end" }, e.swipeHandler), e.$list.on("touchcancel.slick mouseleave.slick", { action: "end" }, e.swipeHandler), e.$list.on("click.slick", e.clickHandler), i(document).on(e.visibilityChange, i.proxy(e.visibility, e)), e.$list.on("mouseenter.slick", i.proxy(e.setPaused, e, !0)), e.$list.on("mouseleave.slick", i.proxy(e.setPaused, e, !1)), e.options.accessibility === !0 && e.$list.on("keydown.slick", e.keyHandler), e.options.focusOnSelect === !0 && i(e.$slideTrack).children().on("click.slick", e.selectHandler), i(window).on("orientationchange.slick.slick-" + e.instanceUid, i.proxy(e.orientationChange, e)), i(window).on("resize.slick.slick-" + e.instanceUid, i.proxy(e.resize, e)), i("[draggable!=true]", e.$slideTrack).on("dragstart", e.preventDefault), i(window).on("load.slick.slick-" + e.instanceUid, e.setPosition), i(document).on("ready.slick.slick-" + e.instanceUid, e.setPosition) }, e.prototype.initUI = function () { var i = this; i.options.arrows === !0 && i.slideCount > i.options.slidesToShow && (i.$prevArrow.show(), i.$nextArrow.show()), i.options.dots === !0 && i.slideCount > i.options.slidesToShow && i.$dots.show(), i.options.autoplay === !0 && i.autoPlay() }, e.prototype.keyHandler = function (i) { var e = this; i.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === i.keyCode && e.options.accessibility === !0 ? e.changeSlide({ data: { message: "previous" } }) : 39 === i.keyCode && e.options.accessibility === !0 && e.changeSlide({ data: { message: "next" } })) }, e.prototype.lazyLoad = function () { function e(e) { i("img[data-lazy]", e).each(function () { var e = i(this), t = i(this).attr("data-lazy"), o = document.createElement("img"); o.onload = function () { e.animate({ opacity: 0 }, 100, function () { e.attr("src", t).animate({ opacity: 1 }, 200, function () { e.removeAttr("data-lazy").removeClass("slick-loading") }) }) }, o.src = t }) } var t, o, s, n, r = this; r.options.centerMode === !0 ? r.options.infinite === !0 ? (s = r.currentSlide + (r.options.slidesToShow / 2 + 1), n = s + r.options.slidesToShow + 2) : (s = Math.max(0, r.currentSlide - (r.options.slidesToShow / 2 + 1)), n = 2 + (r.options.slidesToShow / 2 + 1) + r.currentSlide) : (s = r.options.infinite ? r.options.slidesToShow + r.currentSlide : r.currentSlide, n = s + r.options.slidesToShow, r.options.fade === !0 && (s > 0 && s--, n <= r.slideCount && n++)), t = r.$slider.find(".slick-slide").slice(s, n), e(t), r.slideCount <= r.options.slidesToShow ? (o = r.$slider.find(".slick-slide"), e(o)) : r.currentSlide >= r.slideCount - r.options.slidesToShow ? (o = r.$slider.find(".slick-cloned").slice(0, r.options.slidesToShow), e(o)) : 0 === r.currentSlide && (o = r.$slider.find(".slick-cloned").slice(-1 * r.options.slidesToShow), e(o)) }, e.prototype.loadSlider = function () { var i = this; i.setPosition(), i.$slideTrack.css({ opacity: 1 }), i.$slider.removeClass("slick-loading"), i.initUI(), "progressive" === i.options.lazyLoad && i.progressiveLazyLoad() }, e.prototype.next = e.prototype.slickNext = function () { var i = this; i.changeSlide({ data: { message: "next" } }) }, e.prototype.orientationChange = function () { var i = this; i.checkResponsive(), i.setPosition() }, e.prototype.pause = e.prototype.slickPause = function () { var i = this; i.autoPlayClear(), i.paused = !0 }, e.prototype.play = e.prototype.slickPlay = function () { var i = this; i.paused = !1, i.autoPlay() }, e.prototype.postSlide = function (i) { var e = this; e.$slider.trigger("afterChange", [e, i]), e.animating = !1, e.setPosition(), e.swipeLeft = null, e.options.autoplay === !0 && e.paused === !1 && e.autoPlay(), e.options.accessibility === !0 && e.initADA() }, e.prototype.prev = e.prototype.slickPrev = function () { var i = this; i.changeSlide({ data: { message: "previous" } }) }, e.prototype.preventDefault = function (i) { i.preventDefault() }, e.prototype.progressiveLazyLoad = function () { var e, t, o = this; e = i("img[data-lazy]", o.$slider).length, e > 0 && (t = i("img[data-lazy]", o.$slider).first(), t.attr("src", null), t.attr("src", t.attr("data-lazy")).removeClass("slick-loading").load(function () { t.removeAttr("data-lazy"), o.progressiveLazyLoad(), o.options.adaptiveHeight === !0 && o.setPosition() }).error(function () { t.removeAttr("data-lazy"), o.progressiveLazyLoad() })) }, e.prototype.refresh = function (e) { var t, o, s = this; o = s.slideCount - s.options.slidesToShow, s.options.infinite || (s.slideCount <= s.options.slidesToShow ? s.currentSlide = 0 : s.currentSlide > o && (s.currentSlide = o)), t = s.currentSlide, s.destroy(!0), i.extend(s, s.initials, { currentSlide: t }), s.init(), e || s.changeSlide({ data: { message: "index", index: t } }, !1) }, e.prototype.registerBreakpoints = function () { var e, t, o, s = this, n = s.options.responsive || null; if ("array" === i.type(n) && n.length) { s.respondTo = s.options.respondTo || "window"; for (e in n) if (o = s.breakpoints.length - 1, t = n[e].breakpoint, n.hasOwnProperty(e)) { for (; o >= 0;) s.breakpoints[o] && s.breakpoints[o] === t && s.breakpoints.splice(o, 1), o--; s.breakpoints.push(t), s.breakpointSettings[t] = n[e].settings } s.breakpoints.sort(function (i, e) { return s.options.mobileFirst ? i - e : e - i }) } }, e.prototype.reinit = function () { var e = this; e.$slides = e.$slideTrack.children(e.options.slide).addClass("slick-slide"), e.slideCount = e.$slides.length, e.currentSlide >= e.slideCount && 0 !== e.currentSlide && (e.currentSlide = e.currentSlide - e.options.slidesToScroll), e.slideCount <= e.options.slidesToShow && (e.currentSlide = 0), e.registerBreakpoints(), e.setProps(), e.setupInfinite(), e.buildArrows(), e.updateArrows(), e.initArrowEvents(), e.buildDots(), e.updateDots(), e.initDotEvents(), e.checkResponsive(!1, !0), e.options.focusOnSelect === !0 && i(e.$slideTrack).children().on("click.slick", e.selectHandler), e.setSlideClasses(0), e.setPosition(), e.$slider.trigger("reInit", [e]), e.options.autoplay === !0 && e.focusHandler() }, e.prototype.resize = function () { var e = this; i(window).width() !== e.windowWidth && (clearTimeout(e.windowDelay), e.windowDelay = window.setTimeout(function () { e.windowWidth = i(window).width(), e.checkResponsive(), e.unslicked || e.setPosition() }, 50)) }, e.prototype.removeSlide = e.prototype.slickRemove = function (i, e, t) { var o = this; return "boolean" == typeof i ? (e = i, i = e === !0 ? 0 : o.slideCount - 1) : i = e === !0 ? --i : i, o.slideCount < 1 || 0 > i || i > o.slideCount - 1 ? !1 : (o.unload(), t === !0 ? o.$slideTrack.children().remove() : o.$slideTrack.children(this.options.slide).eq(i).remove(), o.$slides = o.$slideTrack.children(this.options.slide), o.$slideTrack.children(this.options.slide).detach(), o.$slideTrack.append(o.$slides), o.$slidesCache = o.$slides, void o.reinit()) }, e.prototype.setCSS = function (i) { var e, t, o = this, s = {}; o.options.rtl === !0 && (i = -i), e = "left" == o.positionProp ? Math.ceil(i) + "px" : "0px", t = "top" == o.positionProp ? Math.ceil(i) + "px" : "0px", s[o.positionProp] = i, o.transformsEnabled === !1 ? o.$slideTrack.css(s) : (s = {}, o.cssTransitions === !1 ? (s[o.animType] = "translate(" + e + ", " + t + ")", o.$slideTrack.css(s)) : (s[o.animType] = "translate3d(" + e + ", " + t + ", 0px)", o.$slideTrack.css(s))) }, e.prototype.setDimensions = function () { var i = this; i.options.vertical === !1 ? i.options.centerMode === !0 && i.$list.css({ padding: "0px " + i.options.centerPadding }) : (i.$list.height(i.$slides.first().outerHeight(!0) * i.options.slidesToShow), i.options.centerMode === !0 && i.$list.css({ padding: i.options.centerPadding + " 0px" })), i.listWidth = i.$list.width(), i.listHeight = i.$list.height(), i.options.vertical === !1 && i.options.variableWidth === !1 ? (i.slideWidth = Math.ceil(i.listWidth / i.options.slidesToShow), i.$slideTrack.width(Math.ceil(i.slideWidth * i.$slideTrack.children(".slick-slide").length))) : i.options.variableWidth === !0 ? i.$slideTrack.width(5e3 * i.slideCount) : (i.slideWidth = Math.ceil(i.listWidth), i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0) * i.$slideTrack.children(".slick-slide").length))); var e = i.$slides.first().outerWidth(!0) - i.$slides.first().width(); i.options.variableWidth === !1 && i.$slideTrack.children(".slick-slide").width(i.slideWidth - e) }, e.prototype.setFade = function () { var e, t = this; t.$slides.each(function (o, s) { e = t.slideWidth * o * -1, t.options.rtl === !0 ? i(s).css({ position: "relative", right: e, top: 0, zIndex: t.options.zIndex - 2, opacity: 0 }) : i(s).css({ position: "relative", left: e, top: 0, zIndex: t.options.zIndex - 2, opacity: 0 }) }), t.$slides.eq(t.currentSlide).css({ zIndex: t.options.zIndex - 1, opacity: 1 }) }, e.prototype.setHeight = function () { var i = this; if (1 === i.options.slidesToShow && i.options.adaptiveHeight === !0 && i.options.vertical === !1) { var e = i.$slides.eq(i.currentSlide).outerHeight(!0); i.$list.css("height", e) } }, e.prototype.setOption = e.prototype.slickSetOption = function (e, t, o) { var s, n, r = this; if ("responsive" === e && "array" === i.type(t)) for (n in t) if ("array" !== i.type(r.options.responsive)) r.options.responsive = [t[n]]; else { for (s = r.options.responsive.length - 1; s >= 0;) r.options.responsive[s].breakpoint === t[n].breakpoint && r.options.responsive.splice(s, 1), s--; r.options.responsive.push(t[n]) } else r.options[e] = t; o === !0 && (r.unload(), r.reinit()) }, e.prototype.setPosition = function () { var i = this; i.setDimensions(), i.setHeight(), i.options.fade === !1 ? i.setCSS(i.getLeft(i.currentSlide)) : i.setFade(), i.$slider.trigger("setPosition", [i]) }, e.prototype.setProps = function () { var i = this, e = document.body.style; i.positionProp = i.options.vertical === !0 ? "top" : "left", "top" === i.positionProp ? i.$slider.addClass("slick-vertical") : i.$slider.removeClass("slick-vertical"), (void 0 !== e.WebkitTransition || void 0 !== e.MozTransition || void 0 !== e.msTransition) && i.options.useCSS === !0 && (i.cssTransitions = !0), i.options.fade && ("number" == typeof i.options.zIndex ? i.options.zIndex < 3 && (i.options.zIndex = 3) : i.options.zIndex = i.defaults.zIndex), void 0 !== e.OTransform && (i.animType = "OTransform", i.transformType = "-o-transform", i.transitionType = "OTransition", void 0 === e.perspectiveProperty && void 0 === e.webkitPerspective && (i.animType = !1)), void 0 !== e.MozTransform && (i.animType = "MozTransform", i.transformType = "-moz-transform", i.transitionType = "MozTransition", void 0 === e.perspectiveProperty && void 0 === e.MozPerspective && (i.animType = !1)), void 0 !== e.webkitTransform && (i.animType = "webkitTransform", i.transformType = "-webkit-transform", i.transitionType = "webkitTransition", void 0 === e.perspectiveProperty && void 0 === e.webkitPerspective && (i.animType = !1)), void 0 !== e.msTransform && (i.animType = "msTransform", i.transformType = "-ms-transform", i.transitionType = "msTransition", void 0 === e.msTransform && (i.animType = !1)), void 0 !== e.transform && i.animType !== !1 && (i.animType = "transform", i.transformType = "transform", i.transitionType = "transition"), i.transformsEnabled = i.options.useTransform && null !== i.animType && i.animType !== !1 }, e.prototype.setSlideClasses = function (i) { var e, t, o, s, n = this; t = n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true"), n.$slides.eq(i).addClass("slick-current"), n.options.centerMode === !0 ? (e = Math.floor(n.options.slidesToShow / 2), n.options.infinite === !0 && (i >= e && i <= n.slideCount - 1 - e ? n.$slides.slice(i - e, i + e + 1).addClass("slick-active").attr("aria-hidden", "false") : (o = n.options.slidesToShow + i, t.slice(o - e + 1, o + e + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === i ? t.eq(t.length - 1 - n.options.slidesToShow).addClass("slick-center") : i === n.slideCount - 1 && t.eq(n.options.slidesToShow).addClass("slick-center")), n.$slides.eq(i).addClass("slick-center")) : i >= 0 && i <= n.slideCount - n.options.slidesToShow ? n.$slides.slice(i, i + n.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : t.length <= n.options.slidesToShow ? t.addClass("slick-active").attr("aria-hidden", "false") : (s = n.slideCount % n.options.slidesToShow, o = n.options.infinite === !0 ? n.options.slidesToShow + i : i, n.options.slidesToShow == n.options.slidesToScroll && n.slideCount - i < n.options.slidesToShow ? t.slice(o - (n.options.slidesToShow - s), o + s).addClass("slick-active").attr("aria-hidden", "false") : t.slice(o, o + n.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false")), "ondemand" === n.options.lazyLoad && n.lazyLoad() }, e.prototype.setupInfinite = function () { var e, t, o, s = this; if (s.options.fade === !0 && (s.options.centerMode = !1), s.options.infinite === !0 && s.options.fade === !1 && (t = null, s.slideCount > s.options.slidesToShow)) { for (o = s.options.centerMode === !0 ? s.options.slidesToShow + 1 : s.options.slidesToShow, e = s.slideCount; e > s.slideCount - o; e -= 1) t = e - 1, i(s.$slides[t]).clone(!0).attr("id", "").attr("data-slick-index", t - s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned"); for (e = 0; o > e; e += 1) t = e, i(s.$slides[t]).clone(!0).attr("id", "").attr("data-slick-index", t + s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned"); s.$slideTrack.find(".slick-cloned").find("[id]").each(function () { i(this).attr("id", "") }) } }, e.prototype.setPaused = function (i) { var e = this; e.options.autoplay === !0 && e.options.pauseOnHover === !0 && (e.paused = i, i ? e.autoPlayClear() : e.autoPlay()) }, e.prototype.selectHandler = function (e) { var t = this, o = i(e.target).is(".slick-slide") ? i(e.target) : i(e.target).parents(".slick-slide"), s = parseInt(o.attr("data-slick-index")); return s || (s = 0), t.slideCount <= t.options.slidesToShow ? (t.setSlideClasses(s), void t.asNavFor(s)) : void t.slideHandler(s) }, e.prototype.slideHandler = function (i, e, t) { var o, s, n, r, l = null, a = this; return e = e || !1, a.animating === !0 && a.options.waitForAnimate === !0 || a.options.fade === !0 && a.currentSlide === i || a.slideCount <= a.options.slidesToShow ? void 0 : (e === !1 && a.asNavFor(i), o = i, l = a.getLeft(o), r = a.getLeft(a.currentSlide), a.currentLeft = null === a.swipeLeft ? r : a.swipeLeft, a.options.infinite === !1 && a.options.centerMode === !1 && (0 > i || i > a.getDotCount() * a.options.slidesToScroll) ? void (a.options.fade === !1 && (o = a.currentSlide, t !== !0 ? a.animateSlide(r, function () { a.postSlide(o); }) : a.postSlide(o))) : a.options.infinite === !1 && a.options.centerMode === !0 && (0 > i || i > a.slideCount - a.options.slidesToScroll) ? void (a.options.fade === !1 && (o = a.currentSlide, t !== !0 ? a.animateSlide(r, function () { a.postSlide(o) }) : a.postSlide(o))) : (a.options.autoplay === !0 && clearInterval(a.autoPlayTimer), s = 0 > o ? a.slideCount % a.options.slidesToScroll !== 0 ? a.slideCount - a.slideCount % a.options.slidesToScroll : a.slideCount + o : o >= a.slideCount ? a.slideCount % a.options.slidesToScroll !== 0 ? 0 : o - a.slideCount : o, a.animating = !0, a.$slider.trigger("beforeChange", [a, a.currentSlide, s]), n = a.currentSlide, a.currentSlide = s, a.setSlideClasses(a.currentSlide), a.updateDots(), a.updateArrows(), a.options.fade === !0 ? (t !== !0 ? (a.fadeSlideOut(n), a.fadeSlide(s, function () { a.postSlide(s) })) : a.postSlide(s), void a.animateHeight()) : void (t !== !0 ? a.animateSlide(l, function () { a.postSlide(s) }) : a.postSlide(s)))) }, e.prototype.startLoad = function () { var i = this; i.options.arrows === !0 && i.slideCount > i.options.slidesToShow && (i.$prevArrow.hide(), i.$nextArrow.hide()), i.options.dots === !0 && i.slideCount > i.options.slidesToShow && i.$dots.hide(), i.$slider.addClass("slick-loading") }, e.prototype.swipeDirection = function () { var i, e, t, o, s = this; return i = s.touchObject.startX - s.touchObject.curX, e = s.touchObject.startY - s.touchObject.curY, t = Math.atan2(e, i), o = Math.round(180 * t / Math.PI), 0 > o && (o = 360 - Math.abs(o)), 45 >= o && o >= 0 ? s.options.rtl === !1 ? "left" : "right" : 360 >= o && o >= 315 ? s.options.rtl === !1 ? "left" : "right" : o >= 135 && 225 >= o ? s.options.rtl === !1 ? "right" : "left" : s.options.verticalSwiping === !0 ? o >= 35 && 135 >= o ? "left" : "right" : "vertical" }, e.prototype.swipeEnd = function (i) { var e, t = this; if (t.dragging = !1, t.shouldClick = t.touchObject.swipeLength > 10 ? !1 : !0, void 0 === t.touchObject.curX) return !1; if (t.touchObject.edgeHit === !0 && t.$slider.trigger("edge", [t, t.swipeDirection()]), t.touchObject.swipeLength >= t.touchObject.minSwipe) switch (t.swipeDirection()) { case "left": e = t.options.swipeToSlide ? t.checkNavigable(t.currentSlide + t.getSlideCount()) : t.currentSlide + t.getSlideCount(), t.slideHandler(e), t.currentDirection = 0, t.touchObject = {}, t.$slider.trigger("swipe", [t, "left"]); break; case "right": e = t.options.swipeToSlide ? t.checkNavigable(t.currentSlide - t.getSlideCount()) : t.currentSlide - t.getSlideCount(), t.slideHandler(e), t.currentDirection = 1, t.touchObject = {}, t.$slider.trigger("swipe", [t, "right"]) } else t.touchObject.startX !== t.touchObject.curX && (t.slideHandler(t.currentSlide), t.touchObject = {}) }, e.prototype.swipeHandler = function (i) { var e = this; if (!(e.options.swipe === !1 || "ontouchend" in document && e.options.swipe === !1 || e.options.draggable === !1 && -1 !== i.type.indexOf("mouse"))) switch (e.touchObject.fingerCount = i.originalEvent && void 0 !== i.originalEvent.touches ? i.originalEvent.touches.length : 1, e.touchObject.minSwipe = e.listWidth / e.options.touchThreshold, e.options.verticalSwiping === !0 && (e.touchObject.minSwipe = e.listHeight / e.options.touchThreshold), i.data.action) { case "start": e.swipeStart(i); break; case "move": e.swipeMove(i); break; case "end": e.swipeEnd(i) } }, e.prototype.swipeMove = function (i) { var e, t, o, s, n, r = this; return n = void 0 !== i.originalEvent ? i.originalEvent.touches : null, !r.dragging || n && 1 !== n.length ? !1 : (e = r.getLeft(r.currentSlide), r.touchObject.curX = void 0 !== n ? n[0].pageX : i.clientX, r.touchObject.curY = void 0 !== n ? n[0].pageY : i.clientY, r.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(r.touchObject.curX - r.touchObject.startX, 2))), r.options.verticalSwiping === !0 && (r.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(r.touchObject.curY - r.touchObject.startY, 2)))), t = r.swipeDirection(), "vertical" !== t ? (void 0 !== i.originalEvent && r.touchObject.swipeLength > 4 && i.preventDefault(), s = (r.options.rtl === !1 ? 1 : -1) * (r.touchObject.curX > r.touchObject.startX ? 1 : -1), r.options.verticalSwiping === !0 && (s = r.touchObject.curY > r.touchObject.startY ? 1 : -1), o = r.touchObject.swipeLength, r.touchObject.edgeHit = !1, r.options.infinite === !1 && (0 === r.currentSlide && "right" === t || r.currentSlide >= r.getDotCount() && "left" === t) && (o = r.touchObject.swipeLength * r.options.edgeFriction, r.touchObject.edgeHit = !0), r.options.vertical === !1 ? r.swipeLeft = e + o * s : r.swipeLeft = e + o * (r.$list.height() / r.listWidth) * s, r.options.verticalSwiping === !0 && (r.swipeLeft = e + o * s), r.options.fade === !0 || r.options.touchMove === !1 ? !1 : r.animating === !0 ? (r.swipeLeft = null, !1) : void r.setCSS(r.swipeLeft)) : void 0) }, e.prototype.swipeStart = function (i) { var e, t = this; return 1 !== t.touchObject.fingerCount || t.slideCount <= t.options.slidesToShow ? (t.touchObject = {}, !1) : (void 0 !== i.originalEvent && void 0 !== i.originalEvent.touches && (e = i.originalEvent.touches[0]), t.touchObject.startX = t.touchObject.curX = void 0 !== e ? e.pageX : i.clientX, t.touchObject.startY = t.touchObject.curY = void 0 !== e ? e.pageY : i.clientY, void (t.dragging = !0)) }, e.prototype.unfilterSlides = e.prototype.slickUnfilter = function () { var i = this; null !== i.$slidesCache && (i.unload(), i.$slideTrack.children(this.options.slide).detach(), i.$slidesCache.appendTo(i.$slideTrack), i.reinit()) }, e.prototype.unload = function () { var e = this; i(".slick-cloned", e.$slider).remove(), e.$dots && e.$dots.remove(), e.$prevArrow && e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.remove(), e.$nextArrow && e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.remove(), e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "") }, e.prototype.unslick = function (i) { var e = this; e.$slider.trigger("unslick", [e, i]), e.destroy() }, e.prototype.updateArrows = function () { var i, e = this; i = Math.floor(e.options.slidesToShow / 2), e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && !e.options.infinite && (e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), 0 === e.currentSlide ? (e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - e.options.slidesToShow && e.options.centerMode === !1 ? (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - 1 && e.options.centerMode === !0 && (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"))) }, e.prototype.updateDots = function () { var i = this; null !== i.$dots && (i.$dots.find("li").removeClass("slick-active").attr("aria-hidden", "true"), i.$dots.find("li").eq(Math.floor(i.currentSlide / i.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden", "false")) }, e.prototype.visibility = function () { var i = this; document[i.hidden] ? (i.paused = !0, i.autoPlayClear()) : i.options.autoplay === !0 && (i.paused = !1, i.autoPlay()) }, e.prototype.initADA = function () { var e = this; e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({ "aria-hidden": "true", tabindex: "-1" }).find("a, input, button, select").attr({ tabindex: "-1" }), e.$slideTrack.attr("role", "listbox"), e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function (t) { i(this).attr({ role: "option", "aria-describedby": "slick-slide" + e.instanceUid + t }) }), null !== e.$dots && e.$dots.attr("role", "tablist").find("li").each(function (t) { i(this).attr({ role: "presentation", "aria-selected": "false", "aria-controls": "navigation" + e.instanceUid + t, id: "slick-slide" + e.instanceUid + t }) }).first().attr("aria-selected", "true").end().find("button").attr("role", "button").end().closest("div").attr("role", "toolbar"), e.activateADA() }, e.prototype.activateADA = function () { var i = this; i.$slideTrack.find(".slick-active").attr({ "aria-hidden": "false" }).find("a, input, button, select").attr({ tabindex: "0" }) }, e.prototype.focusHandler = function () { var e = this; e.$slider.on("focus.slick blur.slick", "*", function (t) { t.stopImmediatePropagation(); var o = i(this); setTimeout(function () { e.isPlay && (o.is(":focus") ? (e.autoPlayClear(), e.paused = !0) : (e.paused = !1, e.autoPlay())) }, 0) }) }, i.fn.slick = function () { var i, t, o = this, s = arguments[0], n = Array.prototype.slice.call(arguments, 1), r = o.length; for (i = 0; r > i; i++) if ("object" == typeof s || "undefined" == typeof s ? o[i].slick = new e(o[i], s) : t = o[i].slick[s].apply(o[i].slick, n), "undefined" != typeof t) return t; return o } });
///*cookiebar.js*/!function (e) { e.cookieBar = function (c, o) { if ("cookies" == c) i = "cookies"; else if ("set" == c) i = "set"; else var i = !1; var n = { message: "En poursuivant votre navigation sur ce site, vous acceptez l'utilisation des cookies pour disposer de services et d'offres adaptés à vos centres d'intérêts", acceptButton: !0, acceptText: "Fermer", acceptFunction: function (e) { "enabled" != e && "accepted" != e && (window.location = window.location.href) }, declineButton: !1, declineText: "Disable Cookies", declineFunction: function (e) { "enabled" != e && "accepted" != e || (window.location = window.location.href) }, policyButton: !0, policyText: "En savoir Plus", policyURL: "/grosbill/info-legale.aspx", autoEnable: !0, acceptOnContinue: !1, acceptOnScroll: !1, acceptAnyClick: !1, expireDays: 365, renewOnVisit: !1, forceShow: !1, effect: "slide", element: "body", append: !1, fixed: !1, bottom: !0, zindex: "", domain: String(window.location.hostname), referrer: String(document.referrer) }, c = e.extend(n, c), t = new Date; t.setTime(t.getTime() + 864e5 * c.expireDays); var a, l, r = "cb-enabled={value}; expires=" + (t = t.toGMTString()) + "; path=/", d = "", s = document.cookie.split("; "); for (a = 0; a < s.length; a++) "cb-enabled" == (l = s[a].split("="))[0] && (d = l[1]); if ("" == d && "cookies" != i && c.autoEnable ? (d = "enabled", document.cookie = r.replace("{value}", "enabled")) : "accepted" != d && "declined" != d || "cookies" == i || !c.renewOnVisit || (document.cookie = r.replace("{value}", d)), c.acceptOnContinue && c.referrer.indexOf(c.domain) >= 0 && -1 == String(window.location.href).indexOf(c.policyURL) && "cookies" != i && "set" != i && "accepted" != d && "declined" != d && (i = "set", o = "accepted"), "cookies" == i) return "enabled" == d || "accepted" == d; if ("set" == i && ("accepted" == o || "declined" == o)) return document.cookie = r.replace("{value}", o), "accepted" == o; var p = c.message.replace("{policy_url}", c.policyURL); if (c.acceptButton) u = '<a href="" class="cb-enable">' + c.acceptText + "</a>"; else var u = ""; if (c.declineButton) f = '<a href="" class="cb-disable">' + c.declineText + "</a>"; else var f = ""; if (c.policyButton) b = '<a href="' + c.policyURL + '" class="cb-policy">' + c.policyText + "</a>"; else var b = ""; if (c.fixed) if (c.bottom) m = ' class="fixed bottom"'; else m = ' class="fixed"'; else var m = ""; if ("" != c.zindex) k = ' style="z-index:' + c.zindex + ';"'; else var k = ""; (c.forceShow || "enabled" == d || "" == d) && (c.append ? e(c.element).append('<div id="cookie-bar"' + m + k + "><p>" + p + u + f + b + "</p></div>") : e(c.element).prepend('<div id="cookie-bar"' + m + k + "><p>" + p + u + f + b + "</p></div>")); var v = function (o) { c.acceptOnScroll && e(document).off("scroll"), "function" == typeof o && o(d), "slide" == c.effect ? e("#cookie-bar").slideUp(300, function () { e("#cookie-bar").remove() }) : "fade" == c.effect ? e("#cookie-bar").fadeOut(300, function () { e("#cookie-bar").remove() }) : e("#cookie-bar").hide(0, function () { e("#cookie-bar").remove() }), e(document).unbind("click", y) }, x = function () { document.cookie = r.replace("{value}", "accepted"), v(c.acceptFunction) }, w = function () { var e = new Date; for (e.setTime(e.getTime() - 864e6), e = e.toGMTString(), s = document.cookie.split("; "), a = 0; a < s.length; a++) (l = s[a].split("="))[0].indexOf("_") >= 0 ? document.cookie = l[0] + "=0; expires=" + e + "; domain=" + c.domain.replace("www", "") + "; path=/" : document.cookie = l[0] + "=0; expires=" + e + "; path=/"; document.cookie = r.replace("{value}", "declined"), v(c.declineFunction) }, y = function (c) { e(c.target).hasClass("cb-policy") || x() }; if (e("#cookie-bar .cb-enable").click(function () { return x(), !1 }), e("#cookie-bar .cb-disable").click(function () { return w(), !1 }), c.acceptOnScroll) { var h, g, T = e(document).scrollTop(); e(document).on("scroll", function () { h = e(document).scrollTop(), (g = h > T ? h - T : T - h) >= Math.round(c.acceptOnScroll) && x() }) } c.acceptAnyClick && e(document).bind("click", y) } }(jQuery);

/* 
 * Configurateur animations 
 */

function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for (var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}

function SelectConfigurateur(configNum) {

    $('.txt-option-config-1').fadeOut();

    if (configNum === 1) {
        if ($('#name-configurateur').val() === undefined || $('#name-configurateur').val() === '') {
            $('.sep1').addClass('anim6');
            $('.list-bleu').addClass('anim-fadein');
            $('.hexa1').addClass('anim5');
            $('.sep2').addClass('anim2');
            $('.choix-du-config1').addClass('choix-du-config2');
            $('.hexa2').addClass('anim2');
            $('.hexa3').addClass('anim2');
            $('.list-bleu').removeClass('anim-fadeout');
            $('.hexa1').removeClass('right-anim');
            $('.hexagon-home').removeClass('anim-fadein');
            $('.sep2').removeClass('anim-fadein');
            $('.sep1').removeClass('right-anim');
            $('.sep1').removeClass('right-anim-hexa');
            $('.sep2').removeClass('anim-fadein');
            $('.hexa2').removeClass('right-anim');
            $('.sep2').removeClass('right-anim-hexa');
            $('.hexa3').removeClass('right-anim');

            $('#name-configurateur').val('bureau');
        }
        else {
            RemoveConfigurateur(1);
        }
    }
    else if (configNum === 2) {
        if ($('#name-configurateur').val() === undefined || $('#name-configurateur').val() === '') {
            $('.sep2').addClass('anim6');
            $('.list-jaune').addClass('anim-fadein');
            $('.hexa2').addClass('anim5');
            $('.sep1').addClass('anim2');
            $('.choix-du-config1').addClass('choix-du-config');
            $('.hexa1').addClass('anim2');
            $('.hexa3').addClass('anim2');
            $('.list-jaune').removeClass('anim-fadeout');
            $('.hexa2').removeClass('right-anim');
            $('.hexagon-home').removeClass('anim-fadein');
            $('.sep1').removeClass('anim-fadein');
            $('.sep2').removeClass('right-anim');
            $('.sep2').removeClass('right-anim-hexa');
            $('.hexa1').removeClass('right-anim');
            $('.sep1').removeClass('right-anim-hexa');
            $('.sep2').removeClass('anim-fadein');
            $('.hexa3').removeClass('right-anim');

            $('#name-configurateur').val('gamer');
        }
        else {
            RemoveConfigurateur(2);
        }
    }
    else if (configNum === 3) {
        if ($('#name-configurateur').val() === undefined || $('#name-configurateur').val() === '') {
            $('.sep3').addClass('anim6');
            $('.list-fonce').addClass('anim-fadein');
            $('.hexa3').addClass('anim5');
            $('.sep1').addClass('anim2');
            $('.sep2').addClass('anim2');
            $('.choix-du-config1').addClass('choix-du-config3');
            $('.hexa1').addClass('anim2');
            $('.hexa2').addClass('anim2');
            $('.list-fonce').removeClass('anim-fadeout');
            $('.hexa3').removeClass('right-anim');
            $('.hexagon-home').removeClass('anim-fadein');
            $('.sep1').removeClass('anim-fadein');
            $('.sep2').removeClass('right-anim');
            $('.sep2').removeClass('right-anim-hexa');
            $('.hexa1').removeClass('right-anim');
            $('.sep1').removeClass('right-anim-hexa');
            $('.sep2').removeClass('anim-fadein');
            $('.sep3').removeClass('right-anim-hexa');
            $('.hexa2').removeClass('right-anim');

            $('#name-configurateur').val('pro');
        }
        else {
            RemoveConfigurateur(3);
        }
    }
    else {
        $('#name-configurateur').val('');
    }

}

function RemoveConfigurateur(configNum) {

    $('.txt-option-config-1').fadeIn();
    if (configNum === 1) {
        $('.choix-du-config1').removeClass('choix-du-config2');
        $('.hexa1').removeClass('anim5');
        $('.sep2').removeClass('anim2');
        $('.hexa2').removeClass('anim2');
        $('.hexa3').removeClass('anim2');
        $('.sep1').removeClass('anim6');
        $('.list-bleu').removeClass('anim-fadein');
        $('.list-bleu').addClass('anim-fadeout');
        $('.hexa1').addClass('right-anim');
        $('.hexa2').addClass('anim-fadein');
        $('.hexa3').addClass('anim-fadein');
        $('.sep1').addClass('right-anim-hexa');
        $('.sep2').addClass('anim-fadein');

        $('#name-configurateur').val('');
        $('#is-novice-configurateur').val('');
    }
    else if (configNum === 2) {
        $('.choix-du-config1').removeClass('choix-du-config');
        $('.hexa2').removeClass('anim5');
        $('.sep1').removeClass('anim2');
        $('.hexa1').removeClass('anim2');
        $('.hexa3').removeClass('anim2');
        $('.sep2').removeClass('anim6');
        $('.list-jaune').removeClass('anim-fadein');
        $('.list-jaune').addClass('anim-fadeout');
        $('.hexa2').addClass('right-anim');
        $('.hexa1').addClass('anim-fadein');
        $('.hexa3').addClass('anim-fadein');
        $('.sep1').addClass('anim-fadein');
        $('.sep2').addClass('right-anim-hexa');

        $('#name-configurateur').val('');
        $('#is-novice-configurateur').val('');
    }
    else if (configNum === 3) {
        $('.choix-du-config1').removeClass('choix-du-config3');
        $('.hexa3').removeClass('anim5');
        $('.sep3').removeClass('anim2');
        $('.hexa1').removeClass('anim2');
        $('.hexa2').removeClass('anim2');
        $('.sep3').removeClass('anim6');
        $('.list-fonce').removeClass('anim-fadein');
        $('.list-fonce').addClass('anim-fadeout');
        $('.hexa3').addClass('right-anim');
        $('.hexa1').addClass('anim-fadein');
        $('.hexa2').addClass('anim-fadein');
        $('.sep1').addClass('anim-fadein');
        $('.sep2').addClass('anim-fadein');
        $('.sep3').addClass('right-anim-hexa');

        $('#name-configurateur').val('');
        $('#is-novice-configurateur').val('');
    }
}

function SelectNovice(novice) {
    if (novice === 1) {
        $('#is-novice-configurateur').val('true');
    }
    else {
        $('#is-novice-configurateur').val('false');
    }

    $('#frm-g').submit();
}

/* 
 * Compte client
 */

function ChoixContactPourCommande(ticketTypeId, commandeId, factureId, clientId, numProduit, dateCommande) {
    $('.form-pop .ticketTypeId').val(ticketTypeId);
    $('.form-pop .commandeId').val(commandeId);
    $('.form-pop .factureId').val(factureId);
    $('.form-pop .clientId').val(clientId);
    $('.form-pop .numProduit').val(numProduit);
    $('.form-pop .dateCommande').val(dateCommande);
    $('#tableauProduit_' + commandeId).hide();

    $('.form-pop .error-message').hide();
    $('.form-pop .error-serial-number').hide();
    $('.form-pop .error-produit-retractation').hide();

    switch (ticketTypeId) {
        case 1: // Rétractation
            $('.pop-up-cde-client .titre-pop').html("Rétractation commande n°" + commandeId);
            $('#tableauProduit_' + commandeId).show();
            $('#tab').html($('#tableauProduit_' + commandeId));
            break;

        case 2: // Le colis n'est pas arrivé
            $('.pop-up-cde-client .titre-pop').html("Votre commande n°" + commandeId + " n'est toujours pas arrivée ?");
            break;

        case 3: // Le colis est différent de ma commande
            $('.pop-up-cde-client .titre-pop').html("Votre commande n°" + commandeId + " n'est pas conforme à votre commande initiale");
            break;

        case 4: // Pièce ou article manquant
            $('.pop-up-cde-client .titre-pop').html("Vous avez un article manquant n°" + numProduit);
            break;

        case 5: // Article endommagé ou défectueux
            $('.pop-up-cde-client .titre-pop').html("Vous avez un article endommagé ou défectueux n°" + numProduit);

            $('.pop-up-cde-client .texte-info-pop').html("Une fois votre demande de retour envoyé, vous recevrez une confirmation de prise en charge sous un délai maximun de 48h. Vous recevrez alors votre numéro de RMA ainsi que la procédure de retour du produit.");

            $('.texte-info-pop').fadeIn();

            $('#serial-number-container').fadeIn();

            $('#tooltiptext_description').fadeIn();

            break;

        case 6: // Problème de configuration
            $('.pop-up-cde-client .titre-pop').html("Vous avez un problème de configuration, commande n°" + commandeId);
            break;

        case 7: // Problème avec le paiement / prélèvement 
            $('.pop-up-cde-client .titre-pop').html("Vous avez un problème avec votre paiement");
            break;

        case 8: // Litige transporteur
            $('.pop-up-cde-client .titre-pop').html("Litige transporteur avec votre commande n°" + commandeId);
            break;

        case 9: // Devis
            $('.pop-up-cde-client .titre-pop').html("Devis");
            break;

        case 10: // Autre
            $('.pop-up-cde-client .titre-pop').html("Autre");
            break;

        case 11: // Question avant-vente
            $('.pop-up-cde-client .titre-pop').html("Question avant vente");
            break;

        case 12: // Commande - Autre problème
            $('.pop-up-cde-client .titre-pop').html("Vous avez un problème avec votre commande n°" + commandeId);
            break;

        case 13: // Produit - Autre problème
            $('.pop-up-cde-client .titre-pop').html("Vous avez un problème avec votre produit n°" + numProduit);
            break;
    }

    $('.form-pop').show();
    $('.form-pop-validation').hide();
    $('.form-pop-validation-sav').hide();
    $('.messageDemande').val("");
    $('.texte-info-pop').val("");
    $('.pop-up-cde-client').fadeIn();
}

function ChoixContactPourCommandeGarantie(email, lien, telephone, nomConstructeur) {

    if (nomConstructeur.length > 1 || email.length > 1 || lien.length > 1 || telephone.length > 1) {
        if (nomConstructeur.length > 1) {
            $('.pop-up-garantie-constructeur .constructeur').html("Constructeur : " + nomConstructeur);
        }

        if (email.length > 1) {
            $('.pop-up-garantie-constructeur .email').html("Email : " + email);
        }

        if (lien.length > 1) {
            $('.pop-up-garantie-constructeur .lien').html("Lien du site pour prise en charge : " + lien);
        }

        if (telephone.length > 1) {
            $('.pop-up-garantie-constructeur .telephone').html("Telephone : " + telephone);
        }
    }
    else {
        $('#coordonnees').fadeOut();
    }

    $('.pop-up-garantie-constructeur').fadeIn();
}

function ChoixContactPourCommandeSansGarantie(ticketTypeId, commandeId, factureId, clientId, numProduit, date) {
    $('.form-pop .ticketTypeId').val(ticketTypeId);
    $('.form-pop .commandeId').val(commandeId);
    $('.form-pop .factureId').val(factureId);
    $('.form-pop .clientId').val(clientId);
    $('.form-pop .numProduit').val(numProduit);

    switch (ticketTypeId) {
        case 1: // Rétractation
            $('.pop-up-cde-client .titre-pop').html("Rétractation commande n°" + commandeId);
            break;

        case 2: // Le colis n'est pas arrivé
            $('.pop-up-cde-client .titre-pop').html("Votre commande n°" + commandeId + " n'est toujours pas arrivée ?");
            break;

        case 3: // Le colis est différent de ma commande
            $('.pop-up-cde-client .titre-pop').html("Votre commande n°" + commandeId + " n'est pas conforme à votre commande initiale");
            break;

        case 4: // Pièce ou article manquant
            $('.pop-up-cde-client .titre-pop').html("Vous avez un article manquant n°" + numProduit);
            break;

        case 5: // Article endommagé ou défectueux
            $('.pop-up-cde-client .titre-pop').html("Vous avez un article endommagé ou défectueux n°" + numProduit);
            break;

        case 6: // Problème de configuration
            $('.pop-up-cde-client .titre-pop').html("Vous avez un problème de configuration, commande n°" + commandeId);
            break;

        case 7: // Problème avec le paiement / prélèvement 
            $('.pop-up-cde-client .titre-pop').html("Vous avez un problème avec votre paiement");
            break;

        case 8: // Litige transporteur
            $('.pop-up-cde-client .titre-pop').html("Litige transporteur avec votre commande n°" + commandeId);
            break;

        case 9: // Devis
            $('.pop-up-cde-client .titre-pop').html("Devis");
            break;

        case 10: // Autre
            $('.pop-up-cde-client .titre-pop').html("Autre");
            break;

        case 11: // Question avant-vente
            $('.pop-up-cde-client .titre-pop').html("Question avant vente");
            break;

        case 12: // Commande - Autre problème
            $('.pop-up-cde-client .titre-pop').html("Vous avez un problème avec votre commande n°" + commandeId);
            break;

        case 13: // Produit - Autre problème
            $('.pop-up-cde-client .titre-pop').html("Vous avez un problème avec votre produit n°" + numProduit);
            break;
    }



    $('.shadow-bck').hide();
    $('.form-pop-validation').hide();
    $('.messageDemande').val("");
    $('.pop-up-cde-client').fadeIn();

    $('.pop-up-cde-client .message-garantie .message').html("Nous sommes navrés d'apprendre que vous rencontrez un problème avec votre produit, malheureusement, nous vous informons que la garantie commerciale de ce dernier a expiré le : " + date + ". <br> Nous ne pouvons prendre en charge votre produit dans le cadre de sa garantie. <br> Si vous le souhaitez, il vous est néanmoins possible de demander un devis pour réparation.");
    $('.pop-up-cde-client .message-garantie').show();
}

function AfficherCreationTicket() {
    $('.pop-up-cde-client .message-garantie').hide();
    $('.shadow-bck').show();
}

function OuvrirPopUpNouveauTicket() {
    $('#fond-popup').addClass('flex');
    $('.pop-up-ticket').addClass('flex');
}

function FermerPopUpNouveauTicket() {
    $('.pop-up-ticket').removeClass('flex');
    $('#fond-popup').removeClass('flex');
}

function FermerPopCommande() {
    $('.form-pop .ticketTypeId').val("");
    $('.form-pop .commandeId').val("");
    $('.form-pop .clientId').val("");
    $('.form-pop .produitId').val("");
    $('.form-pop .numProduit').val("");

    $('#fond-popup').removeClass('flex');
    $('.pop-up-ticket').removeClass('flex');
    $('.pop-up-cde-client').fadeOut();
    $('.erreur-livraison').fadeOut();
    $('#serial-number-container').fadeOut();
    $('#tooltiptext_description').fadeOut();
    $('.texte-info-pop').fadeOut();
}

function FermerPopUp() {
    window.location.href = "/vosdemandes.aspx";
}

function FermerPopUpSansGarantie() {
    window.location.href = "/votre-compte.aspx?type=commandes";
}

function OuvrirPopUpAnnulationCommande(commandeId) {
    $('#annulationCommandeId').val(commandeId);
    $('#annulationCommandeTitre').html('Annulation de la commande n°' + commandeId);
    $('#_ctl0_ContentPlaceHolder1_DropDownListMotif').prop("selectedIndex", 0);
    $('#pop-up-annulation-cde-client').addClass('flex');
    $('#pop-up-annulation-cde-client').show();
}

function EnvoyerAnnulationCommande() {
    var commandeId = $('#annulationCommandeId').val();
    var annulationMotifId = $('#_ctl0_ContentPlaceHolder1_DropDownListMotif option:selected').val();
    window.location.href = '/AnnulerCommande.aspx?commandeId=' + commandeId + '&annulationMotifId=' + annulationMotifId;
}

function FermerPopUpAnnulationCommande() {
    $('#pop-up-annulation-cde-client').removeClass('flex');
    $('#pop-up-annulation-cde-client').hide();
}

function EnvoieTicket() {
    $('.form-pop .error-message').hide();
    $('.form-pop .error-serial-number').hide();
    $('.form-pop .error-produit-retractation').hide();

    if ($('.messageDemande').val() == '') {
        $('.form-pop .error-message').fadeIn();
    }

    if ($('.form-pop .ticketTypeId').val() == 5 && $('#serialNumber').val() == '') {
        $('.form-pop .error-serial-number').fadeIn();
    }

    if ($('.form-pop .ticketTypeId').val() == 5) {

        if ($('#serialNumber').val() !== '' && $('.messageDemande').val() !== '') {

            $.post("/contact-compte.aspx?ticketId=" + 0, { ticketId: $('.form-pop .ticketId').val(), serialNumber: $('.form-pop .serialNumber').val(), clientId: $('.form-pop .clientId').val(), commandeId: $('.form-pop .commandeId').val(), factureId: $('.form-pop .factureId').val(), ticketTypeId: $('.form-pop .ticketTypeId').val(), message: $('.form-pop .messageDemande').val(), numProduit: $('.form-pop .numProduit').val() })
                .success(function () {
                    $('.texte-info-pop').fadeOut();
                    $('.form-pop').hide();
                    $('.form-pop-validation').fadeIn();

                    if ($('.form-pop .ticketTypeId').val() == 5) {
                        $('.form-pop-validation-sav').fadeIn();
                    }
                });
        }

    }
    else if ($('.form-pop .ticketTypeId').val() == 1) {

        let produits = [];

        $('#tableauProduitsDetails_' + $('.form-pop .commandeId').val()).find("tbody").find("tr").each(function () {
            var quantiteRetrac = parseInt($(this).find("#qteRetractation").val());

            if (quantiteRetrac > 0 && quantiteRetrac <= parseInt($(this).find("#qteCommande").text()))
                produits.push({
                    ProduitId: $(this).find("#produitId").text().trim(),
                    PrixVenteTTC: $(this).find("#prix").text().trim().replace(",", "."),
                    QteRetractation: quantiteRetrac,
                    Libelle: $(this).find("#libelle").text().trim()
                });

        });

        if (produits.length > 0) {

            if ($('.messageDemande').val() !== '') {

                $.post("/contact-compte.aspx?ticketId=" + 0, { ticketId: $('.form-pop .ticketId').val(), clientId: $('.form-pop .clientId').val(), commandeId: $('.form-pop .commandeId').val(), factureId: $('.form-pop .factureId').val(), ticketTypeId: $('.form-pop .ticketTypeId').val(), message: $('.form-pop .messageDemande').val(), numProduit: $('.form-pop .numProduit').val(), dateCommande: $('.form-pop .dateCommande').val(), produits: JSON.stringify(produits) })
                    .success(function () {
                        $('.texte-info-pop').fadeOut();
                        $('.form-pop').hide();
                        $('.form-pop-validation').fadeIn();
                    });
            }
        }
        else
            $('.form-pop .error-produit-retractation').fadeIn();
    }
    else {
        if ($('.messageDemande').val() !== '') {

            $.post("/contact-compte.aspx?ticketId=" + 0, { ticketId: $('.form-pop .ticketId').val(), clientId: $('.form-pop .clientId').val(), commandeId: $('.form-pop .commandeId').val(), factureId: $('.form-pop .factureId').val(), ticketTypeId: $('.form-pop .ticketTypeId').val(), message: $('.form-pop .messageDemande').val(), numProduit: $('.form-pop .numProduit').val() })
                .success(function () {
                    $('.texte-info-pop').fadeOut();
                    $('.form-pop').hide();
                    $('.form-pop-validation').fadeIn();
                });
        }
    }
}

function EnvoieMessage(commandeId, ticketTypeId, ticketId, factureId, numProduit) {
    if ($('#answer').val() !== '') {
        $.post("/contact-compte.aspx?ticketId=" + ticketId, { ticketId: ticketId, commandeId: commandeId, factureId: factureId, ticketTypeId: ticketTypeId, message: $('#answer').val(), numProduit: numProduit })
            .success(function () {
                window.location.href = "/vosdemandes.aspx?type=commandes&action=getMessages&ticketId=" + ticketId + "&commandeId=" + commandeId;
            });
    }
    else {
        $('.form-pop .error-message').fadeIn();
    }
}

function ShowAllProduitCommande(th, cde_client_id) {

    if ($('.produits-commande-' + cde_client_id).attr('class').indexOf('show-all-produits') !== -1) {
        $('.produits-commande-' + cde_client_id).removeClass('show-all-produits');
        $(th).html("Afficher tous les produits");
    }
    else {
        $('.produits-commande-' + cde_client_id).addClass('show-all-produits');
        $(th).html("Masquer tous les produits");
    }

}

function fancyConfirm(msg, callbackYes, callbackNo) {
    var ret;
    jQuery.fancybox({
        'modal': false,
        'closeBtn': true,
        afterShow: function () {
            $('.fancybox-close').attr('id', 'fancybox-close');
        },
        'content': "<div style=\"width:540px;text-align: center;\"><p style=\"margin-top: 13px;margin-bottom: 24px;font-size: 15px;\">" + msg + "</p><div class=\"bt-retour-compte\"><input id=\"fancyConfirm_ok\" style=\"margin:3px;padding:0px;margin-bottom:10px;\" type=\"button\" value=\"OUI\"><input id=\"fancyconfirm_cancel\" style=\"margin:3px;padding:0px;\" type=\"button\" value=\"NON\"></div></div>",
        'beforeShow': function () {
            jQuery("#fancyconfirm_cancel").click(function () {
                $.fancybox.close();
                callbackNo();
            });
            jQuery("#fancyConfirm_ok").click(function () {
                $.fancybox.close();
                callbackYes();
            });
        }
    });
}

function MajProduit(a) {
    fancyConfirm('Vous confirmez que vous avez bien réceptionné ce produit ?', function () {
        __doPostBack('btn_maj_produit', a);
    }, function () {
        // nothing to do
    });
}

function PremierChoixContact(id) {

    $(".contact-step-1").hide();
    $(".retour-choix-contact").fadeIn();
    $(".contact-step-2.choix-" + id).fadeIn();

}

function DeuxiemeChoixContact(id, choix) {

    $(".contact-step-1").hide();
    $(".contact-step-2").hide();
    $(".contact-step-2.choix-" + id + " .c-" + id + "-" + choix).fadeIn();

}

function ChoixFormContact(id, mag_nom) {

    $(".contact-step-1").hide();
    $(".contact-step-2").hide();
    $(".num-cde-market").hide();
    $(".retour-choix-contact").show();
    $(".contact-step-3.contact-form").fadeIn();

    $('.sujet-id-form').val(id);

    switch (id) {
        case 100:
            $(".sujet-form").html("Magasin " + mag_nom + " : Autre demande");
            break;

        case 101:
            $(".sujet-form").html("Service Internet : Besoin d'un conseil");
            break;

        case 102:
            $(".sujet-form").html("Service Internet : Autre demande");
            break;

        case 103:
            $(".sujet-form").html("Autre demande");
            break;

        case 104:
            $(".sujet-form").html("Magasin " + mag_nom + " : Besoin d'un conseil");
            break;

        case 200:
            $(".sujet-form").html("Commande Market Place");
            $(".num-cde-market").show();
            break;
    }

}

function RetourChoixContact() {

    $(".contact-step-2").hide();
    $(".contact-step-3").hide();
    $(".retour-choix-contact").hide();
    $(".contact-step-1").fadeIn();

}

function HideBtPanier(hide) {

    if ($(".bt-panier") !== undefined) {

        if (hide === "1") {
            $(".bt-panier").fadeOut();
        }
        else {
            $(".bt-panier").fadeIn();
        }

    }

}


$(document).ready(function () {
    $('.check:button').toggle(function () {
        $('input:checkbox').attr('checked', 'checked');
        $(this).val('uncheck all');
    }, function () {
        $('input:checkbox').removeAttr('checked');
        $(this).val('check all');
    })
})




function ShowLaisserMessage(v) {

    $('.phone-mail div').removeClass('hover');

    if (v === 0) { // Tout masquer
        $('.laisser-message').fadeOut();
        setCookie("hideHelp", 1, 2);
    }
    else if (v === 1) { // show tel

        if ($('.laisser-message-tel').css("display") === "none") {
            $('.laisser-message').hide();
            $('.laisser-message-tel').fadeIn();
            $('.phone-message').addClass('hover');
        }
        else {
            $('.laisser-message').hide();
        }

    }
    else { // show mail

        if ($('.laisser-message-mail').css("display") === "none") {
            $('.laisser-message').hide();
            $('.laisser-message-mail').fadeIn();
            $('.mail-message').addClass('hover');
        }
        else {
            $('.laisser-message').hide();
        }

    }

}

function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
    var expires = "expires=" + d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for (var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}

var temps = 0;
// Affiche le bloc de message au bout de 10 secondes
function ShowLaisserMessageTime(i) {

    temps++;
    if (temps === 10) {
        ShowLaisserMessage(i);
    }

}

function CompteTemps(i) {

    if (getCookie("hideHelp") !== "1") {
        ShowLaisserMessageTime(i);

        if (temps < 10) {
            setTimeout("CompteTemps(" + i + ")", 1000);
        }
    }

}


$('.aide_button').click(function () {

    var ok = true;
    $('.aide_field').css('border', '1px solid #000');

    if ($('.aide_name').val() === undefined || $('.aide_name').val() === '') {
        $('.aide_name').css('border', '1px solid #EE2D24');
        ok = false;
    }

    if ($('.aide_mail').val() === undefined || $('.aide_mail').val() === '' || !validateEmail($('.aide_mail').val())) {
        $('.aide_mail').css('border', '1px solid #EE2D24');
        ok = false;
    }

    if ($('.aide_msg').val() === undefined || $('.aide_msg').val() === '') {
        $('.aide_msg').css('border', '1px solid #EE2D24');
        ok = false;
    }

    return ok;

});

function validateEmail(email) {
    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

    return re.test(String(email).toLowerCase());
}


function OnChecked(e, n, cbx_id) {
    var noUiSliderinit = $('#_ctl0_ContentPlaceHolder1_noUiSlider_init').val();

    if (e.checked) {
        if (typeof f !== "undefined") {
            if (f.indexOf(n) != -1) {
                exist_check++
            } else {
                all_check++
            }
        }
        else {
            all_check++
        }

        $(".filtre-" + n).addClass("select-filtre");
    }
    else {
        if (typeof f !== "undefined") {
            if (f.indexOf(n) != -1) {
                exist_check--;
            }
            else {
                all_check--;
            }
        }
        else {
            all_check--;
        }

        $(".filtre-" + n).removeClass("select-filtre");
    }

    if (all_check == 0 && exist_check == 0 && noUiSliderinit == 1) {
        $('.btn_valider_filtre').removeClass("btn_valider_afficher");
        $('.btn_valider_filtre_' + cbx_id).css('background-color', '#c8c8c3').css('border', '1px solid #c8c8c3').css('color', '#242424');
    }
    else {
        $('.btn_valider_filtre_' + cbx_id).addClass("btn_valider_afficher");
        $('.btn_valider_filtre_' + cbx_id).css('background-color', '#0B5').css('border', '1px solid #0B5').css('color', '#242424');
    }
}

function pressEnterRelaisCP(e) {

    if (e.keyCode == 13) {
        $('.btn_code_postal_relais').click();

        return false;
    }

    return true;
}

function getLocation(i) {
    if (navigator.geolocation || i === 1) {

        if (i === 1) {
            setCookie("stopGeoloc", 0, -1);
        }

        var v = navigator.geolocation.getCurrentPosition(showPosition, showError);
    }
    else {
        __doPostBack('btn_mag_geoloc', 'bad');
    }
}

function showError(error) {
    if (error.code != 1) {
        if (position.coords.latitude !== null) {
            origin = position.coords.latitude + "," + position.coords.longitude;
            __doPostBack('btn_mag_geoloc', origin);
        }
        else {
            __doPostBack('btn_mag_geoloc', 'bad');
        }
    }
}

function showPosition(position) {

    if (getCookie("stopGeoloc") !== "1") {
        if (position.coords.latitude !== null) {
            origin = position.coords.latitude + "," + position.coords.longitude;
            if (location.href.indexOf("/magasins/magasins.aspx") !== -1) {
                __doPostBack('btn_mag_geoloc', origin);
            }
            else {
                __doPostBack('btn_mag_geoloc_master', origin);
            }

            setCookie("stopGeoloc", 1, 99999999);
        }
        else {
            __doPostBack('btn_mag_geoloc', 'bad');
        }
    }

}

function search_mag() {
    redirectionPageMagasin();
}

$('#_ctl0_ContentPlaceHolder1_txt_mag_recherche').on('keydown', function (e) {
    if (e.which == 13) {
        e.preventDefault();
        redirectionPageMagasin();
    }
});

function redirectionPageMagasin() {
    var url = '/magasins/magasins.aspx';
    let recherche = $('#_ctl0_ContentPlaceHolder1_txt_mag_recherche').val();
    if (recherche != '') {
        url += '?recherche=' + recherche;
    }

    window.location = url;
}


$(".choisir-option-config").click(function (e) {
    current_id = this.id.split('_')[0];
    current_id_2 = this.id.split('_')[1];
    $(".list-" + current_id).show();
    if (parseInt(current_id_2) > 0) {
        $(".choisir-" + current_id).css({ 'display': 'block' });
    }
    e.stopPropagation();
});
$(".the-list").click(function (e) {
    e.stopPropagation();
});
$(document).click(function () {
    if (!current_id.trim()) {
    }
    else {
        console.log(current_id + '_' + current_id_2);
        $(".select-option-default-" + current_id).hide();
        if (parseInt(current_id_2) > 0) {
            $(".list-" + current_id).removeClass('list');
            $(".default-produit-" + current_id).css({ 'display': 'none' });
            $(".list-option-" + current_id).css({ 'display': 'none' });
            $(".option-more-" + current_id).css({ 'display': 'block' });
            $(".list-option-" + current_id + "-" + current_id_2).css({ 'display': 'block' });
            $(".choisir-" + current_id).css({ 'display': 'none' });
        }
        else {
            $(".option_" + current_id + "_0").css({ 'display': 'block' });
            $(".list-" + current_id).hide();
            $(".option-more-" + current_id).show();
        }
    }
});

function dv_show() {
    $(".authentification").mouseenter(function () {
        $("#formulaire_login").show();
        return false;
    }).mouseleave(function () {
        $("#formulaire_login").show();
        return false;
    });
    $(".panel_client").mouseleave(function () {
        $("#formulaire_login").hide();
    })
}

$("#_ctl0_txt_compte, .panel_client").hover(function () {
    $("#formulaire_login").show();
    dv_show();
});

$("ul.ul_benchmark li").on("click", function () {
    var id = this.id;
    $("ul.ul_benchmark li").removeClass("select");
    $("ul.ul_benchmark li#" + id).addClass("select");
    $(".bench").css("display", "none");
    $(".b" + id).css("display", "block");
});

if (document.getElementById('myVideo') !== null) {
    document.getElementById('myVideo').addEventListener('click', function (e) {
        $("#myVideo").fadeOut();
        $("#product_buy").fadeIn(1000);
    });

    document.getElementById('myVideo').addEventListener('ended', myHandler, false);
    function myHandler(e) {
        $("#myVideo").fadeOut();
        $("#product_buy").fadeIn(1000);
    }
} else {
    $("#product_buy").fadeIn();
}


if (document.getElementById('Video1')) {
    $("#product_buy_2").fadeOut();
    document.getElementById('Video1').addEventListener('click', function (e) {
        $("#Video1").fadeOut();
        $("#product_buy_2").fadeIn(1000);
    });
    document.getElementById('Video1').addEventListener('ended', myHandler, false);
    function myHandler(e) {
        $("#Video1").fadeOut();
        $("#product_buy_2").fadeIn(1000);
    }
} else {
    $("#product_buy_2").fadeIn();
}


// Slider Fiche produit

$(function () {
    $(".rslides").responsiveSlides({
        auto: !0,
        pager: !0,
        nav: !0,
        speed: 1000,
        namespace: "callbacks",
    })
});

$(document).ready(function () {
    $('.pgwSlider').pgwSlider();
    //$.cookieBar({})
});

(function ($) {
    $(window).on("load", function () {
        $(".ps-list").mCustomScrollbar({ theme: "minimal" })
    })
})(jQuery);

$(function () {
    $("#_ctl0_tbx_recherche").autocomplete({
        source: function (request, response) {
            $.ajax({ url: "/default.aspx/getresult", data: "{ 'words': '" + document.getElementById('_ctl0_tbx_recherche').value + "'}", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", html: 'html', autoFocus: !0, success: function (data) { response($.map(data.d, function (item) { return { value: item.split(':')[0], categorie: item.split(':')[1], lien: item.split(':')[2] } })) } })
        }, minLength: 2, select: function (event, ui) { if (ui.item.categorie == "") { window.location.href = ui.item.lien } else { if (ui.item.lien.indexOf('?') != -1) { window.location.href = ui.item.lien + '&slug=' + ui.item.value } else { window.location.href = ui.item.lien + '?slug=' + ui.item.value } } }
    }).autocomplete("instance")._renderItem = function (ul, item) { if (item.categorie == "") { return $("<li>").append("<a href='" + item.lien + "'>Tous nos produits <strong>" + item.value + "</strong></a>").appendTo(ul) } else if (item.categorie == "pc_gamer") { return $("<li>").append("<a href='" + item.lien + "'><strong>" + item.value + "</strong></a>").appendTo(ul) } else { if (item.lien.indexOf('?') != -1) { return $("<li>").append("<a href='" + item.lien + "&slug=" + encodeURIComponent(item.value) + "'>" + item.value + " dans <strong>" + item.categorie + "</strong></a>").appendTo(ul) } else { return $("<li>").append("<a href='" + item.lien + "?slug=" + encodeURIComponent(item.value) + "'>" + item.value + " dans <strong>" + item.categorie + "</strong></a>").appendTo(ul) } } }
});
$(function () {
    $("[id$=code_postal_relais]").autocomplete({
        source: function (request, response) {
            $.ajax({
                url: "/default.aspx/getresultcpville",
                data: "{ 'code_postal': '" + document.getElementById('_ctl0_ContentPlaceHolder1_code_postal_relais').value + "'}",
                dataType: "json",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                autoFocus: !0,
                success: function (data) {
                    response($.map(data.d, function (item) {
                        return {
                            label: item.split('-')[0] + ' ' + item.split('-')[1],
                            val: item.split('-')[0] + ';' + item.split('-')[1]
                        }
                    }))
                }
            });
        },
        select: function (e, i) {
            $("[id$=hfCp]").val(i.item.val);
        },
        minLength: 3
    }).autocomplete("widget").addClass("chronorelais");
});
// Slider Fiche produit


// Scroll suivi mise au panier fiche produit

$(function () {

    $(window).on('scroll', function () {

        if ($(window).scrollTop() > 10) {
            if ($(window).scrollTop() < $(".sep-fiche-prod").height()) {
                $('.menu_fiche_produit').css('top', ($(window).scrollTop() + "px"));
            }
        }
        else {
            $('.menu_fiche_produit').css('top', "0px");
        }

    })

});

// FIN Scroll suivi mise au panier fiche produit

// Config Options 

function showOptionSel(categorie_id) {
    console.log(categorie_id);
    $("#options").addClass("option-sel-open");
    $(".list-options-").hide();
    var idoption = ".list-options-" + categorie_id;

    var fadeOutCallback = function () {
        $(".list-options-" + categorie_id).show();
        $(".option-left li p").removeClass("change-hv");
    };

    if ($(".img-config-option-ok").css("display") !== "none") {
        $(".img-config-option-ok").fadeOut("slow", fadeOutCallback);
    } else if ($(".img-config-option-default").css("display") !== "none") {
        $(".img-config-option-default").fadeOut("slow", fadeOutCallback);
    } else {
        $(".list-options").hide();
        $(".list-options-" + categorie_id).fadeIn();
        $(".option-left li p").removeClass("change-hv");
    }

    $(".option-config-gamer .fancybox-close").fadeIn();

    $(".list-options").hide();
    $(idoption).attr('style', 'display: flex !important');
}

var current_id = "";
var current_id_2 = "";
var stop_add_option = false;
var boitier_change = false;

function stopAddOption() {
    stop_add_option = true;
}

function close_Option() {

    $("#options").removeClass("option-sel-open");
    $('.optionReduc').show();
    $(".option-more").show();
    $(".img-config-option-default").show();
    $(".list-options").hide();
    $(".option-config-gamer .fancybox-close").hide();

}

function config_AddOption(categorieId, diffPrix, produitId, del, nom_produit, quantite, produitIdReplace, produitIdOld, produitImage) {

    if (!stop_add_option) {

        $("#options").removeClass("option-sel-open");

        var options = JSON.parse($('.bt-panier').attr('options'));

        $(".option-left li p").addClass("change-hv");

        if (del) {


            /* ------------ */
            //console.log("delete -" + diffPrix);
            calculerPrixActuel(diffPrix, false);
            /* ------------ */

            $(".cbk_gamer__option--img-" + categorieId).show();
            $(".cbk_gamer__option--img-change-" + categorieId).hide();
            $(".produit-change-" + categorieId).hide();
            $(".produit-del-" + categorieId).hide();
            $(".change-modif-" + categorieId).hide();
            $(".change-hv-" + categorieId).fadeIn();
            //$(".produit-original-" + categorieId).fadeIn();
            $(".cp-" + categorieId).removeClass("produit-is-change");


            $(".produit-original-" + categorieId).show();




            $(".cp-" + categorieId).removeClass("retirerArticle");
            $(".produit-del-" + categorieId).hide();

            $(".list-options").hide();

            $(".ligne-option-" + produitId).remove();

            for (var i = 0; i < options.length; i++) {
                if (options[i]["produitId"] === produitId) {
                    options.splice(i, 1);
                }
            }

            $(".img-config-option").hide();

            if (categorieId === '15-1') {
                boitier_change = false;
            }
        }
        else {


            /* ------------ */
            //console.log("add +" + diffPrix);
            calculerPrixActuel(diffPrix, true);
            /* ------------ */

            $(".produit-original-" + categorieId).hide();
            $(".produit-change-" + categorieId).html(nom_produit);
            $(".produit-del-" + categorieId).attr("onclick", "config_AddOption('" + categorieId + "', 0, " + produitId + ", 1, '', '');");
            $(".produit-change-" + categorieId).fadeIn().css("display", "inline-block");
            $(".cbk_gamer__option--img-change-" + categorieId + " img").attr("src", produitImage);

            $(".cp-" + categorieId).addClass("retirerArticle");

            $(".produit-del-" + categorieId).hide();

            $(".cbk_gamer__option--img-change-" + categorieId).fadeIn().css("display", "inline-block");
            $(".cbk_gamer__option--img-" + categorieId).hide();
            $(".change-hv-" + categorieId).hide();
            $(".change-modif-" + categorieId).fadeIn().css("display", "inline-block");
            $(".produit-del-" + categorieId).fadeIn().css("display", "inline-block");
            $(".cp-" + categorieId).addClass("produit-is-change");
            $(".list-options-" + categorieId).hide();
            $(".ligne-option-cat-" + categorieId).remove();

            for (var i = 0; i < options.length; i++) {
                if (options[i]["categorieId"] === categorieId) {
                    options.splice(i, 1);
                }
            }

            if (categorieId === 15) {
                boitier_change = true;
            }
        }

        if (boitier_change) {
            $(".img-config-option-ok").fadeIn();
        }
        else {
            $(".img-config-option-default").fadeIn();
        }

        if (del) {
            current_id = "";
            current_id_2 = "";
        }
        else {
            if (produitId !== "0") {
                options.push({ "categorieId": categorieId, "diffPrix": diffPrix, "produitId": produitId, "quantite": quantite, "produitIdReplace": produitIdReplace, "produitIdOld": produitIdOld });

                var class_neg = "";
                if (diffPrix <= 0) {
                    class_neg = "price-neg";
                }

                $(".voir-detail-option ul").append('<li class="ligne-option-cat-' + categorieId + ' ligne-option-' + produitId + '"><div class="txt-optio">' + nom_produit + '</div><span class="price-option ' + class_neg + '">' + diffPrix + '€</span></li>');
            }
        }

        var reduc = 0;
        for (var i = 0; i < options.length; i++) {
            reduc += options[i]["diffPrix"];
        }


        if (options.length > 0) {

            $(".voir-detail-option").fadeIn();
            $(".gamer_stockindispo").addClass('dispo--hidden');
            $(".libelle-livraison-avec-option").addClass('dispo--verte');

            if (options.length == 1) {
                $(".optionReduc .label").html("Avec votre option");
            }
            else {
                $(".optionReduc .label").html("Avec vos " + options.length + " options");
            }

            $(".prix_total_sans_remise").hide();
            $('.prix_total_remise').fadeIn();

            $('.libelle-livraison-sans-option').hide();
            $('.date-de-livraison-sans-option').hide();
            $('#prix-config-barre-avec-option').show();
            $('#prix-config-barre-sans-option').hide();
            $('.choix-mag-fiche-mag').hide();

            var eclate = false;
            var is_windows_present = parseInt($('#is_windows_present').val());

            for (var i = 0; i < options.length; i++) {
                if (
                    (options[i].categorieId.startsWith('5') || options[i].categorieId.startsWith('6') || options[i].categorieId.startsWith('15')) // Option trouvée sur CPU, GPU ou boîtier => "Eclaté".
                    || (is_windows_present == 1 && (options[i].categorieId.startsWith('2') || options[i].categorieId.startsWith('3') || options[i].categorieId.startsWith('49'))) // Windows présent et option RAM, SSD, HDD trouvée => "Eclate" (nécessite recalcul OA3).
                ) {
                    eclate = true;
                    break;
                }
            }

            if (eclate) {
                $('.libelle-livraison-avec-option').show();
                $('.date-de-livraison-avec-option').show();
                $('.libelle-livraison-avec-option-lineup-augmente').hide();
                $('.date-de-livraison-avec-option-lineup-augmente').hide();
            } else {
                $('.libelle-livraison-avec-option-lineup-augmente').css("display", "block");
                $('.date-de-livraison-avec-option-lineup-augmente').css("display", "block");
                $('.libelle-livraison-avec-option').hide();
                $('.date-de-livraison-avec-option').hide();
            }
        }
        else {
            $('.prix_total_remise').hide();
            $('.prix_total_sans_remise').fadeIn();
            $('.voir-detail-option').hide();
            $('.libelle-livraison-avec-option').hide();
            $('.date-de-livraison-avec-option').hide();
            $('.libelle-livraison-sans-option').show();
            $('.date-de-livraison-sans-option').show();
            $('#prix-config-barre-avec-option').hide();
            $('#prix-config-barre-sans-option').show();
            $('.libelle-livraison-avec-option-lineup-augmente').hide();
            $('.date-de-livraison-avec-option-lineup-augmente').hide();
            $('.choix-mag-fiche-mag').fadeIn();
        }

        var html = "";
        if (reduc > 0) {
            html = "+";
        }

        $('.optionReduc .prix').html(html + (Math.round(reduc * 100) / 100) + '€');
        $('.fiche-produit-r').css('height', 'auto');
        $('.fiche-produit-r').css('display', 'flex');
        $('#fiche-produit-r').css('display', 'block');

        $('.achat-bck #fiche-produit-r').css('display', 'block');
        $('.barre-float #fiche-produit-r').css('display', 'flex');

        $('.achat-bck #fiche-produit-r').css('display', 'flex');
        $('.achat-bck .voir-detail-option').css('height', 'auto');

        var prix_total_remise = (Math.round((parseFloat($(".prix_config").val()) + parseFloat(reduc)) * 100) / 100).toString().split('.');
        var prix_total_remise_3x = (Math.round(((parseFloat($(".prix_config").val()) + parseFloat(reduc)) / 3) * 100) / 100).toString().split('.');

        $(".gamer__prix-total .fiche_product_price").html(prix_total_remise + "€");


        if (prix_total_remise.length > 1) {
            $('.prix_total_remise').html(prix_total_remise[0] + "&euro;<sup>" + prix_total_remise[1] + "</sup>");

            if (prix_total_remise_3x[1] !== undefined) {
                $('.p-3x').html((prix_total_remise_3x[0]) + "&euro;<span><sup>" + prix_total_remise_3x[1] + "</sup> x 3 <span>sans frais</span></span>");
            }
            else {
                $('.p-3x').html((prix_total_remise_3x[0]) + "&euro;<span> x 3 <span>sans frais</span></span>");
            }
        }
        else {
            $('.prix_total_remise').html(prix_total_remise[0] + "&euro;");
            $('.p-3x').html((prix_total_remise_3x[0]) + "&euro;<span> x 3 <span>sans frais</span></span>");
        }

        if ($(".prix_config_promo").length != 0 && options.length > 0) {
            var prix_total_avec_option = (Math.round((parseFloat($(".prix_config").val()) + parseFloat(reduc)) * 100) / 100);
            var prix_config_barre_avec_option = (Math.round((parseFloat($(".prix_config_promo").val()) + parseFloat(reduc)) * 100) / 100);
            //console.log(prix_config_barre_avec_option);
            //console.log(prix_total_avec_option);
            //console.log("price_updated");
            $(".gamer__prix-total .fiche_product_price").html(prix_total_avec_option + "€");
            $(".gamer_prixbarre").html(prix_config_barre_avec_option + "€");
            $(".fiche_product_price_barre--avec").html(prix_config_barre_avec_option + "€");
            if (prix_total_avec_option > prix_config_barre_avec_option) {
                $('#prix-config-barre-avec-option').hide();
            }
            //else {
            //    prix_config_barre_avec_option = (Math.round((parseFloat($(".prix_config_promo").val()) + parseFloat(reduc)) * 100) / 100).toString().split('.');
            //    if (prix_total_avec_option.length > 1) {
            //        $('#prix-config-barre-avec-option').html(prix_config_barre_avec_option[0] + "&euro;<sup>" + prix_config_barre_avec_option[1] + "</sup>");
            //    } else {
            //        $('#prix-config-barre-avec-option').html(prix_config_barre_avec_option[0] + "&euro;");
            //    }
            //}
        }

        $('.optionReduc').show();

        $(".option-more").show();

        $('.bt-panier').attr('options', JSON.stringify(options));
    }

    //if (window.getComputedStyle(document.querySelector('#prix-config-barre-sans-option')).display == "block") {
    //    $(".fiche_product_price_barre--avec").css('display', 'none');
    //} else {
    //    $(".fiche_product_price_barre--avec").css('display', 'block');
    //}

    $(".option-config-gamer .fancybox-close").hide();


    if (produitIdReplace == -1) {
        $(".cpp-" + categorieId).addClass("retirerArticle");
    } else {
        $(".cpp-" + categorieId).removeClass("retirerArticle");
    }
    stop_add_option = false;
}



function initOptions() {
    var options = JSON.parse($('.bt-panier').attr('options'));
    var i = options.length;
    while (i--) {
        options.splice(i, 1);
    }
    current_id = "";
    current_id_2 = "";
    $('.optionReduc .prix').html('');
    $('.fiche-produit-r').css('height', 'auto');
    $('.prix_total_remise').html('');
    $('.the-list').removeClass('list');
    $('.option-more').show();
    $('.select-option-default').hide();
    $('.optionReduc').hide();
    $('.list-option').css({ 'display': 'none' });
    $('.default-produit').css({ 'display': 'block' });
    $('.bt-panier').attr('options', JSON.stringify(options));
}

function getOptions() {
    return $('.bt-panier').attr('options');
}


function showOptionsAdditonnal(categorieId) {
    var options = JSON.parse($('.bt-panier').attr('options'));
    showHide(options);

    $('.list').removeClass('list');
    $(".choix-option-config-supp .option-more").show();
    $(".choix-option-config-supp .choisir-option-config div").show();
    $(".select-option-default").hide();
    $(".option-more").show();


    $(".choix-option-config-supp .option-del").hide();
    $(".default-produit-" + categorieId).fadeIn("slow");
    $(".choix-option-config-supp-" + categorieId).fadeIn("slow");
    $(".list-option-" + categorieId).fadeIn("slow");
    $(".list-option .option-more-" + categorieId).hide();
    $(".choisir-option-" + categorieId + " .choisir").show();
    $('.list-' + categorieId).addClass('list');
}


function showOptions(categorieId) {
    var options = JSON.parse($('.bt-panier').attr('options'));
    showHide(options);

    $('.list').removeClass('list');
    $(".option-more").show();
    $(".select-option-default").hide();

    $(".default-produit-" + categorieId).fadeIn("slow");
    $(".select-option-default-" + categorieId).fadeIn("slow");
    $(".list-option-" + categorieId).fadeIn("slow");
    $(".option-more-" + categorieId).hide();
    $(".choisir-option-" + categorieId + " .choisir").show();
    $('.list-' + categorieId).addClass('list');
    $(".choisir-" + categorieId).css({ 'display': 'block' });
}

function showHide(options) {
    $(".default-produit").show();
    $(".list-option").css("display:none");

    for (var i = 0; i < options.length; i++) {
        $(".default-produit-" + options[i].categorieId).hide();
        $(".list-option-" + options[i].categorieId + "-" + options[i].produitId).show();

        $('.choisir-option-config-' + options[i].categorieId + '-' + options[i].produitId + ' .choisir').hide();
        $('.choisir-option-config-' + options[i].categorieId + '-' + options[i].produitId + ' .choisir-' + options[i].categorieId).hide();
        $('.option-more.option-more-' + options[i].categorieId + '-' + options[i].produitId).show();
    }
}

// FIN Config Options 

function goToAncre(id, val) {

    if (val === undefined) {
        val = 145;
    }

    $(document).scrollTop($("#" + id).position().top - val);

}
