var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

!function(RY){if(!RY||!RY._v){var RY=RY||{};RY._v=1;var _settings={COOKIE_DAYS_DURATION:365,COOKIE_SUBDOMAIN_ENABLED:!0,DEBUG_ENABLED:!0,ALERT_ENABLED:!1,HTTP_PROTOCOL:document&&document.location&&document.location.protocol&&"https:"==document.location.protocol?"https://":"http://",HTTPS_ENABLED:!0,URI_ZONES:{EU:{API:"api.realytics.io",API_MOBILE:"m.realytics.io",XDM:"x.realytics.io",SYNC_USER:"tc-sync.realytics.io",SYNC_SESSION:"tp.realytics.io"},US:{API:"api-us-we.realytics.net",API_MOBILE:"api-us-we.realytics.net",XDM:"api-us-we.realytics.net",SYNC_USER:"api-us-we.realytics.net",SYNC_SESSION:"api-us-we.realytics.net"},PA:{API:"api-pa-ce.realytics.net",API_MOBILE:"api-pa-ce.realytics.net",XDM:"api-pa-ce.realytics.net",SYNC_USER:"api-pa-ce.realytics.net",SYNC_SESSION:"api-pa-ce.realytics.net"},SA:{API:"api.realytics.io",API_MOBILE:"m.realytics.io",XDM:"x.realytics.io",SYNC_USER:"tc-sync.realytics.io",SYNC_SESSION:"tp.realytics.io"}},URI_STREAMROOT:"streamroot.realytics.io",LOGGER_ENABLED:!0,LOGGER_API_ENABLED:!1,XDM_ENABLED:!1,SYNC_USER_ENABLED:!0,SYNC_USER_TC_ENABLED:!0,SYNC_USER_EU_ENABLED:!0,SYNC_SESSION_ENABLED:!0,MAIN_INSTANCE:"realytics",OPTOUT_TIMEOUT:100,EVENT_TRACK_TIMEOUT:300,XDM_TIMEOUT:5e3,USER_DAYS_DURATION:365,SESSION_MINUTES_DURATION:30,URL_MAX_SIZE:2048,PAGE_HACK:!0},_={getTypeString:function(e){return Object.prototype.toString.call(e)},getTime:function(){return Math.round((new Date).getTime())},isNative:function(e){var t=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");return"function"==typeof e&&t.test(e)}};_.isArray=_.isNative(Array.isArray)?Array.isArray:function(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"[object Array]"!=_.getTypeString(e))},_.isArrayNullOrEmpty=function(e){return!e||e.length<1},_.isDate=function(e){return!(!e||"object"!=typeof e||"[object Date]"!=_.getTypeString(e))},_.isFunction=function(e){return"function"==typeof e},_.isFunction(/x/)&&(_.isFunction=function(e){return"function"==typeof e&&"[object Function]"==_.getTypeString(e)}),_.isNull=function(e){return null===e},_.isNumber=function(e){return!!("number"==typeof e||e&&"object"==typeof e&&"[object Number]"==_.getTypeString(e))},_.isObject=function(e){return!(!e||"function"!=typeof e&&"object"!=typeof e)},_.isDomElement=function(e){return _.isObject(e)&&e.nodeType},_.isString=function(e){return!!("string"==typeof e||e&&"object"==typeof e&&"[object String]"==_.getTypeString(e))},_.isUndefined=function(e){return void 0===e},_.extend=function(e,t){if(e=e&&_.isObject(e)?e:{},t&&_.isObject(t))for(var r in t)e[r]=t[r];return e},_.reduce=function(e,t){var r;if("string"==typeof e)r=e.slice(0,t);else if(_.isArray(e)){r=[];for(var n=0;n<e.length;n++)r.push(_.reduce(e[n],t))}else if(_.isObject(e)){r={};for(var i in e)r[i]=_.reduce(e[i],t)}else r=e;return r},_.json=function(){return"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,n,i,o,a,c=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(s)){for(o=s.length,r=0;r<o;r+=1)a[r]=str(r,s)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+c+"]":"["+a.join(",")+"]",gap=c,i}if(rep&&"object"==typeof rep)for(o=rep.length,r=0;r<o;r+=1)"string"==typeof rep[r]&&(i=str(n=rep[r],s))&&a.push(quote(n)+(gap?": ":":")+i);else for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(i=str(n,s))&&a.push(quote(n)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+c+"}":"{"+a.join(",")+"}",gap=c,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var r,n,i=e[t];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(void 0!==(n=walk(i,r))?i[r]=n:delete i[r]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),{stringify:function(e){return JSON.stringify(e)},parse:function(e){return JSON.parse(e)},encode:function(e){return JSON.stringify(e)},decode:function(e){return JSON.parse(e)}}}(),_.base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){for(var t,r,n,i,o,a,c,s="",l=0,u=(e=_.utf8.encode(e)).length;l<u;)t=l<u?e.charCodeAt(l++):null,r=l<u?e.charCodeAt(l++):null,n=l<u?e.charCodeAt(l++):null,i=t>>2,o=(3&t)<<4|(null!==r?r>>4:0),a=null!==r?(15&r)<<2|(null!==n?n>>6:0):64,c=null!==n?63&n:64,s=s+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(c);return s},decode:function(e){var t,r,n,i,o,a,c="",s=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<e.length;)t=this._keyStr.indexOf(e.charAt(s++))<<2|(i=this._keyStr.indexOf(e.charAt(s++)))>>4,r=(15&i)<<4|(o=this._keyStr.indexOf(e.charAt(s++)))>>2,n=(3&o)<<6|(a=this._keyStr.indexOf(e.charAt(s++))),c+=String.fromCharCode(t),64!=o&&(c+=String.fromCharCode(r)),64!=a&&(c+=String.fromCharCode(n));return c=_.utf8.decode(c)}},_.utf8={encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},decode:function(e){for(var t="",r=0,n=c1=c2=0;r<e.length;)(n=e.charCodeAt(r))<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(c2=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&c2),r+=2):(c2=e.charCodeAt(r+1),c3=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),r+=3);return t}},_.ryEncoder={encode:function(e){var t=function(e){var t=function(e){return e<10?"0"+e:e},r=null;return e?(r=""+t(e.getUTCFullYear()),r+="-"+t(e.getUTCMonth()+1),r+="-"+t(e.getUTCDate()),r+="T"+t(e.getUTCHours()),r+=":"+t(e.getUTCMinutes()),r+=":"+t(e.getUTCSeconds())):null},r=function(e){if(!_.isUndefined(e)&&e)if(_.isDate(e))e=t(e);else if(_.isArray(e)&&e.length>0)for(var n=0;n<e.length;n++)e[n]=r(e[n]);else if(_.isObject(e))for(var i in e)if(_.isDate(e[i]))e[i]=t(e[i]);else if(_.isArray(e[i])&&e[i]&&e[i].length>0)for(n=0;n<e[i].length;n++)e[i][n]=r(e[i][n]);else!_.isObject(e[i])||e.typeOf&&e[i]&&e[i]==e.typeOf||(e[i]=r(e[i]));return e},n=e?_.json.encode(r(e)):null;return n?_.base64.encode(n):null},decode:function(e){var t=e?_.base64.decode(e):null;return t?_.json.decode(t):null}},_.domain={_current:document.location?document.location.hostname:null,getInfo:function(e){return e&&e==_.noOvrd?_.domain._current:e}},_.url={_current:document.location?document.location.href:null,getInfo:function(e){return e&&e==_.noOvrd?_.url._current:e},getParamValue:function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===r||r.length<2||!r[1]?"":decodeURIComponent(r[1]).replace(/\+/g," ")}},_.campaign={_parameters:["utm_source","utm_medium","utm_campaign","utm_content","utm_term","xtor"],_getCampaign:function(e){for(var t={},r=0,n=_.campaign._parameters,i=0;i<n.length;i++){var o=n[i],a=e?_.url.getParamValue(e,o):null;a&&""!=a&&(t[o]=a,r++)}return r<1?null:t},getInfo:function(e){return _.campaign._getCampaign(e)}},_.env={_ua:navigator?navigator.userAgent:null,_cache:{browser:null,os:null,device:null,mobile:null},isBot:!(!navigator||!/(googlebot|mediapartners|bingpreview|baiduspider|yandexbot|google web preview)/i.test(navigator.userAgent)),_uaMatch:function(e){return e.test(_.env._ua)},_uaContains:function(e){return-1!=_.env._ua.indexOf(e)},getBrowser:function(){if(null==_.env._cache.browser){var e=navigator.vendor||"",t=null,r=_.env._uaContains,n=_.env._uaMatch;t=r("Firefox")||n(/firefox/i)?"MozillaFirefox":r("MSIE")||n(/(msie|trident)/i)?"InternetExplorer":r("Chrome")||n(/chrome/i)?r("Android")||n(/crios/i)?"ChromeMobile":"Chrome":e&&-1!=e.indexOf("Apple")||n(/safari/i)&&!n(/phantom/i)?r("Mobile")?"SafariMobile":"Safari":window&&window.opera||n(/opera/i)||n(/opr/i)?r("Mini")?"OperaMini":"Opera":r("Gecko")?"MozillaGecko":n(/seamonkey\//i)?"SeaMonkey":n(/(BlackBerry|PlayBook|BB10)/i)?"BlackBerry":r("Konqueror")?"Konqueror":"",_.env._cache.browser=t}return""==_.env._cache.browser?null:_.env._cache.browser},getOs:function(){if(null==_.env._cache.os){var e=_.env._uaMatch,t=null;t=e(/Windows/i)?e(/Phone/)?"WindowsMobile":"Windows":e(/Mac/i)?"MacOS":e(/Linux/)?"Linux":e(/Unix/)?"Unix":e(/(iPhone|iPad|iPod)/)?"iOS":e(/Android/)?"Android":e(/(BlackBerry|PlayBook|BB10)/i)?"BlackBerry":"",_.env._cache.os=t}return""==_.env._cache.os?null:_.env._cache.os},getDevice:function(){if(null==_.env._cache.device){var e=_.env._uaMatch,t=null;t=e(/iPhone/)?"iPhone":e(/iPad/)?"iPad":e(/iPod/)?"iPod":e(/(BlackBerry|PlayBook|BB10)/i)?"BlackBerry":e(/Windows Phone/i)?"WindowsPhone":e(/Android/)?"AndroidDevice":null,_.env._cache.device=t}return""==_.env._cache.device?null:_.env._cache.device},isMobile:function(){if(null==_.env._cache.mobile){var e=!1;try{e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}catch(t){e=!1}_.env._cache.mobile=!!e}return null==_.env._cache.mobile?null:_.env._cache.mobile},getInfo:function(){if(_.env._ua){var e={},t=_.env.getBrowser(),r=_.env.getDevice(),n=_.env.getOs(),i=_.env.isMobile();return t&&(e.browser=t),r&&(e.device=r),n&&(e.os=n),e.mobile=i,e}return null}},_.noOvrd=-1,_.referrer={_current:document?document.referrer:null,_top:function(){var e=null;try{e=window&&window.top&&window.top.document?window.top.document.referrer:null}catch(t){e=null}return e}(),getInfo:function(e,t,r){var n=_.referrer;if(!t||t!=_.noOvrd)return t;if(r){var i=!1;try{i=window.self!==window.top}catch(e){i=!0}try{return i?n._top:n._current}catch(e){return null}}else try{return n._current}catch(e){return null}}},_.searchEngine={_dico:{Google:{d:"google.([^/?]*)",p:"q",e:["email.google.([^/?]*)","storage.googleapis.([^/?]*)"]},Yahoo:{d:"yahoo.com",p:"p"},Bing:{d:"bing.com",p:"q"},Baidu:{d:"baidu.com",p:"wd"},Aol:{d:"aol.([^/?]*)",p:"q"},Ask:{d:"ask.com",p:"q"},Daum:{d:"daum.net",p:"q"},Dogpile:{d:"dogpile.com",p:"q"},Duckduckgo:{d:"duckduckgo.com",p:"q"},Lycos:{d:"lycos.([^/?]*)",p:"q"},Mynet:{d:"mynet.com",p:"query"},Naver:{d:"naver.com",p:"query"},Rambler:{d:"rambler.ru",p:"query"},Search:{d:"search.com",p:"q"},Seznam:{d:"seznam.cz",p:"q"},Virgilio:{d:"virgilio.it",p:"qs"},Voila:{d:"voila.fr",p:"kw"},WpPl:{d:"wp.pl",p:"q"},Yandex:{d:"yandex.com",p:"text"},Yam:{d:"yam.com",p:"k"}},_getEngine:function(e){var t=_.searchEngine,r=null;if(e)for(var n in t._dico)if(0==e.search("https?://(.*)"+t._dico[n].d)){var i=!0;if(t._dico[n].e)for(var o=0;o<t._dico[n].e.length;o++)if(0==e.search("https?://"+t._dico[n].e[o])){i=!1;break}i&&(r=n);break}return r||null},_getQuery:function(e,t){var r=_.searchEngine,n=t?r._dico[t].p:null,i=n?_.url.getParamValue(e,n):null;return(i&&i.length>0?i:null)||null},getInfo:function(e,t){var r=_.searchEngine._getEngine(t);if(r){var n=_.searchEngine._getQuery(e,r),i={engine:r};return n&&(i.query=n),i}return null}},_.getUIID=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return function(){for(var t,r=e,n=new Array(36),i=0,o=0;o<36;o++)8==o||13==o||18==o||23==o?n[o]="-":14==o?n[o]="4":(i<=2&&(i=33554432+16777216*Math.random()|0),t=15&i,i>>=4,n[o]=r[19==o?3&t|8:t]);return n.join("")}}();var _logger=(ac=_,bc=_settings,cc=null,dc=function(e,t){try{var r=!(!bc.LOGGER_API_ENABLED||ac.isUndefined(window.RYlogger)||!window.RYlogger||!window.RYlogger.push);if(bc.LOGGER_ENABLED&&(r||!ac.isUndefined(window.console)&&window.console&&window.console.log)){var n=function(e){r?window.RYlogger.push({text:e,level:t,domain:document.location?document.location.hostname:null,browser:ac.env.getBrowser(),device:ac.env.getDevice(),os:ac.env.getOs(),mobile:ac.env.isMobile()}):window.console.log(e)};r||!t||"error"!=t&&"fatal"!=t||(n=function(e){window.console.error?window.console.error(e):window.console.log(e)}),!r&&t&&"warn"==t&&(n=function(e){window.console.warn?window.console.warn(e):window.console.log(e)}),e&&(n("["+t.toUpperCase()+"] "+e.toString()),bc.ALERT_ENABLED&&(!ac.isUndefined(window.console)&&window.console&&window.console.log&&window.console.log("["+t.toUpperCase()+"] "+e.toString()),!ac.isUndefined(alert)&&alert&&alert("["+t.toUpperCase()+"] "+e.toString())))}}catch(e){}},ec=function(e,t,r){var n=e||null;t&&(n+="\n[Exception] "+(t.name&&(t.message||t.description)?(t.name?"["+t.name+"] ":"")+(t.message?t.message:"")+(!t.message&&t.description?t.description:""):t.toString())),dc(n,r)},fc={setUserId:function(e){if(e){cc=e;try{bc.LOGGER_API_ENABLED&&!ac.isUndefined(window.trackJs)&&window.trackJs&&window.trackJs.configure&&window.trackJs.configure({userId:cc})}catch(e){}}},trace:function(e){bc.DEBUG_ENABLED&&dc(e,"trace")},debug:function(e){bc.DEBUG_ENABLED&&dc(e,"debug")},info:function(e){dc(e,"info")},warn:function(e){dc(e,"warn")},error:function(e,t){ec(e,t,"error")},fatal:function(e,t){ec(e,t,"fatal")}},fc),_listener=(Cc=_,Ec=function(e,t,r){return function(n){n=n||(window?window.event:null);var i=!0;try{n&&(i=!r||!Cc.isFunction(r)||r(n))}catch(e){_logger.error("Failed to exec old handler.",e),i=!0}var o=t.call(e,n);return!(!Cc.isUndefined(i)&&!1===i||!Cc.isUndefined(o)&&!1===o)}},Fc=function(e,t,r){return!!(e&&t&&r&&e.addEventListener)&&(e.addEventListener(t,function(t){return r(e,t)},!1),!0)},Gc=function(e,t,r){return!!(e&&t&&r&&e.attachEvent)&&(e.attachEvent("on"+t,Ec(e,r)),!0)},Ic=function(e,t,r){return!!(e&&t&&r&&(Fc(e,t,r)||Gc(e,t,r)||function(e,t,r){if(r){var n="on"+t;return e[n]=Ec(e,r,e[n]),!0}}(e,t,r)))},Jc={onLoadedDone:!1,onScrolledDone:!1,onEvent:function(e,t,r){return Ic(e,t,r)},onScrolled:function(e){var t=function(){Jc.onScrolledDone||(Jc.onScrolledDone=!0,e())};Ic(window,"scroll",t),Ic(window,"touchmove",t)},onLoaded:function(e){var t=document,r=function(){Jc.onLoadedDone=!0,e()};if(t)if(t.addEventListener)t.readyState&&"complete"==t.readyState?r():Fc("DOMContentLoaded",r,!1);else if(t.attachEvent){Gc(t,"readystatechange",function(){t.readyState&&"complete"==t.readyState&&r()});try{if(window&&!Cc.isUndefined(window.frameElement)&&window.frameElement&&!Cc.isUndefined(t.documentElement)&&t.documentElement&&t.documentElement.doScroll){!function e(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(e,10)}r()}()}}catch(e){}}return Ic(window,"load",r),!0}},Jc),_selector=(od=_,qd=function(e,t){var r=null;return e&&(t&&od.isString(e)||(od.isDomElement(e)?r=[e]:t&&od.isObject(e)&&e.length&&(r=rd(e,!0)))),r&&r.length>0?r:null},rd=function(e,t){var r=null;if(e)if(r=[],od.isArray(e)||t)for(var n=0;n<e.length;n++){var i;(i=qd(e[n],!t))&&(r=r.concat(i))}else(i=qd(e,!0))&&(r=r.concat(i));return r&&r.length>0?r:null},sd={getDomElements:function(e){try{return rd(e)}catch(e){return _logger.error("Failed to get dom elements.",e),null}}},sd),Locker=function(){this._queue=[],this._locked=!1};Locker.prototype._exec=function(e){var t=this,r=this._queue.length>0?this._queue.shift():null;r?r(function(){t._exec(e)}):e()},Locker.prototype.lock=function(e){var t=this;t._queue.push(e),t._locked||(t._locked=!0,t._exec(function(){t._locked=!1}))};var _cookie=(Id=_,Jd=_settings,Kd=["ac.uk","co.uk","org.uk","me.uk","ltd.uk","plc.uk","net.uk","sch.uk","gov.uk","mod.uk","mil.uk","nhs.uk","police.uk","ac.nz","co.nz","geek.nz","gen.nz","kiwi.nz","maori.nz","net.nz","org.nz","school.nz","cri.nz","govt.nz","health.nz","iwi.nz","mil.nz","parliament.nz"],Ld=function(e,t,r){var n=new Date;n.setTime(r);var i=n.toGMTString(),o=t?encodeURIComponent(t):"",a="";if(Jd.COOKIE_SUBDOMAIN_ENABLED){var c=document&&document.location&&document.location.hostname?document.location.hostname:null,s=c?c.split("."):null,l=s&&s.length>0?s[s.length-1]:null;if((l=l&&s.length>1?s[s.length-2]+"."+l:l)&&s.length>2)for(var u=0;u<Kd.length;u++)if(0==l.toLowerCase().indexOf(Kd[u])){l=s[s.length-3]+"."+l;break}var _=l||null;a=_?"; domain=."+_:""}return!!document&&(document.cookie=e+"="+o+"; expires="+i+"; path=/"+a,!0)},Pd={write:function(e,t,r){return Ld(e,t,r)}},Pd.read=function(e){return function(e){var t=e+"=",r=document&&document.cookie?document.cookie.split(";"):null;if(r)for(var n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t)){var o=i.substring(t.length,i.length);return o?decodeURIComponent(o):null}}return null}(e)},Pd.remove=function(e){return Ld(e,"",Id.getTime()+-864e5)},Pd.support=!navigator||!1!==navigator.cookieEnabled,Pd),LocalStorage=function(e,t,r){this._cu="ry_"+e+"_"+t,this._cud=_.getTime()+24*_settings.USER_DAYS_DURATION*60*60*1e3,this._cs="ry_"+e+"_so_"+t,this._csd=_.getTime()+60*_settings.SESSION_MINUTES_DURATION*1e3,r(_cookie.support)};LocalStorage.prototype.clearUser=function(e){_cookie.remove(this._cu),e(!0)},LocalStorage.prototype.getUser=function(e){e(_cookie.read(this._cu))},LocalStorage.prototype.setUser=function(e,t){var r=e?_.ryEncoder.decode(e):null;r=r&&r.exp?r.exp:this._cud,_cookie.write(this._cu,e,r),t(!0)},LocalStorage.prototype.clearSession=function(e){_cookie.remove(this._cs),e(!0)},LocalStorage.prototype.getSession=function(e){e(_cookie.read(this._cs))},LocalStorage.prototype.setSession=function(e,t){_cookie.write(this._cs,e,this._csd),t(!0)};var _xdm=(Be=null,Ce=null,De=!1,Ee=function(e,t){if(De)if(null===Ce)var r=setTimeout(function(){r&&clearTimeout(r),Ee(e,t)},200);else t(Ce);else{De=!0;try{var n=(new Date).getTime(),i=e+"?ch="+n;(Be=RYxdm&&RYxdm.noConflict?RYxdm.noConflict("ryXDM"+n.toString()):null)&&Be.Rpc({remote:i,onReady:function(e){e&&null===Ce&&t(Ce=!0)}},{serializer:_.json,local:{},remote:{remove:{},write:{},read:{}}})}catch(e){t(Ce=!1)}var o=setTimeout(function(){null===Ce&&t(Ce=!1),o&&clearTimeout(o)},_settings.XDM_TIMEOUT)}},Fe={init:function(e,t){Ee(e,function(e){t(e)})},write:function(e,t,r,n,i){Ee(e,function(e){e?Be.write(t,r,n,function(e){i(!0)},function(e){i(!1)}):i(!1)})},read:function(e,t,r){Ee(e,function(e){e?Be.read(t,function(e){r(e||null)},function(e){r(null)}):r(null)})},remove:function(e,t,r){Ee(e,function(e){e?Be.remove(t,function(e){r(!0)},function(e){r(!1)}):r(!1)})}},Fe),XdmStorage=function(e,t,r,n){this._uk="ry_"+e+"_"+t,this._ud=24*_settings.USER_DAYS_DURATION*60*60*1e3,this._sk="ry_"+e+"_so_"+t,this._sd=60*_settings.SESSION_MINUTES_DURATION*1e3,this._url=r,_xdm.init(this._url,function(e){n(e)})};XdmStorage.prototype.clearUser=function(e){_xdm.remove(this._url,this._uk,e)},XdmStorage.prototype.getUser=function(e){_xdm.read(this._url,this._uk,e)},XdmStorage.prototype.setUser=function(e,t){_xdm.write(this._url,this._uk,e,this._ud,t)},XdmStorage.prototype.clearSession=function(e){_xdm.remove(this._url,this._sk,e)},XdmStorage.prototype.getSession=function(e){_xdm.read(this._url,this._sk,e)},XdmStorage.prototype.setSession=function(e,t){_xdm.write(this._url,this._sk,e,this._sd,t)};var Storage=function(e,t,r,n,i){this._inst="xdm"==e?new XdmStorage(t,r,n,i):new LocalStorage(t,r,i)};Storage.prototype.clearUser=function(e){try{return this._inst.clearUser(e)}catch(t){e(!1)}},Storage.prototype.getUser=function(e){try{return this._inst.getUser(e)}catch(t){e(null)}},Storage.prototype.setUser=function(e,t){try{return this._inst.setUser(e,t)}catch(e){t(!1)}},Storage.prototype.clearSession=function(e){try{return this._inst.clearSession(e)}catch(t){e(!1)}},Storage.prototype.getSession=function(e){try{return this._inst.getSession(e)}catch(t){e(null)}},Storage.prototype.setSession=function(e,t){try{return this._inst.setSession(e,t)}catch(e){t(!1)}};var PartnerSynchronizer=function(e,t,r){this._apiKey=e,this._url=r,this._q=!1===t?[]:null,this._k={img:1,js:2}};PartnerSynchronizer.prototype._createParam=function(e){var t=null;try{return e&&e.id&&this._apiKey&&(t=this._apiKey.toString().toLowerCase()+"|"+e.id.toString()+"|"+(e.cid?e.cid.toString():"")),_.base64.encode(t)}catch(e){return _logger.error("Failed to crypt sync data info="+(t||"")+".",e),null}},PartnerSynchronizer.prototype._queuePush=function(e,t){this._q&&e&&t&&this._q.push({type:e,url:t})},PartnerSynchronizer.prototype._queueClear=function(){if(this._q)for(var e=0;e<this._q.length;e++){var t=this._q[e];t&&this._syncWithTypeUrl(t.type,t.url)}this._q=null},PartnerSynchronizer.prototype._syncExec=function(e,t){null==this._q?this._syncWithTypeUrl(e,t):this._queuePush(e,t)},PartnerSynchronizer.prototype._syncWithTypeUrl=function(e,t){e&&t&&(e==this._k.img?this._syncWithImgEl(t):e==this._k.js&&this._syncWithJsEl(t))},PartnerSynchronizer.prototype._syncWithImgEl=function(e){try{if(e){var t=document.createElement("img");t.src=e,t.width=0,t.height=0,t.border="0",t.style.display="none",document.body.appendChild(t)}}catch(t){_logger.error("Failed to sync user data url="+(e||"")+".",t)}},PartnerSynchronizer.prototype._syncWithJsEl=function(e){try{if(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}}catch(t){_logger.error("Failed to sync user data url="+(e||"")+".",t)}},PartnerSynchronizer.prototype.syncWithImg=function(e){try{var t=e?this._createParam(e):null;if(t&&this._url){var r=this._url+"/"+encodeURIComponent(t);this._syncExec(this._k.img,r)}}catch(t){_logger.error("Failed to sync user data info="+(e||"")+".",t)}},PartnerSynchronizer.prototype.syncWithJs=function(e,t){try{var r=e?this._createParam(e):null;if(r&&this._url){var n=this._url+"/"+encodeURIComponent(r)+t;n&&this._syncExec(this._k.js,n)}}catch(t){_logger.error("Failed to sync user data info="+(e||"")+".",t)}},PartnerSynchronizer.prototype.enable=function(){try{this._queueClear()}catch(e){_logger.error("Failed to enable profile data.",e)}};var PartnerUserSynchronizer=function(e,t,r,n,i,o){this._apiKey=e,this._userSynchronizer=r&&_settings.SYNC_USER_ENABLED?new PartnerSynchronizer(e,t,n):null,this._tcSynchronizer=i&&_settings.SYNC_USER_TC_ENABLED?new PartnerSynchronizer(e,t,o):null};PartnerUserSynchronizer.prototype.sync=function(e,t){try{if(e&&this._userSynchronizer){var r="";t&&(r+="?u="+encodeURIComponent(t.url?t.url:""),r+="&r="+encodeURIComponent(t.referrer?t.referrer:""),r+="&ts="+encodeURIComponent((new Date).getTime().toString())),this._userSynchronizer.syncWithJs(e,r)}e&&this._tcSynchronizer&&this._tcSynchronizer.syncWithImg(e)}catch(e){_logger.error("Failed to sync partner user.",e)}},PartnerUserSynchronizer.prototype.enable=function(){this._userSynchronizer&&this._userSynchronizer.enable(),this._tcSynchronizer&&this._tcSynchronizer.enable()};var PartnerSessionSynchronizer=function(e,t,r,n){this._apiKey=e,this._sessionSynchronizer=r&&_settings.SYNC_SESSION_ENABLED?new PartnerSynchronizer(e,t,n):null};PartnerSessionSynchronizer.prototype.sync=function(e,t,r,n){try{if(e&&this._sessionSynchronizer){var i="?ct="+(t?"1":"0");i+="&rt="+(r?"1":"0"),n&&(i+="&u="+encodeURIComponent(n.url?n.url:""),i+="&r="+encodeURIComponent(n.referrer?n.referrer:""),i+="&ts="+encodeURIComponent((new Date).getTime().toString())),this._sessionSynchronizer.syncWithJs(e,i)}}catch(e){_logger.error("Failed to sync partner user session.",e)}},PartnerSessionSynchronizer.prototype.enable=function(){this._sessionSynchronizer&&this._sessionSynchronizer.enable()};var ProfileSynchronizer=function(e){this._q=!1===e?[]:null};ProfileSynchronizer.prototype._queuePush=function(e){this._q&&e&&this._q.push({action:e})},ProfileSynchronizer.prototype._queueClear=function(){if(this._q)for(var e=0;e<this._q.length;e++){var t=this._q[e];t&&t.action&&t.action()}this._q=null},ProfileSynchronizer.prototype.sync=function(e){try{e&&(null==this._q?e():this._queuePush(e))}catch(e){_logger.error("Failed to sync profile data.",e)}},ProfileSynchronizer.prototype.enable=function(){try{this._queueClear()}catch(e){_logger.error("Failed to enable profile data.",e)}};var Event=function(e,t,r,n,i,o,a,c,s,l,u,_,d){if(this.c=e,this.t=t||(new Date).getTime(),a&&(this.mu={uid:a},c&&(this.mu.c_uid=c),s&&(this.mu.puid=s),l&&(this.mu.cu=l),u&&(u.firstname&&(this.mu.fn=u.firstname),u.lastname&&(this.mu.ln=u.lastname),u.gender&&(this.mu.g=u.gender),u.email&&(this.mu.e=u.email),u.created&&(this.mu.rd=u.created),u.birthdate&&(this.mu.b=u.birthdate))),r&&(this.data={n:r},n&&(this.data.v=n),i&&(this.data.tx=i),o&&(this.data.opts=o),_)){var f={};for(var g in _){var h=g?_[g]:null;h&&h.id&&(f[g]={i:h.id},h.email&&(f[g].e=h.email),h.firstname&&(f[g].f=h.firstname),h.lastname&&(f[g].l=h.lastname),h.gender&&(f[g].g=h.gender),h.created&&(f[g].c=h.created),h.birthdate&&(f[g].b=h.birthdate),h.meta&&(f[g].m=h.meta))}this.data.pr=f}if(d){var p={};d.url&&(p.u=d.url.length>_settings.URL_MAX_SIZE?d.url.substr(0,_settings.URL_MAX_SIZE):d.url),d.domain&&(p.d=d.domain),d.referrer&&(p.r=d.referrer.length>_settings.URL_MAX_SIZE?d.referrer.substr(0,_settings.URL_MAX_SIZE):d.referrer),d.se&&d.se.engine&&(p.se=d.se.engine),d.se&&d.se.query&&(p.sq=d.se.query),d.env&&d.env.browser&&(p.eb=d.env.browser),d.env&&d.env.device&&(p.ed=d.env.device),d.env&&d.env.os&&(p.eo=d.env.os),d.env&&(p.em=d.env.mobile),d.camp&&d.camp.utm_source&&(p.cs=d.camp.utm_source),d.camp&&d.camp.utm_medium&&(p.cm=d.camp.utm_medium),d.camp&&d.camp.utm_campaign&&(p.cc=d.camp.utm_campaign),d.camp&&d.camp.utm_content&&(p.co=d.camp.utm_content),d.camp&&d.camp.utm_term&&(p.ct=d.camp.utm_term),d.camp&&d.camp.xtor&&(p.cx=d.camp.xtor),p.son=!(!d.session||!d.session.origin),p.ro=d.session&&d.session.ref?d.session.ref.length>_settings.URL_MAX_SIZE?d.session.ref.substr(0,_settings.URL_MAX_SIZE):d.session.ref:null,this.mc={p:p}}},User=function(e,t,r){this.id=e||"ry_"+_.getUIID(),this.cid=t||null,this.exp=r&&_.isNumber(r)?r:_.getTime()+24*_settings.USER_DAYS_DURATION*60*60*1e3};User.prototype.toObject=function(){return{id:this.id,cid:this.cid,exp:this.exp}};var Session=function(e,t,r,n,i){this.id=e||null,this.cid=t||null,this.origin=!!r,this.ref=n||null,this.cont=i||null};Session.prototype.toObject=function(){return{id:this.id,cid:this.cid,origin:this.origin,ref:this.ref,cont:this.cont}};var Api=function(e,t,r,n){this._apiKey=e,this._http=t,this._urlPost=r,this._urlGet=n,this._first=!0};Api.prototype._get=function(e,t){try{if(e&&document&&!RY._ot){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.defer=!0,r.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)}}catch(r){_logger.error("Failed to exec request with url="+(e||"")+".",r),t()}},Api.prototype._post=function(e,t,r){try{if(e&&!RY._ot){var n=null,i=null;if(!_.isUndefined(window.XMLHttpRequest)&&window.XMLHttpRequest&&(n=new window.XMLHttpRequest)&&"withCredentials"in n?(i="XMLHttpRequest",n.open("POST",e,!0),n.withCredentials=!0,n.setRequestHeader("Content-Type","text/plain")):!_.isUndefined(window.XDomainRequest)&&window.XDomainRequest&&(i="XDomainRequest",(n=new window.XDomainRequest).open("POST",e)),i&&n){n.onreadystatechange=function(){try{4===this.readyState&&200!==this.status&&r(!0,{code:this.status,method:"POST",type:i,response:this.response,timeout:this.timeout})}catch(n){_logger.error("Failed to parse request response with data="+(t||"")+", url="+(e||"")+".",n),r(!0)}};try{n.send(t)}catch(n){_logger.error("Failed to send request with data="+(t||"")+", url="+(e||"")+".",n),r(!0)}}else _logger.debug("Failed to POST cross domain, so we'll try to do a GET with data="+(t||"")+", url="+(e||"")+"."),r(!1)}}catch(n){_logger.error("Failed to exec request with data="+(t||"")+", url="+(e||"")+".",n),r(!0)}},Api.prototype._send_data=function(e,t){var r=this,n="cb="+(new Date).getTime(),i=r._urlPost?r._http+r._urlPost+(r._urlGet.indexOf("?")<0?"?":"&")+n:null,o=r._urlGet?r._http+r._urlGet+(r._urlGet.indexOf("?")<0?"?":"&")+n+"&data="+encodeURIComponent(e):null,a=function(){r._get(o,function(){_logger.error("Failed to track data="+(e||"")+".")})},c=function(){var t=_.env.getBrowser();t&&"OperaMini"==t?a():r._post(i,e,function(t,r){_logger.debug("Try get request after post failed to send data, statuscode="+(r&&!_.isUndefined(r.code)&&null!=r.code?r.code:"")+", method="+(r&&r.method?r.method.toLowerCase():"")+", response="+(r&&r.response?r.response:"")+", timeout="+(r&&!_.isUndefined(r.timeout)&&null!=r.timeout?r.timeout:"")+", request="+(r&&r.type?r.type.toLowerCase():"")+", data="+(e||"")+"."),a()})};if(r._first)var s=setTimeout(function(){clearTimeout(s),r._first=!1,c()},_settings.OPTOUT_TIMEOUT);else c()},Api.prototype._send=function(e){if(-1==_settings.HTTP_PROTOCOL.indexOf("https")||_settings.HTTPS_ENABLED){if(!e||!_.isObject(e))throw"Unable to serialize data to send";var t=!!(e&&e.mc&&e.mc.p&&e.mc.p.em),r=_.ryEncoder.encode(e);if(!r)throw"Unable to serialize data to send";this._send_data(r,t)}},Api.prototype.track=function(e){e&&e.mu&&this._send(e)};var _trackerStatus={disabled:0,pending:1,enabled:2},Tracker=function(e,t,r,n,i,o,a,c,s,l,u,d,f,g,h,p,y,m,S){var v=this;v._apiKey=e,v._ampCookieKey="ry_amp_"+e,v.ovrdDomain=c,v.ovrdUrl=s,v.ovrdReferrer=l,v.ovrdOrganic=u,v._status=r!=_trackerStatus.disabled?_trackerStatus.pending:_trackerStatus.disabled,v._ready=!1,v._name=t,v._pendingOrder=[],v._pendingActions={identify:[],track:[],trackLink:[],trackForm:[],transaction:[],page:[],profile:[],sync:[]};var k=_settings.HTTP_PROTOCOL,w=o&&_settings.URI_ZONES[o.toString().toUpperCase()]?_settings.URI_ZONES[o.toString().toUpperCase()]:_settings.URI_ZONES.EU,b=i||(_.env.isMobile()?w.API_MOBILE:w.API)+"/event/track",E=k+w.SYNC_USER+"/sync/tc",A=k+w.SYNC_USER+"/sync/us",O=k+w.SYNC_SESSION+"/sync/se";e&&"ry-srewok"==e.toLowerCase()&&_settings.URI_STREAMROOT&&(b=_settings.URI_STREAMROOT+"/event/track"),v._api=new Api(e,k,b,b),v._storage=n,v._storageLocker=new Locker;var U=m&&S&&(_.isString(S)||_.isNumber(S))?S.toString().replace(/^\s+|\s+$/g,""):null;if(U=U&&"-1"!=U.toString()&&"0"!=U.toString()&&"null"!=U.toString().toLowerCase()?U:null,v._userPartnerEuId=U,v._syncOnStart=!(h||!g),v._syncOnScroll=!(h||g),v._partnerSyncUser=new PartnerUserSynchronizer(e,v._syncOnStart,p,A,y,E),v._partnerSyncSession=new PartnerSessionSynchronizer(e,v._syncOnStart,!0,O),v._profileSync=new ProfileSynchronizer(v._syncOnStart),v._status!=_trackerStatus.disabled){try{v._info={};var T=_.url.getInfo(v.ovrdUrl);T&&(v._info.url=T);var C=_.domain.getInfo(v.ovrdDomain);C&&(v._info.domain=C);var I=_.referrer.getInfo(v._apiKey,v.ovrdReferrer,a);I&&(v._info.referrer=I);var N=_.searchEngine.getInfo(T,I);N&&(v._info.se=N);var x=_.env.getInfo();x&&(v._info.env=x);var L=_.campaign.getInfo(T);L&&(v._info.camp=L)}catch(e){v._info={}}var R=function(){try{_logger.setUserId(v._user?v._user.id:null)}catch(e){_logger.error("Failed to configure logger user id.",e)}v._info.session=null,v._refresh(!0,function(){try{f&&f(v._user?v._user.id:null)}catch(e){_logger.error("Failed to execute init callback.",e)}v._ready=!0,r==_trackerStatus.enabled&&(v.enable(),v.enableEvents())})};v._storageLocker.lock(function(e){try{v._storage.getUser(function(t){var r=t?_.ryEncoder.decode(t):null,n=null;!r||!r.id||r&&r.exp&&_.isNumber(r.exp)&&r.exp<_.getTime()?(n=d||_cookie.read(v._ampCookieKey),v._user=n?new User(n):new User):(n=d||r.id,v._user=new User(n,r.cid?r.cid:null,r.exp?r.exp:null),(v._syncOnStart||v._syncOnScroll)&&v._sync(!0));var i=_.ryEncoder.encode(v._user.toObject());v._storage.setUser(i,function(t){e()}),v._partnerSyncUser.sync(v._user,{url:v._info.url?v._info.url:null,referrer:v._info.referrer?v._info.referrer:null}),R()})}catch(t){v._user=null,R(),e()}})}};Tracker.prototype.disable=function(e){var t=this;t._status!=_trackerStatus.disabled&&(e&&t._storageLocker.lock(function(e){t._storage.clearUser(function(){t._storage.clearSession(function(){e()})})}),t._status=_trackerStatus.disabled)},Tracker.prototype.enable=function(){var e=this;if(e._status==_trackerStatus.pending)if(e._ready)e._shiftCalls(),e._status=_trackerStatus.enabled,e._shiftCalls();else var t=setTimeout(function(){t&&clearTimeout(t),e.enable()},200)},Tracker.prototype.enableEvents=function(){var e=this;if(e._status==_trackerStatus.enabled)e._shiftEvents();else if(e._status==_trackerStatus.pending||_listener&&!_listener.onLoadedDone)var t=setTimeout(function(){t&&clearTimeout(t),e.enableEvents()},200)},Tracker.prototype.getUserId=function(){try{return this._user?this._user.id:null}catch(e){_logger.error("Failed to get user id.",e)}},Tracker.prototype.identify=function(e,t){try{this._status==_trackerStatus.pending?this._queueAction("identify",arguments):this._status==_trackerStatus.enabled&&this._identify(e,t)}catch(t){_logger.error("Failed to identify user="+(e?e.toString():"")+".",t)}},Tracker.prototype._identify=function(e,t){try{var r=e&&(_.isString(e)||_.isNumber(e))?e.toString().replace(/^\s+|\s+$/g,""):null;if(r=r&&"-1"!=r.toString()&&"0"!=r.toString()&&"null"!=r.toString().toLowerCase()?r:null){var n=!_.isUndefined(t)&&null!=t&&_.isObject(t)?t:{};n.id=r,this._trackProfile({advertiser:n})}}catch(t){_logger.error("Failed to update user on identify, user="+(e?e.toString():"")+".",t)}},Tracker.prototype.page=function(e,t,r){try{this._status==_trackerStatus.pending?this._queueAction("page",arguments):this._status==_trackerStatus.enabled&&this._page(e,t,r)}catch(t){_logger.error("Failed to track page="+(e?e.toString():"")+".",t)}},Tracker.prototype._page=function(e,t,r){try{var n=!1;if(e&&_.isString(e))n=!0;else{var i=_.url.getInfo(this.ovrdUrl);e=i?i>_settings.URL_MAX_SIZE?i.substr(0,_settings.URL_MAX_SIZE):i:null}var o={page:e};t&&_.isString(t)&&(o.category=t),r&&_.isObject(r)&&(o.info=r),this._track("ry_page",o),n&&_settings.PAGE_HACK&&this._track("ry_page_"+e)}catch(t){_logger.error("Failed to exec track page="+(e?e.toString():"")+".",t)}},Tracker.prototype.profile=function(e){try{this._status==_trackerStatus.pending?this._queueAction("profile",arguments):this._status==_trackerStatus.enabled&&this._profile(e)}catch(e){_logger.error("Failed to profile user.",e)}},Tracker.prototype._profile=function(e){try{var t=this;t._refresh(!0,function(){t._trackProfile(e)})}catch(e){_logger.error("Failed to update user profile.",e)}},Tracker.prototype.queue=function(e,t){try{if(!e||!_.isObject(e))return;this._queueActions(e,t)}catch(e){_logger.error("Failed to queue actions.",e)}},Tracker.prototype._queueActions=function(e,t){if(e&&_.isObject(e)){for(var r in e)if(r&&"typeOf"!=r){var n=e[r];this._pendingActions[r]&&_.isArray(this._pendingActions[r])?this._pendingActions[r]=this._pendingActions[r].concat(n&&_.isArray(n)?n:[]):_logger.warn("Unable to queue actions '"+r+"', no queue available.")}t&&_.isArray(t)&&(this._pendingOrder=this._pendingOrder.concat(t))}},Tracker.prototype._queueAction=function(e,t){if(e&&"typeOf"!=e)if(this._pendingActions[e]&&_.isArray(this._pendingActions[e])){var r=[];if(t&&t.length>0)for(var n=0;n<t.length;n++)r.push(t[n]);this._pendingActions[e].push(r),this._pendingOrder.push(e)}else _logger.warn("Unable to queue action '"+e+"', no queue available.")},Tracker.prototype.refreshContext=function(e){var t=this;try{e&&e.csid&&t._info&&t._info.session&&!t._info.session.cont&&t._refreshSessionContext(e,function(){t._refreshContextEnv()})}catch(e){_logger.error("Failed to refresh context.",e)}},Tracker.prototype._refreshContextEnv=function(){try{var e=this._info&&this._info.session&&this._info.session.cont?this._info.session.cont:null,t={};t.spotId=e&&e.csid?e.csid.toString():null,t.campaignId=e&&e.caid?e.caid.toString():null,t.channelId=e&&e.chid?e.chid.toString():null,t.channelName=e&&e.chn?e.chn.toString():null,t.creaId=e&&e.crid?e.crid.toString():null,window&&(window.RYcontext=t)}catch(e){_logger.error("Failed to refresh context env.",e)}},Tracker.prototype._refresh=function(e,t){var r=this;try{r._refreshSession(function(n){if(n&&e&&r._trackEvent("ry_session"),r._refreshContextEnv(),n){var i=!!(e&&r._info.session&&r._info.session.origin),o=!r._info.session.cont;(o||i)&&r._partnerSyncSession.sync(r._user,o,i,{url:r._info.url?r._info.url:null,referrer:r._info.referrer?r._info.referrer:null}),r._profileSync.sync(function(){r._trackProfileGA()})}t()})}catch(e){_logger.error("Failed to refresh user info.",e)}},Tracker.prototype._refreshSession=function(e){var t=this;t._storageLocker.lock(function(r){var n=function(n){try{var i=null,o=!1,a=n?_.ryEncoder.decode(n):null;if(t._user&&(!a||!a.id||t._user.id&&t._user.id!=a.id||t._user.cid&&(!a.cid||t._user.cid!=a.cid)||!t._user.cid&&a.cid)){if(a&&a.id)i=new Session(t._user.id,t._user.cid,a.origin,a.ref,a.cont);else{var c=!(t._info&&(t._info.referrer&&(!t._info.se||!t._info.se.engine)||t._info.camp));if(!c&&t._info&&t._info.url){var s=_.url.getParamValue(t._info.url,"gclid"),l=_.url.getParamValue(t._info.url,"adurl");c=!(!s&&!l)}_.isUndefined(t.ovrdOrganic)||null==t.ovrdOrganic||(c=!!t.ovrdOrganic),i=new Session(t._user.id,t._user.cid,c,this._info?this._info.referrer:null,null)}o=!0,n=_.ryEncoder.encode(i.toObject())}else o=!1,i=a?new Session(a.id,a.cid,a.origin,a.ref,a.cont):null;n?t._storage.setSession(n,function(e){r()}):r()}catch(e){_logger.error("Failed to refresh session info, sessionCrypted="+(n||"")+".",e),o=!1,i=null,r()}t._info&&(t._info.session=i),e(o)};try{t._storage.getSession(function(e){n(e)})}catch(e){n(null)}})},Tracker.prototype._refreshSessionContext=function(e,t){var r=this;e&&e.csid&&r._info&&r._info.session&&!r._info.session.cont&&r._storageLocker.lock(function(n){var i=function(i){try{var o=i?_.ryEncoder.decode(i):null,a=o?new Session(o.id,o.cid,o.origin,o.ref,{csid:e.csid?e.csid:null,caid:e.caid?e.caid:null,chid:e.chid?e.chid:null,crid:e.crid?e.crid:null,chn:e.chn?e.chn:null}):null,c=a?_.ryEncoder.encode(a.toObject()):null;c?r._storage.setSession(c,function(e){r._info&&(r._info.session=a),n(),t()}):(n(),t())}catch(e){_logger.error("Failed to refresh session context, sessionCrypted="+(i||"")+".",e),n(),t()}};try{r._storage.getSession(function(e){i(e)})}catch(e){i(null)}})},Tracker.prototype._shiftCalls=function(){var e=this;if(e._pendingOrder&&_.isArray(e._pendingOrder)&&e._pendingOrder.length>0){for(var t=[];e._pendingOrder.length>0;){var r=e._pendingOrder.shift();if(r&&_.isString(r))switch(r){case"identify":e._shiftAction("identify",e._identify);break;case"profile":e._shiftAction("profile",e._profile);break;case"page":e._shiftAction("page",e._page);break;case"track":e._shiftAction("track",e._track);break;case"transaction":e._shiftAction("transaction",e._transaction);break;case"sync":e._shiftAction("sync",e._sync);break;case"trackLink":case"trackForm":t.push(r)}}e._pendingOrder=t}this._shiftActions("identify",this._identify),this._shiftActions("profile",this._profile),this._shiftActions("page",this._page),this._shiftActions("track",this._track),this._shiftActions("transaction",this._transaction),this._shiftActions("sync",this._sync)},Tracker.prototype._shiftEvents=function(){var e=this;if(e._pendingOrder&&_.isArray(e._pendingOrder)&&e._pendingOrder.length>0){for(var t=[];e._pendingOrder.length>0;){var r=e._pendingOrder.shift();if(r&&_.isString(r))switch(r){case"identify":case"profile":case"page":case"track":case"transaction":case"sync":t.push(r);break;case"trackLink":e._shiftAction("trackLink",e._trackLink);break;case"trackForm":e._shiftAction("trackForm",e._trackForm)}}e._pendingOrder=t}this._shiftActions("trackLink",this._trackLink),this._shiftActions("trackForm",this._trackForm)},Tracker.prototype._shiftActions=function(e,t){if(this._pendingActions&&e&&this._pendingActions[e]&&_.isArray(this._pendingActions[e]))for(;!_.isArrayNullOrEmpty(this._pendingActions[e]);)this._shiftAction(e,t)},Tracker.prototype._shiftAction=function(e,t){if(e&&t&&this._pendingActions[e]&&_.isArray(this._pendingActions[e])&&this._pendingActions[e].length>0){var r=this._pendingActions[e].shift();t.apply(this,r)}},Tracker.prototype.sync=function(){try{this._status==_trackerStatus.pending?this._queueAction("sync",arguments):this._status==_trackerStatus.enabled&&this._sync()}catch(e){_logger.error("Failed to sync.",e)}},Tracker.prototype._sync=function(e){try{this._partnerSyncUser&&this._partnerSyncUser.enable(),this._partnerSyncSession&&this._partnerSyncSession.enable(),this._profileSync&&this._profileSync.enable(),e||this._trackProfileGA()}catch(e){_logger.error("Failed to start synchronizers.",e)}},Tracker.prototype.syncScroll=function(){try{this._syncOnScroll&&this._sync(!0)}catch(e){_logger.error("Failed to enable synchronizers on scroll.",e)}},Tracker.prototype.track=function(e,t){try{this._status==_trackerStatus.pending?this._queueAction("track",arguments):this._status==_trackerStatus.enabled&&this._track(e,t)}catch(t){_logger.error("Failed to track event="+(e?e.toString():"")+".",t)}},Tracker.prototype.trackSync=function(e,t){try{this._trackEvent(e,t)}catch(t){_logger.error("Failed to track sync event="+(e?e.toString():"")+".",t)}},Tracker.prototype._track=function(e,t){var r=this;try{r._refresh(!0,function(){r._trackEvent(e,t)})}catch(t){_logger.error("Failed to exec track event="+(e?e.toString():"")+".",t)}},Tracker.prototype._trackEvent=function(e,t){try{if(e)if(_.isString(e)){var r=_.isUndefined(t)||null==t||_.isObject(t)?t:{value:t},n=null,i=null,o=null;if(r)for(var a in r)if(a){var c=r[a];switch(a.toString().toLowerCase()){case"transaction":if(!_.isUndefined(c)&&null!=c&&(_.isObject(c)||_.isNumber(c)||_.isString(c)))if(i={},_.isObject(c)){var s=c.amount;_.isUndefined(s)||null==s||!_.isNumber(s)&&!_.isString(s)||(i.am=s);var l=c.orderId;_.isUndefined(l)||null==l||!_.isNumber(l)&&!_.isString(l)||(i.oid=l)}else i.am=c;break;case"user":if(!_.isUndefined(c)&&null!=c&&_.isObject(c)){var u=c.id;_.isUndefined(u)||null==u||!_.isNumber(u)&&!_.isString(u)||(u=(u=u&&(_.isString(u)||_.isNumber(u))?u.toString().replace(/^\s+|\s+$/g,""):null)&&"-1"!=u.toString()&&"0"!=u.toString()&&"null"!=u.toString().toLowerCase()?u:null)&&(o=u)}n||(n={}),n[a]=c;break;default:n||(n={}),n[a]=c}}var d=new Event(this._apiKey,(new Date).getTime(),e,n,i,null,this._user?this._user.id:null,o||(this._user?this._user.cid:null),this._userPartnerEuId?this._userPartnerEuId:null,null,null,null,this._info);this._api.track(d)}else _logger.warn("Unable to track, event is not a string.");else _logger.warn("Unable to track, event is not valid.")}catch(t){_logger.error("Failed to track with api event="+(e?e.toString():"")+".",t)}},Tracker.prototype._trackProfile=function(e){try{var t=!_.isUndefined(e)&&null!=e&&_.isObject(e)?e:null,r={},n=!1;if(t)for(var i in t)if(i){var o=t[i.toString().toLowerCase()];if(o&&_.isObject(o)){r[i]={};for(var a in o){var c=a.toString().toLowerCase(),s=o[a];switch(c){case"id":case"firstname":case"lastname":case"gender":case"email":case"created":case"birthdate":"id"==c&&(n=!0),r||(r[i]={}),r[i][c]=s;break;default:r||(r[i]={}),r.meta||(r[i].meta={}),r[i].meta[c]=s}}}}if(n){var l=new Event(this._apiKey,(new Date).getTime(),"ry_profile",null,null,null,this._user?this._user.id:null,this._user?this._user.cid:null,this._userPartnerEuId?this._userPartnerEuId:null,null,null,r,this._info);this._api.track(l)}}catch(e){_logger.error("Failed to track identify with api.",e)}},Tracker.prototype._trackProfileGA=function(){try{var e=this,t=function(t){t&&!e._trackProfileGADone&&(e._trackProfile({ga:{id:t}}),e._trackProfileGADone=!0)},r=setTimeout(function(){r&&clearTimeout(r);try{if(window&&!_.isUndefined(window.ga)&&window.ga){var e=window.ga.getAll&&window.ga.getAll()&&window.ga.getAll().length&&window.ga.getAll()[0]?window.ga.getAll()[0].get("clientId"):null;e?t(e):window.ga(function(e){try{var r=e&&e.get?e.get("clientId"):null;(r=!r&&window.ga.getAll&&window.ga.getAll()&&window.ga.getAll().length&&window.ga.getAll()[0]?window.ga.getAll()[0].get("clientId"):r)&&t(r)}catch(e){_logger.error("Failed to exec ga profile.",e)}})}}catch(e){_logger.error("Failed to exec ga profile.",e)}},200)}catch(e){_logger.error("Failed to exec ga profile.",e)}},Tracker.prototype.trackLink=function(e,t,r){try{this._status==_trackerStatus.pending?this._queueAction("trackLink",arguments):this._status==_trackerStatus.enabled&&this._trackLink(e,t,r)}catch(e){_logger.error("Failed to track link with event="+(t?t.toString():"")+".",e)}},Tracker.prototype._trackLink=function(e,t,r){try{var n=_selector.getDomElements(e);if(n&&_.isArray(n)&&n.length>=1)if(t)if(_.isString(t))for(var i=0;i<n.length;i++)n[i]&&this._trackLinkByElement(n[i],t,r);else _logger.warn("Unable to track link, event provided is not a string.");else _logger.warn("Unable to track link, no event provided.")}catch(e){_logger.error("Failed to exec track link with event="+(t?t.toString():"")+".",e)}},Tracker.prototype._trackLinkByElement=function(e,t,r){try{if(e&&t){var n=this;_listener.onEvent(e,"click",function(e,i){try{n.track(t,r);var o=i&&(i.which&&2===i.which||i.metaKey||i.ctrlKey)||e&&e.target&&"_blank"===e.target,a=e&&e.href?e.href:null;!o&&i&&(i.preventDefault?i.preventDefault():i.returnValue=!1,setTimeout(function(){window&&!_.isUndefined(a)&&null!=a&&(window.location=a)},_settings.EVENT_TRACK_TIMEOUT))}catch(e){_logger.error("Failed to track link after click with event="+(t||"")+".",e)}})}}catch(e){_logger.error("Failed to track link on click with event="+(t||"")+".",e)}},Tracker.prototype.trackForm=function(e,t,r){try{this._status==_trackerStatus.pending?this._queueAction("trackForm",arguments):this._status==_trackerStatus.enabled&&this._trackForm(e,t,r)}catch(e){_logger.error("Failed to track form with event="+(t?t.toString():"")+".",e)}},Tracker.prototype._trackForm=function(e,t,r){try{var n=_selector.getDomElements(e);if(n&&_.isArray(n)&&n.length>=1)if(t)if(_.isString(t))for(var i=0;i<n.length;i++)n[i]&&this._trackFormByElement(n[i],t,r);else _logger.warn("Unable to track form, event provided is not a string.");else _logger.warn("Unable to track form, no event provided.")}catch(e){_logger.error("Failed to exec track form with event="+(t?t.toString():"")+".",e)}},Tracker.prototype._trackFormByElement=function(e,t,r){try{if(e&&t){var n=this;_listener.onEvent(e,"submit",function(e,i){try{n.track(t,r),i&&(i.preventDefault?i.preventDefault():i.returnValue=!1,setTimeout(function(){e&&e.submit&&e.submit()},_settings.EVENT_TRACK_TIMEOUT))}catch(e){_logger.error("Failed to track form after click with event="+(t||"")+".",e)}})}}catch(e){_logger.error("Failed to track form on click with event="+(t||"")+".",e)}},Tracker.prototype.transaction=function(e,t){try{this._status==_trackerStatus.pending?this._queueAction("transaction",arguments):this._status==_trackerStatus.enabled&&this._transaction(e,t)}catch(t){_logger.error("Failed to track transaction="+(e?e.toString():"")+".",t)}},Tracker.prototype._transaction=function(e,t){try{if(_.isUndefined(e)||null==e||!_.isNumber(e)&&!_.isString(e))_logger.warn("Unable to track transaction, no valid amount.");else{var r={};r.transaction=t&&_.isObject(t)?t:{},r.transaction.amount=e,this._track("ry_transaction",r)}}catch(t){_logger.error("Failed to exec track transaction amount="+(e?e.toString():"")+".",t)}};var Binder=function(e){this._ry=e,this._instances=[]};Binder.prototype.createTracker=function(e,t,r,n){var i=function(e,t,r,n){var i=null,o=_.env.isBot||RY._ot||!_cookie.support?_trackerStatus.disabled:r,a=n&&_.isObject(n)?n:null,c=!!(a&&a.xdm&&_settings.XDM_ENABLED),s=!(a&&!1===a.syncAuto),l=!(!a||!0!==a.syncManual),u=["ry-br0v4113","ry-s0n41to2","ry-l4f02rfr","ry-l4f02rch","ry-th3f0rit","ry-t3f0rkbe","ry-t3f0rknl","ry-3ltenees","ry-loc2jui1","ry-fx33aenn","ry-021gos81","ry-h1m0ll4z","ry-b3l4mbra","ry-ty1rdrd3","ry-kj34qqz5","ry-och2w2l9"],d=!(!a||!a.syncUser);if(!d&&e&&u)for(var f=0;f<u.length;f++)if(u[f]&&u[f].toLowerCase()==e.toLowerCase()){d=!0;break}d=!(!d||!_settings.SYNC_USER_ENABLED);var g=!!(a&&a.syncTc&&_settings.SYNC_USER_TC_ENABLED),h=!!(a&&a.syncEu&&_settings.SYNC_USER_EU_ENABLED),p=a&&a.uidEu&&_settings.SYNC_USER_EU_ENABLED?a.uidEu.toString():null,y=a&&a.api&&_.isString(a.api)?a.api:null,m=a&&a.zone&&_.isString(a.zone)?a.zone:null,S=(m&&_settings.URI_ZONES[m.toString().toUpperCase()]?_settings.URI_ZONES[m.toString().toUpperCase()]:_settings.URI_ZONES.EU).XDM,v=_settings.HTTP_PROTOCOL+S+"/txd.html",k=new Storage(c?"xdm":"cookie",e,t,v,function(e){e||(o=_trackerStatus.disabled,i&&i.disable&&i.disable(!1))}),w=!(!a||!a.topReferrer),b=a&&!_.isUndefined(a.domain)?a.domain:_.noOvrd;b=b||null;var E=a&&!_.isUndefined(a.referrer)?a.referrer:_.noOvrd;E=E||null;var A=a&&!_.isUndefined(a.organic)?a.organic:null;A=null!=A?A:null;var O=a&&!_.isUndefined(a.url)?a.url:_.noOvrd;O=O||null;var U=a&&!_.isUndefined(a.userId)&&a.userId&&(_.isString(a.userId)||_.isNumber(a.userId))?a.userId:null;U=U?U.toString():null;var T=a&&!_.isUndefined(a.onInit)?a.onInit:null;return i=new Tracker(e,t,o,k,y,m,w,b,O,E,A,U,T,s,l,d,g,h,p),{_disable:function(){return i.disable.apply(i,arguments)},_enable:function(){return i.enable.apply(i,arguments)},_enableEvents:function(){return i.enableEvents.apply(i,arguments)},_syncScroll:function(){return i.syncScroll.apply(i,arguments)},getUserId:function(){return i.getUserId.apply(i,arguments)},identify:function(){return i.identify.apply(i,arguments)},page:function(){return i.page.apply(i,arguments)},profile:function(){return i.profile.apply(i,arguments)},queue:function(){return i.queue.apply(i,arguments)},refreshContext:function(){return i.refreshContext.apply(i,arguments)},sync:function(){return i.sync.apply(i,arguments)},track:function(){return i.track.apply(i,arguments)},trackLink:function(){return i.trackLink.apply(i,arguments)},trackForm:function(){return i.trackForm.apply(i,arguments)},trackSync:function(){return i.trackSync.apply(i,arguments)},transaction:function(){return i.transaction.apply(i,arguments)}}}(e,t,r,n);return this._instances.push(i),i},Binder.prototype.bindMainInstance=function(e){var t=this._ry[_settings.MAIN_INSTANCE]=e;this._ry.getUserId=function(){return t.getUserId.apply(t,arguments)},this._ry.identify=function(){return t.identify.apply(t,arguments)},this._ry.page=function(){return t.page.apply(t,arguments)},this._ry.profile=function(){return t.profile.apply(t,arguments)},this._ry.refreshContext=function(){return t.refreshContext.apply(t,arguments)},this._ry.sync=function(){return t.sync.apply(t,arguments)},this._ry.track=function(){return t.track.apply(t,arguments)},this._ry.trackLink=function(){return t.trackLink.apply(t,arguments)},this._ry.trackForm=function(){return t.trackForm.apply(t,arguments)},this._ry.trackSync=function(){return t.trackSync.apply(t,arguments)},this._ry.transaction=function(){return t.transaction.apply(t,arguments)}},Binder.prototype.bindAllInstances=function(){if(this._ry._q)for(var e in this._ry._q){var t=this._ry._q[e].init;_.isArrayNullOrEmpty(t)||(_.isArrayNullOrEmpty(t[0])?_logger.warn("Unable to initialize new tracker, no api key provided for tracker '"+e+"'."):(this._ry[e]=this.createTracker(t[0][0],e,_trackerStatus.pending,t[0].length>1&&t[0][1]&&_.isObject(t[0][1])?t[0][1]:null),e==_settings.MAIN_INSTANCE&&this.bindMainInstance(this._ry[e])),this._ry._q[e].init=null)}},Binder.prototype.bindAllActions=function(){if(this._ry._q){for(var e in this._ry._q){var t={},r=null;for(var n in this._ry._q[e])if(n&&_.isString(n)){var i=[];this._ry._q[e][n]&&(i=this._ry._q[e][n]);var o=!1;"init"==n||"_q"==n||"page"!=n&&"identify"!=n&&"profile"!=n&&"sync"!=n&&"track"!=n&&"transaction"!=n&&"trackLink"!=n&&"trackForm"!=n||(o=!0),o&&(t[n]=i),"_q"==n&&(r=i)}this._ry[e]&&this._ry[e].queue&&this._ry[e].queue(t,r),this._ry._q[e]=null,this._ry[e]&&this._ry[e]._enable&&this._ry[e]._enable()}this._ry._q={}}},Binder.prototype.bindAllActionsEvent=function(){if(this._instances)for(var e=0;e<this._instances.length;e++){var t=this._instances[e];t&&t._enableEvents&&t._enableEvents()}},Binder.prototype.bindAllActionsScroll=function(){if(this._instances)for(var e=0;e<this._instances.length;e++){var t=this._instances[e];t&&t._syncScroll&&t._syncScroll()}};try{var _binder=new Binder(RY);function onDomLoaded(){try{onDomLoaded.set||(onDomLoaded.set=!0,_binder.bindAllActionsEvent())}catch(e){_logger.error("Failed to bind tracker actions on DOM loaded.",e)}}function onDomScrolled(){try{onDomScrolled.set||(onDomScrolled.set=!0,_binder.bindAllActionsScroll())}catch(e){_logger.error("Failed to bind tracker actions on DOM scrolled.",e)}}_binder.bindAllInstances(),RY._otf=function(){try{RY._ot=1;for(var e in RY)_.isObject(RY[e])&&_.isFunction(RY[e]._disable)&&RY[e]._disable(!0)}catch(e){_logger.error("Failed to disable tracker on optout.",e)}},RY.init=function(e,t){try{var r=t?_.isObject(t)&&t.name?t.name:null:_.isString(t)?t:null;if(!e)return void _logger.warn("Unable to init tracker, invalid apiKey="+(e?e.toString():"")+".");var n=r||_settings.MAIN_INSTANCE;RY[n]||(RY[n]=_binder.createTracker(e,n,_trackerStatus.enabled,t&&_.isObject(t)?t:null),n==_settings.MAIN_INSTANCE&&_binder.bindMainInstance(RY[n]))}catch(t){_logger.error("Failed to init tracker with apiKey="+(e?e.toString():"")+".",t)}},_binder.bindAllInstances(),_binder.bindAllActions(),_listener.onLoaded(onDomLoaded),_listener.onScrolled(onDomScrolled)}catch(e){_logger.error("Failed to init SDK.",e)}}var Be,Ce,De,Ee,Fe,Id,Jd,Kd,Ld,Pd,od,qd,rd,sd,Cc,Ec,Fc,Gc,Ic,Jc,ac,bc,cc,dc,ec,fc}(window.RY||{});

}
/*
     FILE ARCHIVED ON 02:12:52 Aug 02, 2018 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:49:28 Apr 16, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.747
  exclusion.robots: 0.09
  exclusion.robots.policy: 0.08
  cdx.remote: 0.06
  esindex: 0.011
  LoadShardBlock: 156.078 (3)
  PetaboxLoader3.datanode: 92.976 (5)
  PetaboxLoader3.resolve: 218.992 (3)
  load_resource: 296.616 (2)
*/